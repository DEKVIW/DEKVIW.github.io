<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>一些实用的BAT代码</title>
      <link href="/posts/74f18148933d/"/>
      <url>/posts/74f18148933d/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>bat代码使用方法：</p><ol><li>新建文本文档</li><li>把代码复制进去</li><li>另存为，编码格式改为ANSI，文件后缀改为<code>.bat</code></li></ol><h2 id="办公实用代码"><a href="#办公实用代码" class="headerlink" title="办公实用代码"></a>办公实用代码</h2><ul><li>强制删除顽固文件</li></ul><p>例如删除某个文件时出现<code>文件正在使用，操作无法完成，因为文件在资源管理器中打开</code>，但是又找不到哪条程序在使用该文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">DEL /F /A /Q \\?\%1</span><br><span class="line">RD /S /Q \\?\%1</span><br></pre></td></tr></table></figure><p><code>DEL</code>： 这是告诉计算机删除一个文件的主要命令。</p><p><code>/F</code>: 这是一个开关，告诉计算机强制删除该文件，即使该文件是只读的或目前正在被其他程序使用。</p><p><code>/A</code>: 这是另一个开关，告诉计算机删除具有某种属性的文件。在这种情况下，”A “代表 “归档”，所以该命令将删除具有归档属性的文件。</p><p><code>/Q</code>: 这是一个开关，告诉计算机悄悄地删除文件，而不提示用户确认删除。</p><p><code>\?</code>: 这是一个特殊的语法，告诉计算机对文件名使用Unicode路径语法。这种语法允许计算机处理长于260个字符的文件名。</p><p><code>%1</code>: 这是一个参数，指定你要删除的文件的文件名或路径。符号”%”告诉计算机这是一个参数，而 “1 “则指定它是批处理文件中的第一个参数。</p><p>因此，当你用文件名或路径作为参数运行这个命令时，它将强制删除任何带有 “归档 “属性的文件，并在不提示用户确认的情况下悄悄地进行，Unicode路径语法将被用来处理任何长于260个字符的文件名。</p><p><code>@echo off</code>详解：</p><p>在批处理文件中，”@echo off “命令是在脚本的开头使用的，用来关闭批处理文件中执行的命令的回音。当批处理文件中的 “echo “被打开时，在脚本中执行的每条命令在执行前都会显示在屏幕上。这在脚本的开发或调试过程中会有帮助。然而，对于大多数批处理文件来说，没有必要在屏幕上显示每条执行的命令，而且会使输出杂乱无章，难以阅读。这就是”@echo off “命令起作用的地方。把”@echo off “放在批处理文件的开头，它可以关闭命令的回声，使输出更干净，更容易阅读。在 “echo off “前面的”@”符号抑制了这个命令本身的回声，所以它不会显示在屏幕上。在这个例子中，”@echo off “命令被用来关闭后面的 “echo “命令的回声。只有 “这是一个批处理文件。”和 “它将执行一些动作。”的信息会显示在屏幕上。”pause “命令用于等待用户在继续执行脚本前按下一个键。”@echo off “命令也适用于 “pause “命令，所以提示用户按键的信息不会显示在屏幕上。</p><p><code>新建文档将代码复制进去，改文档后缀为bat。将顽固文件拖入bat即可删除</code></p><ul><li>设置txt、office背景护眼绿色</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg add <span class="string">&quot;HKCU\Control Panel\Colors&quot;</span> \</span><br><span class="line">/v Window \</span><br><span class="line">/t REG_SZ \</span><br><span class="line">/d <span class="string">&quot;202 234 206&quot;</span> \</span><br><span class="line">/f</span><br></pre></td></tr></table></figure><p><code>reg</code>：这是用来与Windows注册表互动的命令。<br><code>add</code>： 这是reg的一个子命令，可以向注册表添加一个新的子键。<br><code>&quot;HKCU\Control Panel\Colors&quot;</code>： 这是该命令要修改的注册表键的完整路径。在这种情况下，它指的是位于 “控制面板 “子键中的 “颜色 “子键，它位于 “HKCU”（HKEY_CURRENT_USER）根键之下。引号是用来确保命令正确识别作为单个参数的完整路径。<br><code>/v window</code>： 这指定了将被修改或创建的注册表值的名称。在这种情况下，值的名称是 “Window”。<br><code>/t REG_SZ</code>：这指定了值的数据类型。在这种情况下，它是一个字符串值，用REG_SZ表示。<br><code>/d &quot;202 234 206&quot;</code>: 这指定了要存储在该值中的数据。在这种情况下，它是一个由空格分隔的RGB颜色值的字符串。该值数据为 “202 234 206”，对应于淡绿色。<br><code>/f</code>: 这个标志用于强制命令覆盖任何现有的值而不提示确认。</p><p>恢复成默认的白色背景，把<code>202 234 206</code>改成<code>255 255 255</code>,然后重启电脑</p><ul><li>微信多开</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"></span><br><span class="line">start <span class="string">&quot;&quot;</span> <span class="string">&quot;C:\Program Files (x86)\Tencent\WeChat\WeChat.exe&quot;</span> /MultiInstance /config:<span class="string">&quot;C:\WeChatData1&quot;</span></span><br><span class="line"></span><br><span class="line">start <span class="string">&quot;&quot;</span> <span class="string">&quot;C:\Program Files (x86)\Tencent\WeChat\WeChat.exe&quot;</span> /MultiInstance /config:<span class="string">&quot;C:\WeChatData2&quot;</span></span><br><span class="line"></span><br><span class="line">start <span class="string">&quot;&quot;</span> <span class="string">&quot;C:\Program Files (x86)\Tencent\WeChat\WeChat.exe&quot;</span> /MultiInstance /config:<span class="string">&quot;C:\WeChatData3&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>把路径换成自己安装微信的路径，想多开几个就复制几行代码。上面代码可以多开3个微信</code></p><ul><li>新建文本文档</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> &gt; example.txt</span><br></pre></td></tr></table></figure><p><code>echo</code>命令详解：</p><p>在Windows命令提示符或批处理文件中，”echo “命令用于在屏幕上显示一条信息或一个变量的值。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> [message]</span><br></pre></td></tr></table></figure><p>“message “参数指定需要在屏幕上显示其值的文本或变量。</p><p>例如，如果你在命令提示符下运行echo Hello World命令，它将在屏幕上显示 “Hello World”。同样地，如果你运行echo %username%，它将显示你的Windows用户名。在使用批处理文件创建一个新的文本文件的情况下，”echo “命令被用来创建一个新的、具有指定名称的空文件。&gt;符号用于将 “echo “命令的输出重定向到一个文件，而不是在屏幕上显示。例如，如果你运行echo &gt; example.txt命令，它将在当前目录下创建一个名为 “example.txt “的新空文件。如果该文件已经存在，”echo “命令将用一个空字符串覆盖其内容。</p><ul><li>快速获取当前文件夹内所有文件的名字，并把所有名字保存到当前文件夹的file_list.txt文件</li></ul><p><code>要将文件名列表保存到当前文件夹下的文本文件中，可以使用&gt;符号将dir命令的输出重定向到一个文件中，像这样：</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">dir</span> /b &gt; file_list.txt</span><br></pre></td></tr></table></figure><p><code>&gt;</code>符号告诉命令提示符将<code>dir</code>命令的输出重定向到当前目录中一个名为file_list.txt的文件。<code>/b</code>选项将只列出文件名，没有任何附加信息。</p><p>将上述代码保存在一个扩展名为.bat的文件中（如save_files.bat），然后通过双击该文件来运行它。当前目录下所有文件的名称将被保存到同一目录下一个名为file_list.txt的文件中。</p><ul><li>批量重命名当前文件夹下的所有文件夹名称，新的文件夹名称按照阿拉伯数字从1开始依次命名</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">setlocal EnableDelayedExpansion</span><br><span class="line"><span class="built_in">set</span> a=0</span><br><span class="line"><span class="keyword">for</span> /d %%i <span class="keyword">in</span> (*) <span class="keyword">do</span> (</span><br><span class="line">    <span class="built_in">set</span> /A a+=1</span><br><span class="line">    ren <span class="string">&quot;%%i&quot;</span> <span class="string">&quot;!a!&quot;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><code>@echo off</code>： 该命令关闭了命令提示符窗口中的命令回声功能。当echo关闭时，命令提示符不会显示窗口中正在执行的命令。</p><p><code>setlocal EnableDelayedExpansion</code>： 这条命令可以启用脚本中变量的延迟扩展。延迟扩展意味着变量在执行的时候被扩展，而不是在解析的时候。</p><p><code>set a=0</code>: 这条命令将变量a的值设为0。</p><p><code>for /d %%i in (*) do ( )</code>： 这条命令启动一个for循环，遍历当前文件夹中的所有目录，对每个目录执行括号中的命令。变量%i被用来代表循环中的每个目录。</p><p><code>set /A a+=1</code>: 该命令将变量a的值增加1。/A选项指定该命令应将表达式作为一个算术表达式来计算。</p><p><code>ren &quot;%%i&quot; &quot;！a！&quot;</code>： 这条命令将%%i所代表的目录重命名为变量a的值。a周围的感叹号用于延迟扩展变量，因此在执行时它的值会被扩展</p><ul><li>批量更改文件名的一部分</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">set</span> /p <span class="string">&quot;str1=请输入要替换的文件(文件夹)名字符串(可替换空格)：&quot;</span></span><br><span class="line"><span class="built_in">set</span> /p <span class="string">&quot;str2=请输入替换后的文件(文件夹)名字符串(去除则直接回车)：&quot;</span></span><br><span class="line"><span class="built_in">echo</span>.</span><br><span class="line"><span class="built_in">echo</span> 正在修改文件(夹)名中，请稍候……</span><br><span class="line"><span class="keyword">for</span> /f <span class="string">&quot;delims=&quot;</span> %%a <span class="keyword">in</span> (<span class="string">&#x27;dir /s /b ^| sort /+65535&#x27;</span>) <span class="keyword">do</span> (</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;%%~nxa&quot;</span> neq <span class="string">&quot;%~nx0&quot;</span> (</span><br><span class="line">        <span class="built_in">set</span> <span class="string">&quot;file=%%a&quot;</span></span><br><span class="line">        <span class="built_in">set</span> <span class="string">&quot;name=%%~na&quot;</span></span><br><span class="line">        <span class="built_in">set</span> <span class="string">&quot;extension=%%~xa&quot;</span></span><br><span class="line">        setlocal enabledelayedexpansion</span><br><span class="line">        call <span class="built_in">set</span> <span class="string">&quot;name=%%name:%str1%=%str2%%%&quot;</span></span><br><span class="line">        ren <span class="string">&quot;!file!&quot;</span> <span class="string">&quot;!name!!extension!&quot;</span> 2&gt;nul</span><br><span class="line">        endlocal</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure><ul><li>一键分类文件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">setlocal EnableExtensions EnableDelayedExpansion</span><br><span class="line"><span class="keyword">for</span> %%i <span class="keyword">in</span> (*) <span class="keyword">do</span> (</span><br><span class="line">    md <span class="string">&quot;%%~xi&quot;</span></span><br><span class="line">    move <span class="string">&quot;*%%~xi&quot;</span> <span class="string">&quot;%%~xi&quot;</span></span><br><span class="line">)</span><br><span class="line">pause</span><br></pre></td></tr></table></figure><p>这里面的for循环，遍历当前文件夹中的所有文件，并对每个文件执行括号中的命令。变量%i被用来代表循环中的每个文件。在这个循环中，md命令创建了一个与当前文件扩展名相同的目录，而move命令将当前文件重命名到新创建的目录中，其扩展名为原文件。注意，~修饰符与%%i变量一起使用，可以从文件名中删除任何引号以及驱动器和路径信息，只留下文件扩展名。*字符被用作通配符，在移动命令中包括原始文件名。</p><p><code>pause</code>这条命令暂停了脚本的执行，等待用户按下某个键后再继续。这在从命令行运行脚本时很有用，这样就可以在窗口关闭前查看结果。</p><ul><li><p>打开记事本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">notepad</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>打开计算器：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">calc</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>打开控制面板：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">control</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>打开任务管理器：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">taskmgr</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>打开注册表：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">regedit</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>打开命令提示符：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmd</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>打开计算机管理：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compmgmt.msc</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>打开服务：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">services.msc</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>打开设备管理器：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">devmgmt.msc</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>打开本地安全策略：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">secpol.msc</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>打开本地组策略：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpedit.msc</span><br></pre></td></tr></table></figure></li></ul><h2 id="Win10快速去除桌面快捷方式图标箭头的方法"><a href="#Win10快速去除桌面快捷方式图标箭头的方法" class="headerlink" title="Win10快速去除桌面快捷方式图标箭头的方法"></a>Win10快速去除桌面快捷方式图标箭头的方法</h2><h3 id="错误方法，不推荐使用"><a href="#错误方法，不推荐使用" class="headerlink" title="错误方法，不推荐使用"></a>错误方法，不推荐使用</h3><p><a href="https://87csn.com/index.php/archives/22/">https://87csn.com/index.php/archives/22/</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Echo off</span><br><span class="line">　　color 2</span><br><span class="line">　　reg delete HKCR\lnkfile /v IsShortcut /f</span><br><span class="line">　　reg delete HKCR\piffile /v IsShortcut /f</span><br><span class="line">　　reg delete HKCR\InternetShortcut /v IsShortcut /f</span><br><span class="line">　　taskkill /f /im explorer.exe &amp;&amp; explorer</span><br></pre></td></tr></table></figure><p><a href="https://87csn.com/index.php/archives/22/">代码出处</a></p><p><code>@Echo off</code>： 这条命令关闭了命令提示符窗口中执行命令时的显示。</p><p><code>color 2</code>： 该命令将命令提示符窗口中显示的文本颜色改为绿色。</p><p><code>reg delete HKCR\lnkfile /v IsShortcut /f</code>： 该命令删除了将.lnk文件与IsShortcut值相关联的注册表键。</p><p><code>reg delete HKCR\piffile /v IsShortcut /f</code>： 该命令删除了将.pif文件与IsShortcut值相关联的注册表键。</p><p><code>reg delete HKCR\InternetShortcut /v IsShortcut /f</code>： 这个命令删除了将.url文件与IsShortcut值相关联的注册表键。</p><p>上面三行 “reg delete “是用来删除不同文件类型的指定注册表键中的 “IsShortcut “值。这实质上是删除了这些文件类型的文件图标上的快捷方式箭头覆盖物</p><p><code>taskkill /f /im explorer.exe</code>： 该命令强行终止Windows Explorer进程。</p><p><code>&amp;&amp; explorer</code>： 该命令再次启动Windows Explorer进程。</p><p><img src="https://eeimg.yilan.uk/i/2023/05/12/ltkwkj-1.webp" alt="jzvd16_clipdrop-cleanup"></p><p>以上的代码虽然可以去除箭头，但是右键此电脑点击管理的时候会出错：<code>该文件没有与之关联的程序来执行操作。请安装一个程序，或者，如果已安装程序，请在&quot;默认程序&quot; 控制面板中创建关联</code>，或者点击任务栏的快捷方式也会出现上面的错误。</p><ul><li>过期的解决方法：</li></ul><p><a href="https://www.yaxi.net/2015-10-31/612.html">https://www.yaxi.net/2015-10-31/612.html</a></p><p><a href="https://zhuanlan.zhihu.com/p/83930686">Windows 10 右键管理打不开，提示“该文件没有与之关联的程序 … “ - 知乎 (zhihu.com)</a></p><p><code>知乎的步骤1运行Windows键+R ，在运行框中输入compmgmt.msc,然后确定，如果弹出了设备管理器对话框，说明系统文件还未丢失，可以继续下一步。反之如果没有就说明系统文件丢失，需要用其他方式修复。</code>也可以通过这个方法打开计算机管理。</p><ul><li>正确解决方法</li></ul><p>恢复小箭头</p><p>桌面新建 txt，把下面的代码复制粘贴到 txt 文件，然后重命名为<code>1.bat</code>，右键<code>以管理员身份运行</code>。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">taskkill /f /im explorer.exe</span><br><span class="line">reg add <span class="string">&quot;HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\Shell Icons&quot;</span> /v 29 /d <span class="string">&quot;C:\Windows\system32\imageres.dll,154&quot;</span> /t reg_sz /f</span><br><span class="line">reg add <span class="string">&quot;HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\Shell Icons&quot;</span> /v 29 /d <span class="string">&quot;C:\Windows\system32\imageres.dll,154&quot;</span> /t reg_sz /f</span><br><span class="line">reg add <span class="string">&quot;HKEY_CLASSES_ROOT\lnkfile&quot;</span> /v IsShortcut /t reg_sz /f</span><br><span class="line">reg add <span class="string">&quot;HEKY_CLASSES_ROOT\piffile&quot;</span> /v IsShortcut /t reg_sz /f</span><br><span class="line">start explorer</span><br></pre></td></tr></table></figure><p>完成后，桌面图标的小箭头回来了，任务栏的快捷方式也恢复了正常，右键管理也不会出错。</p><p><a href="https://zhuanlan.zhihu.com/p/540781292">Windows11：该文件没有与之关联的应用来执行该操作 - 知乎 (zhihu.com)</a></p><h3 id="正确去除小箭头"><a href="#正确去除小箭头" class="headerlink" title="正确去除小箭头"></a>正确去除小箭头</h3><p><a href="https://zhuanlan.zhihu.com/p/540781292">Windows11：该文件没有与之关联的应用来执行该操作 - 知乎 (zhihu.com)</a></p><p>桌面新建 txt，把下面的代码复制粘贴到 txt 文件，然后重命名为<code>2.bat</code>，右键以管理员身份运行。</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">reg add &quot;HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\Shell Icons&quot; /v <span class="number">29</span> /d &quot;<span class="variable">%systemroot%</span>\system32\imageres.dll,<span class="number">197</span>&quot; /t reg_sz /f</span><br><span class="line"><span class="built_in">taskkill</span> /f /im explorer.exe</span><br><span class="line"><span class="built_in">attrib</span> -s -r -h &quot;<span class="variable">%userprofile%</span>\AppData\Local\iconcache.db&quot;</span><br><span class="line"><span class="built_in">del</span> &quot;<span class="variable">%userprofile%</span>\AppData\Local\iconcache.db&quot; /f /q</span><br><span class="line"><span class="built_in">start</span> explorer</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure><p><a href="https://wwqg.lanzouf.com/ioQ4l0w4ck7g">去除与恢复箭头bat下载</a></p><h2 id="娱乐一下"><a href="#娱乐一下" class="headerlink" title="娱乐一下"></a>娱乐一下</h2><ul><li><p>恶搞表白</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> 你的爱人想跟你视频通话！</span><br><span class="line">pause</span><br><span class="line"></span><br><span class="line">mshta vbscript:msgbox(<span class="string">&quot;你好！&quot;</span>,64,<span class="string">&quot;你的爱人&quot;</span>)(window.close)</span><br><span class="line">mshta vbscript:msgbox(<span class="string">&quot;你爱我吗？&quot;</span>,64+4,<span class="string">&quot;你的爱人&quot;</span>)(window.close)</span><br><span class="line">shutdown /r /f</span><br><span class="line">del 我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> msgbox<span class="string">&quot;你的系统即将重启！&quot;</span>,16,<span class="string">&quot;&quot;</span>&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> msgbox<span class="string">&quot;请马上说出我爱你！&quot;</span>,48,<span class="string">&quot;&quot;</span>&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> text()&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> <span class="keyword">function</span> text()&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> dim a&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> a=InputBox(<span class="string">&quot;请大声说出我爱你！&quot;</span>)&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> <span class="keyword">if</span> a=<span class="string">&quot;我爱你&quot;</span><span class="keyword">then</span>&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> Msgbox<span class="string">&quot;我记住了哦。&quot;</span>,48,<span class="string">&quot;爱人&quot;</span>&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> msgbox<span class="string">&quot;你爱我，我爱你...&quot;</span>,64,<span class="string">&quot;&quot;</span>&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> msgbox<span class="string">&quot;毕...&quot;</span>,64,<span class="string">&quot;&quot;</span>&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> msgbox<span class="string">&quot;行了行了！马上就要重启了，请点击确定取消重启。&quot;</span>,64,<span class="string">&quot;&quot;</span>&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> Dim Wsh&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> Set Wsh = WScript.CreateObject(<span class="string">&quot;WScript.Shell&quot;</span>)&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> Wsh.Run <span class="string">&quot;cmd.exe /c shutdown /a&quot;</span>&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> msgbox<span class="string">&quot;通话结束！&quot;</span>,16,<span class="string">&quot;视频通话&quot;</span>&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> <span class="keyword">else</span>&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> msgbox<span class="string">&quot;你必须爱我！&quot;</span>,16,<span class="string">&quot;&quot;</span>&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> text()&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> end <span class="keyword">if</span>&gt;&gt;我爱你.vbs</span><br><span class="line"><span class="built_in">echo</span> end <span class="keyword">function</span>&gt;&gt;我爱你.vbs</span><br><span class="line">start <span class="string">&quot;&quot;</span> <span class="string">&quot;我爱你.vbs&quot;</span></span><br></pre></td></tr></table></figure></li></ul><p>真的会关机，不要运行！！！实在好奇，确保电脑闲置时尝试点击！！！或者直接把<code>shutdown</code>行删掉玩玩</p><blockquote><p>参考资料:</p><p><a href="https://blog.csdn.net/weixin_39715348/article/details/110583455">https://blog.csdn.net/weixin_39715348/article/details/110583455</a></p><p><a href="https://zhuanlan.zhihu.com/p/85878156">https://zhuanlan.zhihu.com/p/85878156</a></p><p><a href="https://www.bilibili.com/video/BV1S5411X7aw/">https://www.bilibili.com/video/BV1S5411X7aw/</a></p></blockquote><h2 id="清理电脑垃圾的"><a href="#清理电脑垃圾的" class="headerlink" title="清理电脑垃圾的"></a>清理电脑垃圾的</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> 正在清除系统垃圾文件，请稍等......</span><br><span class="line">del /f /s /q  %systemdrive%\*.tmp</span><br><span class="line">del /f /s /q  %systemdrive%\*._mp</span><br><span class="line">del /f /s /q  %systemdrive%\*.<span class="built_in">log</span></span><br><span class="line">del /f /s /q  %systemdrive%\*.gid</span><br><span class="line">del /f /s /q  %systemdrive%\*.chk</span><br><span class="line">del /f /s /q  %systemdrive%\*.old</span><br><span class="line">del /f /s /q  %windir%\*.bak</span><br><span class="line">del /f /q %userprofile%\recent\*.*</span><br><span class="line">del /f /s /q  <span class="string">&quot;%userprofile%\Local Settings\TemporaryInternet Files\*.*&quot;</span></span><br><span class="line">del /f /s /q  <span class="string">&quot;%userprofile%\LocalSettings\Temp\*.*&quot;</span></span><br><span class="line">del /f /s /q  <span class="string">&quot;%userprofile%\recent\*.*&quot;</span></span><br><span class="line"><span class="built_in">echo</span> 清除系统LJ完成！</span><br><span class="line"><span class="built_in">echo</span>. &amp;amp; pause</span><br></pre></td></tr></table></figure><p><code>这是一段批处理脚本，用于清除 Windows 系统中的一些临时文件和垃圾文件。下面是对该脚本的详细解释：</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br></pre></td></tr></table></figure><p>这行命令用于关闭命令行窗口上的回显。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> 正在清除系统垃圾文件，请稍等......</span><br></pre></td></tr></table></figure><p>这行命令输出一个文本消息，提示用户正在进行系统垃圾文件清除操作。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">del /f /s /q  %systemdrive%\*.tmp</span><br><span class="line">del /f /s /q  %systemdrive%\*._mp</span><br><span class="line">del /f /s /q  %systemdrive%\*.<span class="built_in">log</span></span><br><span class="line">del /f /s /q  %systemdrive%\*.gid</span><br><span class="line">del /f /s /q  %systemdrive%\*.chk</span><br><span class="line">del /f /s /q  %systemdrive%\*.old</span><br></pre></td></tr></table></figure><p>这些行命令使用 del 命令删除系统盘中的一些临时文件和垃圾文件，包括 .tmp、._mp、.log、.gid、.chk 和 .old 类型的文件。/f 参数用于强制删除文件，/s 参数用于在子目录中查找并删除文件，/q 参数用于静默删除文件。</p><p>.tmp、._mp、.log、.gid、.chk 和 .old 是一些常见的临时文件和垃圾文件的文件扩展名。这些文件通常是由程序或操作系统创建的，用于暂时存储数据或记录系统运行日志等信息。这些文件通常会占用硬盘空间并降低系统性能，因此定期清除它们可以帮助保持系统的运行效率。</p><p>以下是这些文件的一些解释：</p><ul><li>.tmp：这是一个通用的临时文件扩展名，许多程序都会使用它来创建临时文件。</li><li>.log：这是记录程序或系统运行日志的文件扩展名。</li><li>.gid：这是 Windows 帮助文件索引文件的文件扩展名。</li><li>.chk：这是由 Windows 磁盘检查程序创建的磁盘碎片文件。</li><li>.old：这是一些旧的文件备份或版本文件的文件扩展名。</li><li>._mp：这是一些临时媒体文件的文件扩展名，如音频或视频文件。</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">del /f /s /q  %windir%\*.bak</span><br></pre></td></tr></table></figure><p>这行命令删除 Windows 目录中的所有 .bak 类型的文件，同样使用了 /f、/s 和 /q 参数。</p><p>.bak 是备份文件的文件扩展名，通常用于表示原始文件的备份或副本。在许多应用程序中，当您保存现有文件时，该应用程序会自动生成具有 .bak 扩展名的备份文件，以便在需要时恢复早期版本的文件。备份文件也可以手动创建，以便在进行更改之前保留原始文件的副本。备份文件通常用于数据恢复或保护数据免受意外修改或数据损坏的影响。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">del /f /q %userprofile%\recent\*.*</span><br></pre></td></tr></table></figure><p>这行命令删除当前用户的最近使用文档列表中的所有文件，同样使用了 /f 和 /q 参数。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">del /f /s /q  <span class="string">&quot;%userprofile%\Local Settings\TemporaryInternet Files\*.*&quot;</span></span><br><span class="line">del /f /s /q  <span class="string">&quot;%userprofile%\LocalSettings\Temp\*.*&quot;</span></span><br><span class="line">del /f /s /q  <span class="string">&quot;%userprofile%\recent\*.*&quot;</span></span><br></pre></td></tr></table></figure><p>这些行命令删除当前用户的 Internet Explorer 临时文件、临时文件夹和最近使用文档列表中的文件，同样使用了 /f、/s 和 /q 参数。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> 清除系统LJ完成！</span><br><span class="line"><span class="built_in">echo</span>. &amp;amp; pause</span><br></pre></td></tr></table></figure><p>这两行命令输出一个文本消息，提示用户系统垃圾文件清除完成。第二行使用了 &amp; 符号来在一行中执行两个命令：echo. 用于输出一个空行，pause 用于暂停命令行窗口的执行，等待用户按下任意键继续。</p>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> win10 </tag>
            
            <tag> 干货 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何在服务器上搭建在线音乐播放器</title>
      <link href="/posts/d7531faeb39e/"/>
      <url>/posts/d7531faeb39e/</url>
      
        <content type="html"><![CDATA[<h1 id="个人成功搭建"><a href="#个人成功搭建" class="headerlink" title="个人成功搭建"></a>个人成功搭建</h1><h2 id="选择下面的开源项目"><a href="#选择下面的开源项目" class="headerlink" title="选择下面的开源项目"></a>选择下面的开源项目</h2><p><a href="https://github.com/mxue12138/MKOnlineMusicPlayer">https://github.com/mxue12138/MKOnlineMusicPlayer</a></p><p>搭建方法非常简单，把开源项目的压缩包下载下来，然后上传到服务器。必须上传到服务器才能使用，本地打开抓取不到歌曲，无法使用</p><h3 id="运行环境"><a href="#运行环境" class="headerlink" title="运行环境"></a>运行环境</h3><p>php 5.4+, curl_exec, file_get_contents, json_decode, openssl_encrypt</p><h3 id="必要配置"><a href="#必要配置" class="headerlink" title="必要配置"></a>必要配置</h3><ol><li><p><strong>[清除缓存]</strong> 请务必添加以下代码到cron定时任务，并设置成每分钟执行一次，否则会导致用户歌单、歌曲列表、歌词等更新不及时，宝塔用户可以直接设置“计划任务”并选择“Shell脚本”</p><p><code>find 你的网站绝对路径/cache/*.json -type f -cmin +30 -exec rm -fv &#123;&#125; \;</code></p><p>如果是虚拟主机没办法添加Shell脚本的话，可以使用网站监控，监控“你的域名/api.php?types=cache”，监控时间推荐一分钟。</p><p>如果以上都不行的话，可以直接关闭 api.php 内的缓存(关闭缓存可能会导致偶尔无法获取音乐)。</p></li><li><p><strong>[下载歌曲]</strong> 添加以下代码到你的网站配置文件，推荐添加到php引用之前，否则可能导致恶意php被执行(不添加会导致网站异常、歌曲无法下载等)</p><p>apache：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory &quot;你的网站绝对路径/temp/&quot;&gt;</span><br><span class="line">    Header set Content-Type &quot;application/octet-stream&quot;</span><br><span class="line">    Header set Content-Disposition &quot;attachment;&quot;</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><p>nginx：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location ~/temp/ &#123;</span><br><span class="line">    add_header Content-Type &quot;application/octet-stream&quot;;</span><br><span class="line">    add_header Content-Disposition &quot;attachment;&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>[跨域设置]</strong> 如果网站和接口不在一台服务器上，请将上面的代码添加到接口所在的服务器，并且还需要在接口所在的服务器的网站配置添加以下代码以解决跨域问题</p><p>apache：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Header set Access-Control-Allow-Origin &quot;*&quot;</span><br><span class="line">Header set Access-Control-Allow-Headers &quot;X-Requested-With&quot;</span><br><span class="line">Header set Access-Control-Allow-Methods &quot;GET,POST,OPTIONS&quot;</span><br></pre></td></tr></table></figure><p>nginx：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">add_header Access-Control-Allow-Origin *;</span><br><span class="line">add_header Access-Control-Allow-Headers X-Requested-With;</span><br><span class="line">add_header Access-Control-Allow-Methods GET,POST,OPTIONS;</span><br></pre></td></tr></table></figure></li></ol><h2 id="个人搭建过程："><a href="#个人搭建过程：" class="headerlink" title="个人搭建过程："></a><strong>个人搭建过程：</strong></h2><p>php选择的7.0，这一串<code>curl_exec, file_get_contents, json_decode, openssl_encrypt</code>应该是php函数，在php7.0中没找到，所以没有设置</p><h3 id="如何取消进站弹窗公告"><a href="#如何取消进站弹窗公告" class="headerlink" title="如何取消进站弹窗公告"></a><code>如何取消进站弹窗公告</code></h3><p>打开<code>js/player.js</code>,把placard设为false（代码都有注释，很容易修改）</p><h3 id="如何启用下载功能"><a href="#如何启用下载功能" class="headerlink" title="如何启用下载功能"></a><code>如何启用下载功能</code></h3><p>按照上面给服务器添加网址配置代码，然后给网站申请ssl证书即可。</p><h1 id="网上方法（未测试）"><a href="#网上方法（未测试）" class="headerlink" title="网上方法（未测试）"></a>网上方法（未测试）</h1><p>现在的音乐软件界面和布局越来越花哨，越来越偏向于社交，但是许多人真的只是想安安静静地欣赏一首音乐，不想看一堆广告和评论，而这就是自建在线音乐服务的意义，无人打扰，无广告，回归初心。</p><p>另外，如果你没有自己的服务器也没有关系，直接使用现成搭好的就行</p><p>mmPlayer 作者搭建的在线播放器Demo: <a href="https://netease-music.fe-mm.com/">https://netease-music.fe-mm.com/</a></p><p>我自己搭建的在线播放器服务: <a href="https://music.hash070.top/">https://music.hash070.top/</a></p><p>上面就是本次我们要搭建的在线播放器的示例，没有服务器或懒得自己搭建的小伙伴们把这个网站直接收藏使用就可以了，下面是服务器搭建流程（本教程基于宝塔面板 宝塔yyds）</p><p>原创地址：<a href="https://www.hash070.top/archives/online-music-player-setup.html">https://www.hash070.top/archives/online-music-player-setup.html</a></p><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="搭建在线音乐播放器所用到的服务"><a href="#搭建在线音乐播放器所用到的服务" class="headerlink" title="搭建在线音乐播放器所用到的服务"></a>搭建在线音乐播放器所用到的服务</h3><p>后端音乐服务接口NeteaseCloudMusicApi GitHub链接:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/Binaryify/NeteaseCloudMusicApi</span><br></pre></td></tr></table></figure><p>前端mmPlayer GitHub链接:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/maomao1996/Vue-mmPlayer</span><br></pre></td></tr></table></figure><h2 id="搭建后端服务"><a href="#搭建后端服务" class="headerlink" title="搭建后端服务"></a>搭建后端服务</h2><ul><li>将后端服务克隆下来并执行安装</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#我这边将这些文件放在了/www/wwwroot/文件夹下</span><br><span class="line"></span><br><span class="line">#进入/www/wwwroot/文件夹</span><br><span class="line">cd /www/wwwroot/</span><br><span class="line"></span><br><span class="line">#克隆音乐后端服务项目到该文件夹(如果由于网络原因下载失败，也可以直接点击上面的链接去github下载压缩包并解压上传到服务器)</span><br><span class="line">git clone https://github.com/Binaryify/NeteaseCloudMusicApi.git</span><br><span class="line">#进入克隆下来目录</span><br><span class="line">cd NeteaseCloudMusicApi/</span><br><span class="line">#执行安装命令</span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line">#如果提示npm命令不存在，则您应当手动安装nodejs和npm</span><br><span class="line">#安装命令(CentOS)：</span><br><span class="line">yum install nodejs</span><br><span class="line">yum install npm</span><br><span class="line">#如果执行npm命令提示链接错误等信息，则您应当尝试卸载并重新安装nodejs和npm</span><br><span class="line">#卸载命令(CentOS)</span><br><span class="line">yum remove nodejs</span><br><span class="line">yum remove npm</span><br></pre></td></tr></table></figure><ul><li>在宝塔面板的软件商店中下载PM2管理器</li></ul><p><img src="https://img.hash070.top/i/638ab4520c2f8.webp" alt="img"></p><ul><li>进入PM2管理器小工具界面，填写信息</li></ul><p><img src="https://img.hash070.top/i/638ab451d7afc.webp" alt="img"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#启动文件填写</span><br><span class="line">/www/wwwroot/NeteaseCloudMusicApi/app.js</span><br><span class="line">#运行目录填写</span><br><span class="line">/www/wwwroot/NeteaseCloudMusicApi</span><br></pre></td></tr></table></figure><ul><li>填写完成后点击提交可以看到项目运行成功</li></ul><p><img src="https://img.hash070.top/i/638ab45191275.webp" alt="img"></p><p>至此，后端服务搭建成功。接下来进行构建和部署前端页面</p><h2 id="构建和部署前端页面"><a href="#构建和部署前端页面" class="headerlink" title="构建和部署前端页面"></a>构建和部署前端页面</h2><ul><li>将前端项目使用git clone命令或者自行下载并上传到服务器上</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#同样的,进入/www/wwwroot/文件夹</span><br><span class="line">cd /www/wwwroot/</span><br><span class="line">#克隆项目</span><br><span class="line">git clone https://github.com/maomao1996/Vue-mmPlayer.git</span><br></pre></td></tr></table></figure><ul><li>进入项目目录，安装依赖并打包</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#进入项目目录</span><br><span class="line">cd Vue-mmPlayer</span><br><span class="line">#安装依赖</span><br><span class="line">npm install</span><br><span class="line">#编译打包</span><br><span class="line">npm run build</span><br></pre></td></tr></table></figure><ul><li>执行编译打包命令之后，在该项目目录中会出现一个dict文件夹，里面就是生成的网站了</li></ul><p><img src="https://img.hash070.top/i/638ab451d883b.webp" alt="img"></p><ul><li>这些文件先放着，去创建一个网站</li></ul><p><img src="https://img.hash070.top/i/638ab451b06a6.webp" alt="img"></p><ul><li>如图所示，我用的是阿里云dns，选择添加域名解析，到服务器ip</li></ul><p><img src="https://img.hash070.top/i/638ab451d4d56.webp" alt="img"></p><ul><li>等待解析生效，当访问域名时能够看到站点创建成功的页面后进行下一步操作</li></ul><p><img src="https://img.hash070.top/i/638ab4525a9c3.webp" alt="img">站点创建成功页面</p><ul><li>将上面编译生成的dist目录下的全部文件，覆盖到该网站的根目录下，就算大功告成了</li></ul><p><img src="https://img.hash070.top/i/638ab452c7497.webp" alt="img"></p><p><img src="https://img.hash070.top/i/638ab452ec615.webp" alt="img"></p><p><img src="https://img.hash070.top/i/638ab452bf8ea.webp" alt="img">这里可以查看网站根目录</p><p>至此在线音乐播放器基本就算是部署完成了，直接访问对应的域名就可以使用了。</p><p>下面是进阶教程，就不写太详细了，建议有基础的继续看下去，教大家如何部署SSL证书，开启https访问。</p><h2 id="为该网站部署SSL证书并开启HTTPS"><a href="#为该网站部署SSL证书并开启HTTPS" class="headerlink" title="为该网站部署SSL证书并开启HTTPS"></a>为该网站部署SSL证书并开启HTTPS</h2><h3 id="如果你没有或没听说过SSL证书，那么首先要去申请SSL证书"><a href="#如果你没有或没听说过SSL证书，那么首先要去申请SSL证书" class="headerlink" title="如果你没有或没听说过SSL证书，那么首先要去申请SSL证书"></a>如果你没有或没听说过SSL证书，那么首先要去申请SSL证书</h3><p>好消息是宝塔有傻瓜式的脚本来一键申请SSL证书，按着提示一步一步跟着做就行了，非常简单</p><p>建议申请一个通配符证书，即所有的二级域名都能使用这个证书，省去很多麻烦</p><p>至于更详细的API key怎么获得的我就暂时不写了，大致按着这个图配置就行</p><p><img src="https://img.hash070.top/i/638ab452e77a1.webp" alt="img"></p><h3 id="给后端接口套一个反向代理"><a href="#给后端接口套一个反向代理" class="headerlink" title="给后端接口套一个反向代理"></a>给后端接口套一个反向代理</h3><p>由于前端要开启Https，后端的接口也要开Https，否则会出错</p><p>我的思路是创建一个站点并配置好SSL证书，专门用来代理后端音乐接口</p><p>如下图所示</p><p><img src="https://img.hash070.top/i/638ab4531c08b.webp" alt="img"></p><h3 id="修改前端的接口配置文件并重新编译部署网站"><a href="#修改前端的接口配置文件并重新编译部署网站" class="headerlink" title="修改前端的接口配置文件并重新编译部署网站"></a>修改前端的接口配置文件并重新编译部署网站</h3><p>找到前端项目目录里面的vue.conf.js文件，将接口地址改为上面的网站地址</p><p><img src="https://img.hash070.top/i/638ab453406ec.webp" alt="img"></p><p>然后重新执行一遍编译操作，把文件复制黏贴到播放器网站的根目录即可</p><p><img src="https://img.hash070.top/i/638ab453406ec.webp" alt="img"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#编译命令(在vue-netease-music目录下执行)</span><br><span class="line">npm run build</span><br></pre></td></tr></table></figure><h2 id="还有一点点小问题"><a href="#还有一点点小问题" class="headerlink" title="还有一点点小问题"></a>还有一点点小问题</h2><p>当这个播放器的网页失去焦点时，标题会变成一个令人感到不适的句子，我知道这里作者只是想开个玩笑，但这个地方确实不太好</p><p>网页失去焦点后的标题</p><p>网页得到焦点时的标题，可以看出作者并没有主观上的恶意</p><p>所以就想着手动修改一下这个地方</p><p>思路，首先控制这个的一定是一个JavaScript脚本，使用Linux系统的Find命令，查找该网站目录下以js为后缀名，内容中含有关键词“死鬼”的文件，命令如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /www/wwwroot/music.hash070.top -name &quot;*.js&quot; | xargs grep &quot;死鬼&quot;</span><br></pre></td></tr></table></figure><p>执行完后，命令行会返回文件的名称和包含该关键词的行</p><p>相关的文件在网站的js目录下的app.7b9843e2.js里面</p><p>进入文件再使用查找替换，换成自己想要的词就行了</p><p><img src="https://img.hash070.top/i/638ab453dd7e4.webp" alt="img"></p><p>好的，教程至此结束，祝大家用的愉快</p>]]></content>
      
      
      <categories>
          
          <category> 转载 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宝塔建站 </tag>
            
            <tag> 在线音乐 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>中国地图矢量图下载：省地图、市级地图、区级地图矢量图</title>
      <link href="/posts/8ed099796e8a/"/>
      <url>/posts/8ed099796e8a/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>用户最近需要地图素材，但发现难以找到符合要求的素材且使用AI无损放大会影响准确性，故需要使用矢量图。本文介绍如何使用阿里云数据可视化平台下载中国、省、市地图的矢量图，同时提供懒人包下载链接。最近有地图素材的需求，发现很多素材网站要么太难找要么需要花钱，之后弄完发现根本不是自己想要的样子。而且对于地图素材来说是一个准确度要求极高的。所以是不能使用AI无损放大等方式将地图素材改变。所以需要使用矢量图。这个文章将介绍在哪里下载矢量图以及下载方法。<code>转载自</code><a href="https://blog.zhheo.com/p/63718cef.html">张洪HEO</a></p><h2 id="使用阿里云数据可视化平台"><a href="#使用阿里云数据可视化平台" class="headerlink" title="使用阿里云数据可视化平台"></a>使用阿里云数据可视化平台</h2><p><a href="https://datav.aliyun.com/portal/school/atlas/area_selector">进入阿里云地图数据可视化平台</a></p><p><img src="https://eeimg.yilan.uk/i/2023/04/25/udbrq7-1.webp" alt="界面"></p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>在左侧地图区域，点击你需要下载的国家，省，市，然后点击右侧的svg下载。</p><h2 id="地图演示"><a href="#地图演示" class="headerlink" title="地图演示"></a>地图演示</h2><ul><li>长春市</li></ul><p><img src="https://eeimg.yilan.uk/i/2023/04/25/ueb3af-1.webp" alt="长春市"></p><ul><li>上海市</li></ul><p><img src="https://eeimg.yilan.uk/i/2023/04/25/uf2mu4-1.webp" alt="上海市"></p><ul><li>中华人民共和国</li></ul><p><img src="https://eeimg.yilan.uk/i/2023/04/25/ugbabb-1.webp" alt="中华人民共和国"></p>]]></content>
      
      
      <categories>
          
          <category> 转载 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 干货 </tag>
            
            <tag> 地图 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>汇总一些hexo-butterfly魔改方案</title>
      <link href="/posts/06551b4b6653/"/>
      <url>/posts/06551b4b6653/</url>
      
        <content type="html"><![CDATA[<h2 id="大佬们的魔改记录"><a href="#大佬们的魔改记录" class="headerlink" title="大佬们的魔改记录"></a>大佬们的魔改记录</h2><div class="btn-left"><a class="btn-beautify outline larger" href="https://cnhuazhu.top/butterfly/2021/03/28/Hexo%E9%AD%94%E6%94%B9/Hexo%E9%AD%94%E6%94%B9%E8%AE%B0%E5%BD%95/"   title="点击跳转 至 《花猪魔改记录》"><i class="far fa-hand-point-right"></i><span>点击跳转 至 《花猪魔改记录》</span></a><br><a class="btn-beautify outline blue larger" href="https://xiabor.com/4215.html#%E4%BF%AE%E6%94%B9%E4%B8%BB%E9%A2%98%EF%BC%8C%E5%85%88%E8%A3%85%E4%BE%9D%E8%B5%96"   title="点击跳转 至 《Butterfly 主题更新总结》，MuJin's Blog"><i class="far fa-hand-point-right"></i><span>点击跳转 至 《Butterfly 主题更新总结》，MuJin's Blog</span></a><br><a class="btn-beautify outline pink larger" href="https://akilar.top/posts/f99b208/"   title="点击跳转 至《Butterfly主题美化日记》，akilar"><i class="far fa-hand-point-right"></i><span>点击跳转 至《Butterfly主题美化日记》，akilar</span></a><br><a class="btn-beautify outline red larger" href="https://blog.eurkon.com/categories/%E9%AD%94%E6%94%B9%E6%95%99%E7%A8%8B/"   title="点击跳转 至《魔改教程》，Eurkon"><i class="far fa-hand-point-right"></i><span>点击跳转 至《魔改教程》，Eurkon</span></a><br><a class="btn-beautify outline purple larger" href="https://butterfly.js.org/"   title="点击跳转 至《Butterfly主题美化教程》，HEO"><i class="far fa-hand-point-right"></i><span>点击跳转 至《Butterfly主题美化教程》，HEO</span></a><br><a class="btn-beautify outline orange larger" href="https://zsyyblog.com/dd40c9f4.html"   title="点击跳转 至《hexo博客上手入门指南》竹山一叶"><i class="far fa-hand-point-right"></i><span>点击跳转 至《hexo博客上手入门指南》竹山一叶</span></a><br><a class="btn-beautify outline green larger" href="https://zfe.space/categories/%E6%95%99%E7%A8%8B/"   title="点击跳转 至《小冰魔改教程》"><i class="far fa-hand-point-right"></i><span>点击跳转 至《小冰魔改教程》</span></a><a class="btn-beautify outline green larger" href="https://guole.fun/posts/butterfly-custom/"   title="点击跳转 我的BLOG美化日记，guole博客"><i class="far fa-hand-point-right"></i><span>点击跳转 我的BLOG美化日记，guole博客</span></a></div><h2 id="写作"><a href="#写作" class="headerlink" title="写作"></a>写作</h2><a class="btn-beautify outline purple larger" href="https://zykj.js.org/posts/e297feab/#Note"   title="Butterfly 主题魔改样式查阅，ZYKJ's Blog"><i class="far fa-hand-point-right"></i><span>Butterfly 主题魔改样式查阅，ZYKJ's Blog</span></a><h2 id="修改顶端菜单栏字体大小"><a href="#修改顶端菜单栏字体大小" class="headerlink" title="修改顶端菜单栏字体大小"></a>修改顶端菜单栏字体大小</h2><a class="btn-beautify outline purple larger" href="https://xiabor.com/4215.html#%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96"   title="Butterfly 主题更新总结，自定义样式"><i class="far fa-hand-point-right"></i><span>Butterfly 主题更新总结，自定义样式</span></a><p>在路径 <code>themes\Butterfly\source\css\_layout\head.styl</code>下查找.<code>site-page</code>，设置 font-size 为.90em</p><p><img src="https://eeimg.yilan.uk/i/2023/04/07/fu28po.webp" alt=""></p><h2 id="修改页面宽度"><a href="#修改页面宽度" class="headerlink" title="修改页面宽度"></a>修改页面宽度</h2><p><a href="https://yisous.xyz/posts/d1fc759/#%E5%9F%BA%E7%A1%80">Hexo Butterfly宽屏适配指北</a></p><h2 id="关于页面"><a href="#关于页面" class="headerlink" title="关于页面"></a>关于页面</h2><p><a href="https://opeach.cn/posts/dab4.html">https://opeach.cn/posts/dab4.html</a></p><h2 id="随机文章"><a href="#随机文章" class="headerlink" title="随机文章"></a>随机文章</h2><p><a href="https://blog.zhheo.com/p/c116857c.html">Hexo的Butterfly魔改：随机网页跳转（无缝版）</a></p><h2 id="复制弹窗-完成"><a href="#复制弹窗-完成" class="headerlink" title="复制弹窗(完成)"></a>复制弹窗(完成)</h2><p><a href="https://blog1.4t.pw/posts/3296cbc9.html#%E6%AC%A2%E8%BF%8E%E5%BC%B9%E7%AA%97%E6%8F%90%E7%A4%BA%E9%A1%B5%E9%9D%A2">hexo主题butterfly顶部复制提示弹窗</a></p><p>注意：</p><ul><li>在主题配置文件中把<code>snackbar</code>打开</li><li>打开Pjax</li></ul><p>Pjax能够实现页面的局部刷新而非整体重载资源，在一定程度上能够减少网站反复加载重复资源，从而优化访问体验。如果不开pjax，每次点击都会提示欢迎光临</p><h2 id="为你的Butterfly添加顶部加载进度条"><a href="#为你的Butterfly添加顶部加载进度条" class="headerlink" title="为你的Butterfly添加顶部加载进度条"></a>为你的Butterfly添加顶部加载进度条</h2><p><a href="https://blog.xlenco.top/posts/769f.html">为你的Butterfly添加顶部加载进度条</a></p><h2 id="网站底部运行时间"><a href="#网站底部运行时间" class="headerlink" title="网站底部运行时间"></a>网站底部运行时间</h2><p><a href="https://blog1.4t.pw/posts/28ae4987.html">https://blog1.4t.pw/posts/28ae4987.html</a></p><h2 id="hexo部署到vps"><a href="#hexo部署到vps" class="headerlink" title="hexo部署到vps"></a>hexo部署到vps</h2><p><a href="https://blog.zhheo.com/p/12a4e7e6.html">https://blog.zhheo.com/p/12a4e7e6.html</a></p><p><a href="https://blog.gmcj0816.top/posts/47c1249e/">https://blog.gmcj0816.top/posts/47c1249e/</a></p><h2 id="标签上标"><a href="#标签上标" class="headerlink" title="标签上标"></a>标签上标</h2><p><a href="https://blog.jayhrn.com/posts/e48aed0.html">Butterfly标签云增加文章数上下标</a></p><p>到<code>\themes \butterfly\scripts \helpers\page.js</code>搜索 <code>cloudTags</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">hexo.<span class="property">extend</span>.<span class="property">helper</span>.<span class="title function_">register</span>(<span class="string">&#x27;cloudTags&#x27;</span>, <span class="keyword">function</span> (<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> theme = hexo.<span class="property">theme</span>.<span class="property">config</span></span><br><span class="line">  <span class="keyword">const</span> env = <span class="variable language_">this</span></span><br><span class="line">  <span class="keyword">let</span> source = options.<span class="property">source</span></span><br><span class="line">  <span class="keyword">const</span> minfontsize = options.<span class="property">minfontsize</span></span><br><span class="line">  <span class="keyword">const</span> maxfontsize = options.<span class="property">maxfontsize</span></span><br><span class="line">  <span class="keyword">const</span> limit = options.<span class="property">limit</span></span><br><span class="line">  <span class="keyword">const</span> unit = options.<span class="property">unit</span> || <span class="string">&#x27;px&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> result = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="keyword">if</span> (limit &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    source = source.<span class="title function_">limit</span>(limit)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> sizes = []</span><br><span class="line">  source.<span class="title function_">sort</span>(<span class="string">&#x27;length&#x27;</span>).<span class="title function_">forEach</span>(<span class="function"><span class="params">tag</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; length &#125; = tag</span><br><span class="line">    <span class="keyword">if</span> (sizes.<span class="title function_">includes</span>(length)) <span class="keyword">return</span></span><br><span class="line">    sizes.<span class="title function_">push</span>(length)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> length = sizes.<span class="property">length</span> - <span class="number">1</span></span><br><span class="line">  source.<span class="title function_">forEach</span>(<span class="function"><span class="params">tag</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> ratio = length ? sizes.<span class="title function_">indexOf</span>(tag.<span class="property">length</span>) / length : <span class="number">0</span></span><br><span class="line">    <span class="keyword">const</span> size = minfontsize + ((maxfontsize - minfontsize) * ratio)</span><br><span class="line">    <span class="keyword">let</span> style = <span class="string">`font-size: <span class="subst">$&#123;<span class="built_in">parseFloat</span>(size.toFixed(<span class="number">2</span>))&#125;</span><span class="subst">$&#123;unit&#125;</span>;`</span></span><br><span class="line">    <span class="keyword">const</span> color = <span class="string">&#x27;rgb(&#x27;</span> + <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">201</span>) + <span class="string">&#x27;, &#x27;</span> + <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">201</span>) + <span class="string">&#x27;, &#x27;</span> + <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">201</span>) + <span class="string">&#x27;)&#x27;</span> <span class="comment">// 0,0,0 -&gt; 200,200,200</span></span><br><span class="line">    style += <span class="string">` color: <span class="subst">$&#123;color&#125;</span>`</span></span><br><span class="line">-   result += <span class="string">`&lt;a href=&quot;<span class="subst">$&#123;env.url_for(tag.path)&#125;</span>&quot; style=&quot;<span class="subst">$&#123;style&#125;</span>&quot;&gt;<span class="subst">$&#123;tag.name&#125;</span>&lt;/a&gt;`</span></span><br><span class="line">+   result += <span class="string">`&lt;a href=&quot;<span class="subst">$&#123;env.url_for(tag.path)&#125;</span>&quot; style=&quot;<span class="subst">$&#123;style&#125;</span>&quot;&gt;<span class="subst">$&#123;tag.name&#125;</span>&lt;sup&gt;<span class="subst">$&#123;tag.length&#125;</span>&lt;/sup&gt;&lt;/a&gt;`</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure><h2 id="gulp压缩"><a href="#gulp压缩" class="headerlink" title="gulp压缩"></a>gulp压缩</h2><p><a href="https://blog.jayhrn.com/posts/49b73b87.html">https://blog.jayhrn.com/posts/49b73b87.html</a></p><h2 id="备案"><a href="#备案" class="headerlink" title="备案"></a>备案</h2><p><a href="https://blog.gmcj0816.top/posts/25c2e781/">https://blog.gmcj0816.top/posts/25c2e781/</a></p><h2 id="禁用右键菜单"><a href="#禁用右键菜单" class="headerlink" title="禁用右键菜单"></a>禁用右键菜单</h2><p><a href="https://www.jianshu.com/p/a7be27c7d56d">https://www.jianshu.com/p/a7be27c7d56d</a></p><p>引入js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">oncontextmenu</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="comment">//取消默认的浏览器自带右键 很重要！！</span></span><br><span class="line">    e.<span class="title function_">preventDefault</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="文章标题在正文区域"><a href="#文章标题在正文区域" class="headerlink" title="文章标题在正文区域"></a>文章标题在正文区域</h2><p><code>设置配置文件</code></p><p><code>disable_top_img: true</code></p><h2 id="spawn错误"><a href="#spawn错误" class="headerlink" title="spawn错误"></a>spawn错误</h2><p><a href="https://blog.zhheo.com/p/128998ac.html">https://blog.zhheo.com/p/128998ac.html</a></p><p><a href="https://douzaixue.github.io/2021/05/27/SpawnFailed%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/#more">SpawnFailed的解决方法，小豆同学</a></p><ul><li><p>解决方法零：重！启！电！脑！(´。＿。｀)</p></li><li><p>解决方法一：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一个就是你的邮箱，第二个就是你的用户名</span></span><br><span class="line">git config --global user.email <span class="string">&quot;2673065011@qq.com&quot;</span></span><br><span class="line">git config --global user.name <span class="string">&quot;210173313&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>解决方法二：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除.deploy_git文件夹,输入：</span></span><br><span class="line">git config --global core.autocrlf <span class="literal">false</span></span><br><span class="line"><span class="comment"># 然后，依次执行：</span></span><br><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure></li><li><p>解决方法三：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打开_config.yml配置文件，修改以下内容</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line"><span class="attr">repo:</span> <span class="string">https://github.com/yourname/yourname.github.io.git</span></span><br><span class="line"><span class="attr">branch:</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 其中的repo修改为</span></span><br><span class="line"><span class="attr">repo:</span> <span class="string">git@github.com:yourname/yourname.github.io.git</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="留言板"><a href="#留言板" class="headerlink" title="留言板"></a>留言板</h2><p><a href="https://akilar.top/posts/e2d3c450/">https://akilar.top/posts/e2d3c450/</a></p><h2 id="pjax相关知识"><a href="#pjax相关知识" class="headerlink" title="pjax相关知识"></a>pjax相关知识</h2><p><a href="https://akilar.top/posts/3b78b69a/">https://akilar.top/posts/3b78b69a/</a></p><h2 id="如何隐藏文章"><a href="#如何隐藏文章" class="headerlink" title="如何隐藏文章"></a>如何隐藏文章</h2><p><a href="https://blog.ccknbc.cc/posts/how-to-hide-hexo-articles-gracefully/">如何优雅隐藏 Hexo 文章，cc的部落格</a></p><h2 id="谷歌广告"><a href="#谷歌广告" class="headerlink" title="谷歌广告"></a>谷歌广告</h2><p><a href="https://blog.ccknbc.cc/posts/google-adsense-configuration-manual/">Google Adsense 配置手册，cc的部落格</a></p><h2 id="butterfly主题作者的配置文件"><a href="#butterfly主题作者的配置文件" class="headerlink" title="butterfly主题作者的配置文件"></a>butterfly主题作者的配置文件</h2><p><a href="https://github.com/jerryc127/butterfly.js.org/blob/205b7845320842b320bde6a4e1ff0b9d17e1af53/_config.butterfly.yml#L934">jerryc127</a></p><h2 id="butterfly魔改开源主题"><a href="#butterfly魔改开源主题" class="headerlink" title="butterfly魔改开源主题"></a>butterfly魔改开源主题</h2><p><a href="https://github.com/plasx520/blog-butterfly">blog-butterfly</a></p><h2 id="解决-GitHub-Actions-自动部署-Hexo-时文章更新日期发生变化"><a href="#解决-GitHub-Actions-自动部署-Hexo-时文章更新日期发生变化" class="headerlink" title="解决 GitHub Actions 自动部署 Hexo 时文章更新日期发生变化"></a>解决 GitHub Actions 自动部署 Hexo 时文章更新日期发生变化</h2><a class="btn-beautify outline purple larger" href="https://blog.imzjw.cn/posts/1411ca0e/#%E5%89%8D%E8%A8%80"   title="点击跳转至小嘉的部落格"><i class="far fa-hand-point-right"></i><span>点击跳转至小嘉的部落格</span></a>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker项目汇总</title>
      <link href="/posts/9c37da498c36/"/>
      <url>/posts/9c37da498c36/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>非常感谢<code>我不是咕咕鸽</code>大神，从他的博客和视频教程中学到了很多关于vps和docker建站的知识，在学习搭建的时候做了下笔记，方便下次使用。下面整理汇总的docker项目大多是他推荐和分享的，汇总的是搭建网站过程中最关键的docker命令或者docker-compose文件，并非适合小白直接使用，小白可以先去大佬的博客学习下基础知识。大佬博客地址：<a href="https://blog.laoda.de/">https://blog.laoda.de/</a></p><h2 id="安装docker和docker-compose"><a href="#安装docker和docker-compose" class="headerlink" title="安装docker和docker-compose"></a>安装docker和docker-compose</h2><h3 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h3><p><code>官方地址：</code><a href="https://docs.docker.com/engine/install/debian/">https://docs.docker.com/engine/install/debian/</a></p><h4 id="非大陆服务器安装docker"><a href="#非大陆服务器安装docker" class="headerlink" title="非大陆服务器安装docker"></a>非大陆服务器安装docker</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- get.docker.com | bash</span><br><span class="line">docker -v   <span class="comment"># 查看docker版本</span></span><br><span class="line">systemctl <span class="built_in">enable</span> docker  <span class="comment">#设置开机自启动</span></span><br></pre></td></tr></table></figure><p>注意：如果出现<code>sudo:unable to resolve host [hostname]</code>，可以编辑nano/etc/hosts。然后在localhost后面空一格，打上[hostname]你对应的hostname内容。</p><h4 id="国内服务器安装docker"><a href="#国内服务器安装docker" class="headerlink" title="国内服务器安装docker"></a>国内服务器安装docker</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https://get.daocloud.io/docker | sh</span><br><span class="line">docker -v  <span class="comment">#查看docker版本</span></span><br><span class="line">systemctl <span class="built_in">enable</span> docker  <span class="comment"># 设置开机自动启动</span></span><br></pre></td></tr></table></figure><h4 id="卸载docker"><a href="#卸载docker" class="headerlink" title="卸载docker"></a>卸载docker</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge docker-ce docker-ce-cli containerd.io</span><br><span class="line">sudo <span class="built_in">rm</span> -rf /var/lib/docker</span><br><span class="line">sudo <span class="built_in">rm</span> -rf /var/lib/containerd</span><br></pre></td></tr></table></figure><h3 id="安Dockercompose"><a href="#安Dockercompose" class="headerlink" title="安Dockercompose"></a>安Dockercompose</h3><h4 id="非大陆服务器安装docker-compose"><a href="#非大陆服务器安装docker-compose" class="headerlink" title="非大陆服务器安装docker-compose"></a>非大陆服务器安装docker-compose</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo curl -L <span class="string">&quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-<span class="subst">$(uname -s)</span>-<span class="subst">$(uname -m)</span>&quot;</span> -o /usr/local/bin/docker-compose</span><br><span class="line">sudo <span class="built_in">chmod</span> +x /usr/local/bin/docker-compose</span><br><span class="line">docker-compose --version  <span class="comment">#查看docker-compose版本</span></span><br></pre></td></tr></table></figure><h4 id="国内服务器安装docker-compose"><a href="#国内服务器安装docker-compose" class="headerlink" title="国内服务器安装docker-compose"></a>国内服务器安装docker-compose</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://get.daocloud.io/docker/compose/releases/download/v2.1.1/docker-compose-`<span class="built_in">uname</span> -s`-`<span class="built_in">uname</span> -m` &gt; /usr/local/bin/docker-compose</span><br><span class="line"><span class="built_in">chmod</span> +x /usr/local/bin/docker-compose</span><br><span class="line">docker-compose --version  <span class="comment">#查看docker-compose版本</span></span><br></pre></td></tr></table></figure><h3 id="docker项目的更新与卸载"><a href="#docker项目的更新与卸载" class="headerlink" title="docker项目的更新与卸载"></a>docker项目的更新与卸载</h3><h4 id="docker命令安装"><a href="#docker命令安装" class="headerlink" title="docker命令安装"></a>docker命令安装</h4><p><code>停止和卸载：</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker ps  <span class="comment"># 确定哪些docker项目在运行</span></span><br><span class="line">docker inspect 容器的名字  <span class="comment"># 找出你容器的映射到本地的文件路径</span></span><br><span class="line">docker stop memos</span><br><span class="line">docker <span class="built_in">rm</span> -f memos  <span class="comment"># 停止容器，此时不会删除映射到本地的数据</span></span><br><span class="line"><span class="built_in">rm</span> -rf /root/data/docker_data/memos  <span class="comment"># 完全删除映射到本地的数据</span></span><br></pre></td></tr></table></figure><h4 id="docker-compose安装"><a href="#docker-compose安装" class="headerlink" title="docker-compose安装"></a>docker-compose安装</h4><p><code>停止和卸载：</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/lsky-pro  <span class="comment"># 进入docker-compose所在的文件夹</span></span><br><span class="line">docker-compose down    <span class="comment"># 停止容器，此时不会删除映射到本地的数据</span></span><br><span class="line"><span class="built_in">rm</span> -rf /root/data/docker_data/lsky-pro  <span class="comment"># 完全删除映射到本地的数据</span></span><br></pre></td></tr></table></figure><p><code>更新：</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/lsky-pro  <span class="comment"># 进入docker-compose所在的文件夹</span></span><br><span class="line">docker-compose pull    <span class="comment"># 拉取最新的镜像</span></span><br><span class="line">docker-compose up -d   <span class="comment"># 重新更新当前镜像</span></span><br></pre></td></tr></table></figure><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="修改docker配置"><a href="#修改docker配置" class="headerlink" title="修改docker配置"></a>修改docker配置</h4><p>以下配置会增加一段自定义内网 IPv6 地址，开启容器的 IPv6 功能，以及限制日志文件大小，防止 Docker 日志塞满硬盘。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt; /etc/docker/daemon.json &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    &quot;log-driver&quot;: &quot;json-file&quot;,</span></span><br><span class="line"><span class="string">    &quot;log-opts&quot;: &#123;</span></span><br><span class="line"><span class="string">        &quot;max-size&quot;: &quot;20m&quot;,</span></span><br><span class="line"><span class="string">        &quot;max-file&quot;: &quot;3&quot;</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    &quot;ipv6&quot;: true,</span></span><br><span class="line"><span class="string">    &quot;fixed-cidr-v6&quot;: &quot;fd00:dead:beef:c0::/80&quot;,</span></span><br><span class="line"><span class="string">    &quot;experimental&quot;:true,</span></span><br><span class="line"><span class="string">    &quot;ip6tables&quot;:true</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><h4 id="重启Docker服务"><a href="#重启Docker服务" class="headerlink" title="重启Docker服务"></a>重启Docker服务</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h4 id="docker项目管理"><a href="#docker项目管理" class="headerlink" title="docker项目管理"></a>docker项目管理</h4><p>所有的docker项目放到一个文件夹下,这样如果换服务器或者想要备份，都会很方便。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p data/docker_data</span><br></pre></td></tr></table></figure><h4 id="查看docker容器内部ip"><a href="#查看docker容器内部ip" class="headerlink" title="查看docker容器内部ip"></a>查看docker容器内部ip</h4><p>npm和其它项目都在同一个服务器的时候，代理目标可以使用容器内部ip</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip addr show docker0</span><br></pre></td></tr></table></figure><h4 id="docker命令转docker-compose文件格式"><a href="#docker命令转docker-compose文件格式" class="headerlink" title="docker命令转docker-compose文件格式"></a>docker命令转docker-compose文件格式</h4><p>网址：<a href="https://www.composerize.com/">https://www.composerize.com/</a></p><p>github地址：<a href="https://github.com/magicmark/composerize">https://github.com/magicmark/composerize</a></p><h4 id="docker项目的三个主要步骤"><a href="#docker项目的三个主要步骤" class="headerlink" title="docker项目的三个主要步骤"></a>docker项目的三个主要步骤</h4><ol><li>运行docker命令或者docker-compose，一般此时网站可以使用ip+端口号访问</li><li>使用npm给网站做反向代理，添加ssl证书，可以安全访问网站</li><li>根据具体项目做具体操作</li></ol><p><code>以下所有项目的安装主要提供项目的docker命令行代码和docker-compose代码</code></p><h2 id="安装Nginx-Proxy-Manage"><a href="#安装Nginx-Proxy-Manage" class="headerlink" title="安装Nginx Proxy Manage"></a>安装Nginx Proxy Manage</h2><p><code>官网：</code><a href="https://nginxproxymanager.com/">https://nginxproxymanager.com/</a></p><h3 id="创建npm文件夹"><a href="#创建npm文件夹" class="headerlink" title="创建npm文件夹"></a>创建npm文件夹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p data/docker_data/npm</span><br></pre></td></tr></table></figure><h3 id="在npm文件夹下创建docker-compose-yml文件"><a href="#在npm文件夹下创建docker-compose-yml文件" class="headerlink" title="在npm文件夹下创建docker-compose.yml文件"></a>在npm文件夹下创建docker-compose.yml文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> docker-compose.yml</span><br></pre></td></tr></table></figure><p>打开docker-compose.yml文件，粘贴以下代码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3&#x27;</span></span><br><span class="line">services:</span><br><span class="line">  app:</span><br><span class="line">    image: <span class="string">&#x27;jc21/nginx-proxy-manager:latest&#x27;</span></span><br><span class="line">    restart: unless-stopped</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">&#x27;80:80&#x27;</span>              <span class="comment"># 不建议修改端口</span></span><br><span class="line">      - <span class="string">&#x27;81:81&#x27;</span>              <span class="comment"># 可以把冒号左边的81端口修改成你服务器上没有被占用的端口</span></span><br><span class="line">      - <span class="string">&#x27;443:443&#x27;</span>            <span class="comment"># 不建议修改端口</span></span><br><span class="line">    volumes:</span><br><span class="line">      - ./data:/data         <span class="comment"># 点号表示当前文件夹，冒号左边的意思是在当前文件夹下创建一个data目录，用于存放数据，如果不存在的话，会自动创建</span></span><br><span class="line">      - ./letsencrypt:/etc/letsencrypt  <span class="comment"># 点号表示当前文件夹，冒号左边的意思是在当前文件夹下创建一个letsencrypt目录，用于存放证书，如果不存在的话，会自动创建</span></span><br></pre></td></tr></table></figure><ol><li>可以修改password部分</li></ol><h3 id="运行docker-compose"><a href="#运行docker-compose" class="headerlink" title="运行docker-compose"></a>运行docker-compose</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><h3 id="默认登录名和密码"><a href="#默认登录名和密码" class="headerlink" title="默认登录名和密码"></a>默认登录名和密码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Email:    admin@example.com</span><br><span class="line">Password: changeme</span><br></pre></td></tr></table></figure><h2 id="安装兰空图床"><a href="#安装兰空图床" class="headerlink" title="安装兰空图床"></a>安装兰空图床</h2><p><code>在dGitHub原项目地址：</code><a href="https://github.com/lsky-org/lsky-pro（2.3k">https://github.com/lsky-org/lsky-pro（2.3k</a> star）</p><p><code>官网地址：</code><a href="https://www.lsky.pro/">https://www.lsky.pro/</a></p><p><code>文档地址：</code><a href="https://docs.lsky.pro/">https://docs.lsky.pro/</a></p><p><code>Docker镜像地址：</code><a href="https://hub.docker.com/r/dko0/lsky-pro">https://hub.docker.com/r/dko0/lsky-pro</a></p><p><code>PicGo插件：lankong:</code><a href="https://hellodk.cn/post/964">https://hellodk.cn/post/964</a></p><h3 id="docker项目下创建docker-compose-yml"><a href="#docker项目下创建docker-compose-yml" class="headerlink" title="docker项目下创建docker-compose.yml"></a>docker项目下创建docker-compose.yml</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /root/data/docker_data/lsky-pro</span><br><span class="line"><span class="built_in">cd</span> /root/data/docker_data/lsky-pro</span><br><span class="line"><span class="built_in">touch</span> docker-compose.yml</span><br></pre></td></tr></table></figure><h3 id="docker-compose-yml填入以下内容"><a href="#docker-compose-yml填入以下内容" class="headerlink" title="docker-compose.yml填入以下内容"></a>docker-compose.yml填入以下内容</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3&#x27;</span></span><br><span class="line">services:</span><br><span class="line">    lsky-pro:</span><br><span class="line">        container_name: lsky-pro</span><br><span class="line">        image: dko0/lsky-pro</span><br><span class="line">        restart: always</span><br><span class="line">        volumes:</span><br><span class="line">            - /root/data/docker_data/lsky-pro/lsky-pro-data:/var/www/html  <span class="comment">#映射到本地</span></span><br><span class="line">        ports:</span><br><span class="line">            - 7791:80</span><br><span class="line">        environment:</span><br><span class="line">            - MYSQL_HOST=mysql</span><br><span class="line">            - MYSQL_DATABASE=lsky-pro</span><br><span class="line">            - MYSQL_USER=lsky-pro</span><br><span class="line">            - MYSQL_PASSWORD=lsky-pro</span><br><span class="line"></span><br><span class="line">    mysql:</span><br><span class="line">        image: mysql:8.0</span><br><span class="line">        container_name: lsky-pro-db</span><br><span class="line">        restart: always</span><br><span class="line">        environment:</span><br><span class="line">          - MYSQL_DATABASE=lsky-pro</span><br><span class="line">          - MYSQL_USER=lsky-pro</span><br><span class="line">          - MYSQL_PASSWORD=lsky-pro</span><br><span class="line">          - MYSQL_ROOT_PASSWORD=lsky-pro</span><br><span class="line">        volumes:</span><br><span class="line">          - /root/data/docker_data/lsky-pro/db:/var/lib/mysql</span><br></pre></td></tr></table></figure><p>数据库密码可以更改，改了就要记住。后面安装图床时需要用到上面的内容。</p><h3 id="运行docker-compose-1"><a href="#运行docker-compose-1" class="headerlink" title="运行docker-compose"></a>运行docker-compose</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d </span><br></pre></td></tr></table></figure><h3 id="访问网页"><a href="#访问网页" class="headerlink" title="访问网页"></a>访问网页</h3><p>浏览器地址栏输入<code>ip:7791</code></p><h3 id="更新docker-compose项目"><a href="#更新docker-compose项目" class="headerlink" title="更新docker-compose项目"></a>更新docker-compose项目</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -r /root/data/docker_data/lsky-pro/lsky-pro-data /root/data/docker_data/lsky-pro/lsky-pro-data.archive  <span class="comment"># 万事先备份，以防万一</span></span><br><span class="line"><span class="built_in">cp</span> -r /root/data/docker_data/lsky-pro/db /root/data/docker_data/lsky-pro/db.archive <span class="comment">#数据库也备份一下</span></span><br><span class="line"><span class="built_in">cd</span> /root/data/docker_data/lsky-pro  <span class="comment"># 进入docker-compose所在的文件夹</span></span><br><span class="line">docker-compose pull    <span class="comment"># 拉取最新的镜像</span></span><br><span class="line">docker-compose up -d   <span class="comment"># 重新更新当前镜像</span></span><br></pre></td></tr></table></figure><h3 id="卸载docker-compose项目"><a href="#卸载docker-compose项目" class="headerlink" title="卸载docker-compose项目"></a>卸载docker-compose项目</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/lsky-pro  <span class="comment"># 进入docker-compose所在的文件夹</span></span><br><span class="line">docker-compose down    <span class="comment"># 停止容器，此时不会删除映射到本地的数据</span></span><br><span class="line"><span class="built_in">rm</span> -rf /root/data/docker_data/lsky-pro  <span class="comment"># 完全删除映射到本地的数据</span></span><br></pre></td></tr></table></figure><h2 id="安装easyimage图床"><a href="#安装easyimage图床" class="headerlink" title="安装easyimage图床"></a>安装easyimage图床</h2><p><code>GitHub原项目地址：</code><a href="https://github.com/icret/EasyImages2.0">https://github.com/icret/EasyImages2.0</a></p><p><code>Docker镜像：</code><a href="https://hub.docker.com/r/ddsderek/easyimage">https://hub.docker.com/r/ddsderek/easyimage</a></p><h3 id="docker-compose文件"><a href="#docker-compose文件" class="headerlink" title="docker-compose文件"></a>docker-compose文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3.3&#x27;</span></span><br><span class="line">services:</span><br><span class="line">  easyimage:</span><br><span class="line">    image: ddsderek/easyimage:latest</span><br><span class="line">    container_name: easyimage</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">&#x27;8080:80&#x27;</span></span><br><span class="line">    environment:</span><br><span class="line">      - TZ=Asia/Shanghai</span><br><span class="line">      - PUID=1000</span><br><span class="line">      - PGID=1000</span><br><span class="line">    volumes:</span><br><span class="line">      - <span class="string">&#x27;/root/data/docker_data/easyimage/config:/app/web/config&#x27;</span></span><br><span class="line">      - <span class="string">&#x27;/root/data/docker_data/easyimage/i:/app/web/i&#x27;</span></span><br><span class="line">    restart: unless-stopped</span><br></pre></td></tr></table></figure><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><h4 id="网页出现格式混乱"><a href="#网页出现格式混乱" class="headerlink" title="网页出现格式混乱"></a>网页出现格式混乱</h4><p>修改/root/data/docker_data/easyimage/config/config.php里面的内容</p><p><code>把domain和imgurl后面的url改成自己的域名</code></p><p><code>确保是https</code></p><ol><li>使用npm反向代理的过程，千万不要勾选<code>Block Common Exploits</code>，否则上传图片得缩率图会无法显示。</li><li>反向代理后一定要修改，easyimg项目下得<code>config.php</code>文件，把<code>domain</code>和<code>imgurl</code>后面的url换成反代的域名。</li></ol><h4 id="配置picgo"><a href="#配置picgo" class="headerlink" title="配置picgo"></a>配置picgo</h4><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/19/o4tbxp-3.webp" alt="配置picgo"></p><ol><li>自定义body：{“token”:”8337effca0ddfcd9c5899f3509b23657”}</li><li>api地址：https:\域名\indext.php</li><li>post参数名：image</li><li>json路径：url</li></ol><h2 id="安装bitwarden密码管理工具"><a href="#安装bitwarden密码管理工具" class="headerlink" title="安装bitwarden密码管理工具"></a>安装bitwarden密码管理工具</h2><p>github项目地址：<a href="https://github.com/dani-garcia/vaultwarden">https://github.com/dani-garcia/vaultwarden</a></p><h3 id="docker命令行"><a href="#docker命令行" class="headerlink" title="docker命令行"></a>docker命令行</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name bitwardenrs \</span><br><span class="line">  --restart unless-stopped \</span><br><span class="line">  -e WEBSOCKET_ENABLED=<span class="literal">true</span> \</span><br><span class="line">  -v /root/data/docker_data/bitwarden/:/data/ \</span><br><span class="line">  -p 6666:80 \</span><br><span class="line">  -p 3012:3012 \</span><br><span class="line">  vaultwarden/server:latest</span><br></pre></td></tr></table></figure><h3 id="禁止新用户注册"><a href="#禁止新用户注册" class="headerlink" title="禁止新用户注册"></a>禁止新用户注册</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker stop bitwardenrs  <span class="comment">#停止容器</span></span><br><span class="line">docker <span class="built_in">rm</span> -f bitwardenrs  <span class="comment">#删除容器</span></span><br><span class="line">docker run -d --name bitwardenrs \</span><br><span class="line">  --restart unless-stopped \</span><br><span class="line">  -e SIGNUPS_ALLOWED=<span class="literal">false</span> \</span><br><span class="line">  -e WEBSOCKET_ENABLED=<span class="literal">true</span> \</span><br><span class="line">  -v /root/data/docker_data/bitwarden/:/data/ \</span><br><span class="line">  -p 6666:80 \</span><br><span class="line">  -p 3012:3012 \</span><br><span class="line">  vaultwarden/server:latest</span><br></pre></td></tr></table></figure><h2 id="安装rustdesk"><a href="#安装rustdesk" class="headerlink" title="安装rustdesk"></a>安装rustdesk</h2><p><code>GitHub原项目地址：</code><a href="https://github.com/rustdesk/rustdesk">https://github.com/rustdesk/rustdesk</a></p><p><code>Docker镜像地址：</code><a href="https://hub.docker.com/r/rustdesk/rustdesk-server/tags">https://hub.docker.com/r/rustdesk/rustdesk-server/tags</a></p><p><code>官网地址：</code><a href="https://rustdesk.com">https://rustdesk.com</a></p><p><code>文档地址：</code><a href="https://rustdesk.com/docs/zh-cn/self-host/">https://rustdesk.com/docs/zh-cn/self-host/</a></p><h3 id="docker-compose代码"><a href="#docker-compose代码" class="headerlink" title="docker-compose代码"></a>docker-compose代码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3&#x27;</span></span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">  rustdesk-net:</span><br><span class="line">    external: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line">  hbbs:</span><br><span class="line">    container_name: hbbs</span><br><span class="line">    ports:</span><br><span class="line">      - 21115:21115</span><br><span class="line">      - 21116:21116</span><br><span class="line">      - 21116:21116/udp</span><br><span class="line">      - 21118:21118</span><br><span class="line">    image: rustdesk/rustdesk-server:latest</span><br><span class="line">    <span class="built_in">command</span>: hbbs -r hbbs.example.com:21117   <span class="comment"># hbbs.example.com改成</span></span><br><span class="line">    volumes:</span><br><span class="line">      - ./hbbs:/root</span><br><span class="line">    networks:</span><br><span class="line">      - rustdesk-net</span><br><span class="line">    depends_on:</span><br><span class="line">      - hbbr</span><br><span class="line">    restart: unless-stopped</span><br><span class="line"></span><br><span class="line">  hbbr:</span><br><span class="line">    container_name: hbbr</span><br><span class="line">    ports:</span><br><span class="line">      - 21117:21117</span><br><span class="line">      - 21119:21119</span><br><span class="line">    image: rustdesk/rustdesk-server:latest</span><br><span class="line">    <span class="built_in">command</span>: hbbr</span><br><span class="line">    volumes:</span><br><span class="line">      - ./hbbr:/root</span><br><span class="line">    networks:</span><br><span class="line">      - rustdesk-net</span><br><span class="line">    restart: unless-stopped</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="安装wallabag"><a href="#安装wallabag" class="headerlink" title="安装wallabag"></a>安装wallabag</h2><p><code>GitHub原项目地址：</code><a href="https://github.com/wallabag/wallabag">https://github.com/wallabag/wallabag</a></p><p><code>官网地址：</code><a href="https://wallabag.org/">https://wallabag.org/</a></p><p><code>官方文档地址：</code><a href="https://doc.wallabag.org/en/admin/installation/requirements.html">https://doc.wallabag.org/en/admin/installation/requirements.html</a></p><p><code>官方镜像：</code><a href="https://hub.docker.com/r/wallabag/wallabag">https://hub.docker.com/r/wallabag/wallabag</a></p><h3 id="docker-compose文件-1"><a href="#docker-compose文件-1" class="headerlink" title="docker-compose文件"></a>docker-compose文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3&#x27;</span></span><br><span class="line">services:</span><br><span class="line">  wallabag:</span><br><span class="line">    image: wallabag/wallabag</span><br><span class="line">    restart: unless-stopped</span><br><span class="line">    environment:</span><br><span class="line">      - MYSQL_ROOT_PASSWORD=wallaroot</span><br><span class="line">      - SYMFONY__ENV__DATABASE_DRIVER=pdo_mysql</span><br><span class="line">      - SYMFONY__ENV__DATABASE_HOST=db</span><br><span class="line">      - SYMFONY__ENV__DATABASE_PORT=3306</span><br><span class="line">      - SYMFONY__ENV__DATABASE_NAME=wallabag</span><br><span class="line">      - SYMFONY__ENV__DATABASE_USER=wallabag</span><br><span class="line">      - SYMFONY__ENV__DATABASE_PASSWORD=wallapass</span><br><span class="line">      - SYMFONY__ENV__DATABASE_CHARSET=utf8mb4</span><br><span class="line">      - SYMFONY__ENV__MAILER_HOST=127.0.0.1</span><br><span class="line">      - SYMFONY__ENV__MAILER_USER=~</span><br><span class="line">      - SYMFONY__ENV__MAILER_PASSWORD=~</span><br><span class="line">      - SYMFONY__ENV__FROM_EMAIL=email@lyr.im   <span class="comment"># 修改成你自己的邮箱</span></span><br><span class="line">      - SYMFONY__ENV__DOMAIN_NAME=https://wallabag.laoda.de  <span class="comment"># 修改成稍后要反向代理的域名</span></span><br><span class="line">      - SYMFONY__ENV__SERVER_NAME=<span class="string">&quot;Roy&#x27;s Wallabag&quot;</span></span><br><span class="line">    ports:</span><br><span class="line">      - 8080:80   <span class="comment"># 8080可以修改成其他的自己想用的端口</span></span><br><span class="line">    volumes:</span><br><span class="line">      - /root/data/docker_data/wallabag/images:/var/www/wallabag/web/assets/images  <span class="comment"># 将图片映射挂载到本地，这样docker停止了，数据不会丢失</span></span><br><span class="line">    healthcheck:</span><br><span class="line">      <span class="built_in">test</span>: [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;wget&quot;</span> ,<span class="string">&quot;--no-verbose&quot;</span>, <span class="string">&quot;--tries=1&quot;</span>, <span class="string">&quot;--spider&quot;</span>, <span class="string">&quot;http://localhost&quot;</span>]</span><br><span class="line">      interval: 1m</span><br><span class="line">      <span class="built_in">timeout</span>: 3s</span><br><span class="line">    depends_on:</span><br><span class="line">      - db</span><br><span class="line">      - redis</span><br><span class="line">  db:</span><br><span class="line">    image: mariadb</span><br><span class="line">    restart: unless-stopped</span><br><span class="line">    environment:</span><br><span class="line">      - MYSQL_ROOT_PASSWORD=wallaroot</span><br><span class="line">    volumes:</span><br><span class="line">      - /root/data/docker_data/wallabag/data:/var/lib/mysql  <span class="comment"># 将数据映射挂载到本地，这样docker停止了，数据不会丢失</span></span><br><span class="line">    healthcheck:</span><br><span class="line">      <span class="built_in">test</span>: [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;mysqladmin&quot;</span> ,<span class="string">&quot;ping&quot;</span>, <span class="string">&quot;-h&quot;</span>, <span class="string">&quot;localhost&quot;</span>]</span><br><span class="line">      interval: 20s</span><br><span class="line">      <span class="built_in">timeout</span>: 3s</span><br><span class="line">  redis:</span><br><span class="line">    image: redis:alpine</span><br><span class="line">    restart: unless-stopped</span><br><span class="line">    healthcheck:</span><br><span class="line">      <span class="built_in">test</span>: [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;redis-cli&quot;</span>, <span class="string">&quot;ping&quot;</span>]</span><br><span class="line">      interval: 20s</span><br><span class="line">      <span class="built_in">timeout</span>: 3s</span><br></pre></td></tr></table></figure><h3 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h3><h2 id="安装Zfile"><a href="#安装Zfile" class="headerlink" title="安装Zfile"></a>安装Zfile</h2><p><code>文档地址:</code><a href="https://docs.zfile.vip">https://docs.zfile.vip</a></p><p><code>社区地址:</code><a href="https://bbs.zfile.vip">https://bbs.zfile.vip</a></p><p><code>项目源码:</code> <a href="https://github.com/zhaojun1998/zfile">https://github.com/zhaojun1998/zfile</a></p><p><code>项目源码:</code><a href="https://github.com/zhaojun1998/zfile">https://github.com/zhaojun1998/zfile</a></p><p><code>前端源码:</code><a href="https://github.com/zhaojun1998/zfile-vue">https://github.com/zhaojun1998/zfile-vue</a></p><h3 id="dockercompose文件"><a href="#dockercompose文件" class="headerlink" title="dockercompose文件"></a>dockercompose文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3.3&#x27;</span></span><br><span class="line">services:</span><br><span class="line">    zfile:</span><br><span class="line">        container_name: zfile</span><br><span class="line">        restart: always</span><br><span class="line">        ports:</span><br><span class="line">            - <span class="string">&#x27;8080:8080&#x27;</span>    <span class="comment"># 左边的端口可以修改，右边的端口不要修改</span></span><br><span class="line">        volumes:</span><br><span class="line">            - <span class="string">&#x27;./db:/root/.zfile-v4/db&#x27;</span>      <span class="comment"># 数据库映射到当前文件夹下的db目录</span></span><br><span class="line">            - <span class="string">&#x27;./logs:/root/.zfile-v4/logs&#x27;</span>  <span class="comment"># 日志文件映射到当前文件夹下的logs目录</span></span><br><span class="line">            - <span class="string">&#x27;./data:/root/.zfile-v4/data&#x27;</span>  <span class="comment"># 额外映射了一个data目录，等下本地存储我们就可以填/root/.zfile-v4/data目录啦</span></span><br><span class="line">        image: zhaojun1998/zfile</span><br></pre></td></tr></table></figure><h2 id="安装为知笔记"><a href="#安装为知笔记" class="headerlink" title="安装为知笔记"></a>安装为知笔记</h2><p><code>参考这个：</code><a href="https://breakthewa11.com/archives/docker-install-minimalist.html">https://breakthewa11.com/archives/docker-install-minimalist.html</a></p><h3 id="docker命令"><a href="#docker命令" class="headerlink" title="docker命令"></a>docker命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name wiz --restart=always -it -d -v  ~/data/docker_data/wizdata:/wiz/storage -v  /etc/localtime:/etc/localtime -p 8123:80 -p 9269:9269/udp  wiznote/wizserver</span><br></pre></td></tr></table></figure><h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker stop wiz</span><br><span class="line">docker <span class="built_in">rm</span> wiz</span><br><span class="line">docker pull wiznote/wizserver:latest</span><br><span class="line">docker run --name wiz --restart=always -it -d -v  ~/data/docker_data/wizdata:/wiz/storage -v  /etc/localtime:/etc/localtime -p 8123:80 -p 9269:9269/udp  wiznote/wizserver</span><br></pre></td></tr></table></figure><h3 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker stop wiz</span><br><span class="line">docker <span class="built_in">rm</span> -f wiz</span><br><span class="line"><span class="built_in">rm</span> -rf ~/data/docker_data/wizdata</span><br></pre></td></tr></table></figure><h2 id="安装TTRSS订阅服务"><a href="#安装TTRSS订阅服务" class="headerlink" title="安装TTRSS订阅服务"></a>安装TTRSS订阅服务</h2><p><code>参考这个：</code><a href="https://ttrss.henry.wang/zh/#%E5%85%B3%E4%BA%8E">https://ttrss.henry.wang/zh/#%E5%85%B3%E4%BA%8E</a></p><h3 id="docker-compose文件-2"><a href="#docker-compose文件-2" class="headerlink" title="docker-compose文件"></a>docker-compose文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&quot;3&quot;</span></span><br><span class="line">services:</span><br><span class="line">  service.rss:</span><br><span class="line">    image: wangqiru/ttrss:latest</span><br><span class="line">    container_name: ttrss</span><br><span class="line">    ports:</span><br><span class="line">      - 181:80</span><br><span class="line">    environment:</span><br><span class="line">      - SELF_URL_PATH=http://localhost:181/ <span class="comment"># please change to your own domain</span></span><br><span class="line">      - DB_PASS=ttrss <span class="comment"># use the same password defined in `database.postgres`</span></span><br><span class="line">      - PUID=1000</span><br><span class="line">      - PGID=1000</span><br><span class="line">    volumes:</span><br><span class="line">      - feed-icons:/var/www/feed-icons/</span><br><span class="line">    networks:</span><br><span class="line">      - public_access</span><br><span class="line">      - service_only</span><br><span class="line">      - database_only</span><br><span class="line">    stdin_open: <span class="literal">true</span></span><br><span class="line">    <span class="built_in">tty</span>: <span class="literal">true</span></span><br><span class="line">    restart: always</span><br><span class="line"></span><br><span class="line">  service.mercury: <span class="comment"># set Mercury Parser API endpoint to `service.mercury:3000` on TTRSS plugin setting page</span></span><br><span class="line">    image: wangqiru/mercury-parser-api:latest</span><br><span class="line">    container_name: mercury</span><br><span class="line">    networks:</span><br><span class="line">      - public_access</span><br><span class="line">      - service_only</span><br><span class="line">    restart: always</span><br><span class="line"></span><br><span class="line">  service.opencc: <span class="comment"># set OpenCC API endpoint to `service.opencc:3000` on TTRSS plugin setting page</span></span><br><span class="line">    image: wangqiru/opencc-api-server:latest</span><br><span class="line">    container_name: opencc</span><br><span class="line">    environment:</span><br><span class="line">      - NODE_ENV=production</span><br><span class="line">    networks:</span><br><span class="line">      - service_only</span><br><span class="line">    restart: always</span><br><span class="line"></span><br><span class="line">  database.postgres:</span><br><span class="line">    image: postgres:13-alpine</span><br><span class="line">    container_name: postgres</span><br><span class="line">    environment:</span><br><span class="line">      - POSTGRES_PASSWORD=ttrss <span class="comment"># feel free to change the password</span></span><br><span class="line">    volumes:</span><br><span class="line">      - ~/data/docker_data/data:/var/lib/postgresql/data <span class="comment"># persist postgres data to ~/postgres/data/ on the host</span></span><br><span class="line">    networks:</span><br><span class="line">      - database_only</span><br><span class="line">    restart: always</span><br><span class="line"></span><br><span class="line">  <span class="comment"># utility.watchtower:</span></span><br><span class="line">  <span class="comment">#   container_name: watchtower</span></span><br><span class="line">  <span class="comment">#   image: containrrr/watchtower:latest</span></span><br><span class="line">  <span class="comment">#   volumes:</span></span><br><span class="line">  <span class="comment">#     - /var/run/docker.sock:/var/run/docker.sock</span></span><br><span class="line">  <span class="comment">#   environment:</span></span><br><span class="line">  <span class="comment">#     - WATCHTOWER_CLEANUP=true</span></span><br><span class="line">  <span class="comment">#     - WATCHTOWER_POLL_INTERVAL=86400</span></span><br><span class="line">  <span class="comment">#   restart: always</span></span><br><span class="line"></span><br><span class="line">volumes:</span><br><span class="line">  feed-icons:</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">  public_access: <span class="comment"># Provide the access for ttrss UI</span></span><br><span class="line">  service_only: <span class="comment"># Provide the communication network between services only</span></span><br><span class="line">    internal: <span class="literal">true</span></span><br><span class="line">  database_only: <span class="comment"># Provide the communication between ttrss and database only</span></span><br><span class="line">    internal: <span class="literal">true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="安装joplin-cloud"><a href="#安装joplin-cloud" class="headerlink" title="安装joplin cloud"></a>安装joplin cloud</h2><p><code>GitHub原项目地址：</code><a href="https://github.com/laurent22/joplin">https://github.com/laurent22/joplin</a></p><p><code>Docker镜像地址：</code><a href="https://hub.docker.com/r/joplin/server">https://hub.docker.com/r/joplin/server</a></p><p><code>官网地址：</code><a href="https://joplinapp.org/">https://joplinapp.org/</a></p><h3 id="docker-compose文件-3"><a href="#docker-compose文件-3" class="headerlink" title="docker-compose文件"></a>docker-compose文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># This is a sample docker-compose file that can be used to run Joplin Server</span></span><br><span class="line"><span class="comment"># along with a PostgreSQL server.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Update the following fields in the stanza below:</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># POSTGRES_USER</span></span><br><span class="line"><span class="comment"># POSTGRES_PASSWORD</span></span><br><span class="line"><span class="comment"># APP_BASE_URL</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># APP_BASE_URL: This is the base public URL where the service will be running.</span></span><br><span class="line"><span class="comment">#- If Joplin Server needs to be accessible over the internet, configure APP_BASE_URL as follows: https://example.com/joplin. </span></span><br><span class="line"><span class="comment">#- If Joplin Server does not need to be accessible over the internet, set the the APP_BASE_URL to your server&#x27;s hostname. </span></span><br><span class="line"><span class="comment">#     For Example: http://[hostname]:22300. The base URL can include the port.</span></span><br><span class="line"><span class="comment"># APP_PORT: The local port on which the Docker container will listen. </span></span><br><span class="line"><span class="comment">#- This would typically be mapped to port to 443 (TLS) with a reverse proxy.</span></span><br><span class="line"><span class="comment">#- If Joplin Server does not need to be accessible over the internet, the port can be mapped to 22300.</span></span><br><span class="line"></span><br><span class="line">version: <span class="string">&#x27;3&#x27;</span></span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line">    db:</span><br><span class="line">        image: postgres:13</span><br><span class="line">        volumes:</span><br><span class="line">            - ./data/postgres:/var/lib/postgresql/data</span><br><span class="line">        ports:</span><br><span class="line">            - <span class="string">&quot;5432:5432&quot;</span>  <span class="comment"># 左边的端口可以更换，右边不要动！</span></span><br><span class="line">        restart: unless-stopped</span><br><span class="line">        environment:</span><br><span class="line">            - POSTGRES_PASSWORD=changeme <span class="comment"># 改成你自己的密码</span></span><br><span class="line">            - POSTGRES_USER=username  <span class="comment"># 改成你自己的用户名</span></span><br><span class="line">            - POSTGRES_DB=joplin</span><br><span class="line">    app:</span><br><span class="line">        image: joplin/server:latest</span><br><span class="line">        depends_on:</span><br><span class="line">            - db</span><br><span class="line">        ports:</span><br><span class="line">            - <span class="string">&quot;22300:22300&quot;</span> <span class="comment"># 左边的端口可以更换，右边不要动！</span></span><br><span class="line">        restart: unless-stopped</span><br><span class="line">        environment:</span><br><span class="line">            - APP_PORT=22300</span><br><span class="line">            - APP_BASE_URL=https://your.domain.com <span class="comment"># 改成反代的域名</span></span><br><span class="line">            - DB_CLIENT=pg</span><br><span class="line">            - POSTGRES_PASSWORD=changeme <span class="comment"># 与上面的密码对应！</span></span><br><span class="line">            - POSTGRES_DATABASE=joplin</span><br><span class="line">            - POSTGRES_USER=username  <span class="comment"># 与上面的用户名对应！</span></span><br><span class="line">            - POSTGRES_PORT=5432 <span class="comment"># 与上面右边的对应！</span></span><br><span class="line">            - POSTGRES_HOST=db</span><br></pre></td></tr></table></figure><h3 id="更新-1"><a href="#更新-1" class="headerlink" title="更新"></a>更新</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -r /root/data/docker_data/joplin /root/data/docker_data/joplin.archive  <span class="comment"># 万事先备份，以防万一</span></span><br><span class="line"><span class="built_in">cd</span> /root/data/docker_data/joplin  <span class="comment"># 进入docker-compose所在的文件夹</span></span><br><span class="line">docker-compose pull    <span class="comment"># 拉取最新的镜像</span></span><br><span class="line">docker-compose up -d   <span class="comment"># 重新更新当前镜像</span></span><br></pre></td></tr></table></figure><h3 id="卸载-1"><a href="#卸载-1" class="headerlink" title="卸载"></a>卸载</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/joplin  <span class="comment"># 进入docker-compose所在的文件夹</span></span><br><span class="line">docker-compose down    <span class="comment"># 停止容器，此时不会删除映射到本地的数据</span></span><br><span class="line"><span class="built_in">rm</span> -rf /root/data/docker_data/joplin  <span class="comment"># 完全删除映射到本地的数据</span></span><br></pre></td></tr></table></figure><h2 id="安装qBIttorrent"><a href="#安装qBIttorrent" class="headerlink" title="安装qBIttorrent"></a>安装qBIttorrent</h2><p><a href="https://github.com/linuxserver/docker-qbittorrent">https://github.com/linuxserver/docker-qbittorrent</a></p><h3 id="拉取镜像"><a href="#拉取镜像" class="headerlink" title="拉取镜像"></a>拉取镜像</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull linuxserver/qbittorrent</span><br></pre></td></tr></table></figure><h3 id="docker-compose文件-4"><a href="#docker-compose文件-4" class="headerlink" title="docker-compose文件"></a>docker-compose文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&quot;2&quot;</span></span><br><span class="line">services:</span><br><span class="line">  qbittorrent: </span><br><span class="line">    image: linuxserver/qbittorrent:4.4.1     </span><br><span class="line">    container_name: qbittorrent</span><br><span class="line">    environment:</span><br><span class="line">      - PUID=1000</span><br><span class="line">      - PGID=1000</span><br><span class="line">      - TZ=Asia/Shanghai <span class="comment"># 你的时区</span></span><br><span class="line">      - UMASK_SET=022</span><br><span class="line">      - WEBUI_PORT=8081 <span class="comment"># 将此处修改成你欲使用的 WEB 管理平台端口 </span></span><br><span class="line">    volumes:</span><br><span class="line">      - /root/data/docker_data/qBittorrent/config:/config </span><br><span class="line">      - /root/data/docker_data/qBittorrent/downloads:/downloads </span><br><span class="line">    ports:</span><br><span class="line">      <span class="comment"># 要使用的映射下载端口与内部下载端口，可保持默认，安装完成后在管理页面仍然可以改成其他端口。</span></span><br><span class="line">      - 6881:6881 </span><br><span class="line">      - 6881:6881/udp</span><br><span class="line">      <span class="comment"># 此处WEB UI 目标端口与内部端口务必保证相同，见问题1</span></span><br><span class="line">      - 8081:8081</span><br><span class="line">    restart: unless-stopped</span><br><span class="line">    network_mode: bridge       <span class="comment"># 网络模式选择刚才配置的桥接 bridge</span></span><br></pre></td></tr></table></figure><p>默认登录用户名：admin</p><p>密码：adminadmin</p><h2 id="博客搭建——typecho"><a href="#博客搭建——typecho" class="headerlink" title="博客搭建——typecho"></a>博客搭建——typecho</h2><p><code>创建安装目录</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /root/data/docker_data/typecho</span><br><span class="line"><span class="built_in">cd</span> /root/data/docker_data/typecho</span><br></pre></td></tr></table></figure><p><code>创建三个文件</code></p><h3 id="myseq文件"><a href="#myseq文件" class="headerlink" title="myseq文件"></a>myseq文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/typecho</span><br><span class="line"><span class="built_in">touch</span> mysql.env</span><br></pre></td></tr></table></figure><p><code>填入以下内容</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MYSQL_ROOT_PASSWORD=root_pass</span><br><span class="line">MYSQL_DATABASE=typecho</span><br><span class="line">MYSQL_USER=username</span><br><span class="line">MYSQL_PASSWORD=password</span><br></pre></td></tr></table></figure><p>数据库用户名和密码可以自己改动</p><h3 id="php-fpm"><a href="#php-fpm" class="headerlink" title="php-fpm"></a>php-fpm</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/typecho</span><br><span class="line"><span class="built_in">mkdir</span> php</span><br><span class="line"><span class="built_in">cd</span> php</span><br><span class="line"><span class="built_in">touch</span> Dockerfile</span><br></pre></td></tr></table></figure><p><code>填入以下内容</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">FROM php:7.3.29-fpm</span><br><span class="line">RUN apt-get update \</span><br><span class="line">    &amp;&amp; docker-php-ext-install pdo_mysql \</span><br><span class="line">    &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;output_buffering = 4096&quot;</span> &gt; /usr/local/etc/php/conf.d/php.ini \</span><br><span class="line">    &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;date.timezone = PRC&quot;</span> &gt;&gt; /usr/local/etc/php/conf.d/php.ini</span><br></pre></td></tr></table></figure><h3 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/typecho</span><br><span class="line"><span class="built_in">mkdir</span> nginx</span><br><span class="line"><span class="built_in">cd</span> nginx</span><br><span class="line"><span class="built_in">touch</span> default.conf</span><br></pre></td></tr></table></figure><p><code>填入以下内容</code></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span> default_server;</span><br><span class="line">    <span class="attribute">root</span> /var/www/html;</span><br><span class="line">    <span class="attribute">index</span> index.php;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">access_log</span> /var/log/nginx/typecho_access.log main;</span><br><span class="line">    <span class="attribute">if</span> (!-e <span class="variable">$request_filename</span>) &#123;</span><br><span class="line">        <span class="attribute">rewrite</span><span class="regexp"> ^(.*)$</span> /index.php<span class="variable">$1</span> <span class="literal">last</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">index</span> index.html index.htm index.php;</span><br><span class="line"></span><br><span class="line">        <span class="attribute">if</span> (!-e <span class="variable">$request_filename</span>) &#123;</span><br><span class="line">            <span class="attribute">rewrite</span> . /index.php <span class="literal">last</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> <span class="regexp">~ \.php(.*)$</span> &#123;</span><br><span class="line">        <span class="attribute">fastcgi_pass</span>   php:<span class="number">9000</span>;</span><br><span class="line">        <span class="attribute">fastcgi_index</span>  index.php;</span><br><span class="line">        <span class="attribute">fastcgi_param</span>  PATH_TRANSLATED <span class="variable">$document_root</span><span class="variable">$fastcgi_path_info</span>;</span><br><span class="line">        <span class="attribute">fastcgi_split_path_info</span> <span class="regexp"> ^((?U).+\.php)(/?.+)$</span>;</span><br><span class="line">        <span class="attribute">fastcgi_param</span>  PATH_INFO  <span class="variable">$fastcgi_path_info</span>;</span><br><span class="line">        <span class="attribute">fastcgi_param</span>  SCRIPT_NAME <span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">        <span class="attribute">fastcgi_param</span>  SCRIPT_FILENAME <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">        <span class="attribute">include</span>        fastcgi_params;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="下载源码"><a href="#下载源码" class="headerlink" title="下载源码"></a>下载源码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/typecho/typecho</span><br><span class="line">wget https://github.com/typecho/typecho/releases/download/v1.2.0/typecho.zip</span><br><span class="line">apt install zip -y </span><br><span class="line">unzip typecho.zip</span><br></pre></td></tr></table></figure><h3 id="docker-compose文件-5"><a href="#docker-compose文件-5" class="headerlink" title="docker-compose文件"></a>docker-compose文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/typecho</span><br><span class="line">nano docker-compose.yml</span><br></pre></td></tr></table></figure><p><code>填入以下内容</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line">  nginx:</span><br><span class="line">    image: nginx</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">&quot;8223:80&quot;</span>    <span class="comment"># 左边可以改成任意没使用的端口</span></span><br><span class="line">    restart: always</span><br><span class="line">    environment:</span><br><span class="line">      - TZ=Asia/Shanghai</span><br><span class="line">    volumes:</span><br><span class="line">      - ./typecho:/var/www/html</span><br><span class="line">      - ./nginx:/etc/nginx/conf.d</span><br><span class="line">      - ./logs:/var/log/nginx</span><br><span class="line">    depends_on:</span><br><span class="line">      - php</span><br><span class="line">    networks:</span><br><span class="line">      - web</span><br><span class="line"></span><br><span class="line">  php:</span><br><span class="line">    build: php</span><br><span class="line">    restart: always</span><br><span class="line">    expose:</span><br><span class="line">      - <span class="string">&quot;9000&quot;</span>       <span class="comment"># 不暴露公网，故没有写9000:9000</span></span><br><span class="line">    volumes:</span><br><span class="line">      - ./typecho:/var/www/html</span><br><span class="line">    environment:</span><br><span class="line">      - TZ=Asia/Shanghai</span><br><span class="line">    depends_on:</span><br><span class="line">      - mysql</span><br><span class="line">    networks:</span><br><span class="line">      - web</span><br><span class="line"></span><br><span class="line">  mysql:</span><br><span class="line">    image: mysql:5.7</span><br><span class="line">    restart: always</span><br><span class="line">    environment:</span><br><span class="line">      - TZ=Asia/Shanghai</span><br><span class="line">    expose:</span><br><span class="line">      - <span class="string">&quot;3306&quot;</span>  <span class="comment"># 不暴露公网，故没有写3306:3306</span></span><br><span class="line">    volumes:</span><br><span class="line">      - ./mysql/data:/var/lib/mysql</span><br><span class="line">      - ./mysql/logs:/var/log/mysql</span><br><span class="line">      - ./mysql/conf:/etc/mysql/conf.d</span><br><span class="line">    env_file:</span><br><span class="line">      - mysql.env</span><br><span class="line">    networks:</span><br><span class="line">      - web</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">  web:</span><br></pre></td></tr></table></figure><h3 id="更新-2"><a href="#更新-2" class="headerlink" title="更新"></a>更新</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/typecho  <span class="comment"># 进入docker-compose所在的文件夹</span></span><br><span class="line">docker-compose pull    <span class="comment"># 拉取最新的镜像</span></span><br><span class="line">docker-compose up -d   <span class="comment"># 重新更新当前镜像</span></span><br></pre></td></tr></table></figure><h3 id="卸载-2"><a href="#卸载-2" class="headerlink" title="卸载"></a>卸载</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo -i  <span class="comment"># 切换到root</span></span><br><span class="line"><span class="built_in">cd</span> /root/data/docker_data/typecho <span class="comment"># 进入docker-compose所在的文件夹</span></span><br><span class="line">docker-compose down    <span class="comment"># 停止容器，此时不会删除映射到本地的数据</span></span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="built_in">rm</span> -rf /root/data/docker_data/typecho  <span class="comment"># 完全删除映射到本地的数据</span></span><br></pre></td></tr></table></figure><h2 id="博客搭建——wordpress"><a href="#博客搭建——wordpress" class="headerlink" title="博客搭建——wordpress"></a>博客搭建——wordpress</h2><h3 id="创建安装目录"><a href="#创建安装目录" class="headerlink" title="创建安装目录"></a>创建安装目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /root/data/docker_data/wordpress</span><br><span class="line"><span class="built_in">cd</span> /root/data/docker_data/wordpress</span><br><span class="line"><span class="built_in">touch</span> docker-compose.yml</span><br></pre></td></tr></table></figure><h3 id="解决上传文件大小限制"><a href="#解决上传文件大小限制" class="headerlink" title="解决上传文件大小限制"></a>解决上传文件大小限制</h3><p>默认php设置的上传文件大小为2M，我们需要调整一下。参考：<a href="https://github.com/docker-library/wordpress/issues/375">https://github.com/docker-library/wordpress/issues/375</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/wordpress</span><br><span class="line"><span class="built_in">touch</span> uploads.ini</span><br></pre></td></tr></table></figure><p>输入下面的内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">file_uploads = On</span><br><span class="line">upload_max_filesize = 256M    <span class="comment">#可以自己设置大小</span></span><br><span class="line">post_max_size = 256M  <span class="comment">#可以自己设置大小</span></span><br></pre></td></tr></table></figure><h3 id="docker-compose文件-6"><a href="#docker-compose文件-6" class="headerlink" title="docker-compose文件"></a>docker-compose文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3.1&#x27;</span></span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line"></span><br><span class="line">  wordpress:</span><br><span class="line">    image: wordpress</span><br><span class="line">    restart: always</span><br><span class="line">    ports:</span><br><span class="line">      - 8080:80</span><br><span class="line">    environment:</span><br><span class="line">      WORDPRESS_DB_HOST: db</span><br><span class="line">      WORDPRESS_DB_USER: exampleuser</span><br><span class="line">      WORDPRESS_DB_PASSWORD: examplepass</span><br><span class="line">      WORDPRESS_DB_NAME: exampledb</span><br><span class="line">    volumes:</span><br><span class="line">      - /root/data/docker_data/wordpress/data:/var/www/html</span><br><span class="line">      - /root/data/docker_data/wordpress/uploads.ini:/usr/local/etc/php/conf.d/uploads.ini</span><br><span class="line"></span><br><span class="line">  db:</span><br><span class="line">    image: mysql:5.7</span><br><span class="line">    restart: always</span><br><span class="line">    environment:</span><br><span class="line">      MYSQL_DATABASE: exampledb</span><br><span class="line">      MYSQL_USER: exampleuser</span><br><span class="line">      MYSQL_PASSWORD: examplepass</span><br><span class="line">      MYSQL_RANDOM_ROOT_PASSWORD: <span class="string">&#x27;1&#x27;</span></span><br><span class="line">    volumes:</span><br><span class="line">      - /root/data/docker_data/wordpress/db:/var/lib/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment">#volumes:</span></span><br><span class="line"><span class="comment">#  wordpress:</span></span><br><span class="line"><span class="comment">#  db:</span></span><br></pre></td></tr></table></figure><p><code>查看上传文件的限制是否修改</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> 你的wp容器<span class="built_in">id</span> php -i | grep upload</span><br></pre></td></tr></table></figure><p>可以使用docker ps查看wp容器id</p><h3 id="出现“因为我们不能复制一些文件，升级未被安装，这通常是因为存在不一致的文件权限”的错误"><a href="#出现“因为我们不能复制一些文件，升级未被安装，这通常是因为存在不一致的文件权限”的错误" class="headerlink" title="出现“因为我们不能复制一些文件，升级未被安装，这通常是因为存在不一致的文件权限”的错误"></a>出现“因为我们不能复制一些文件，升级未被安装，这通常是因为存在不一致的文件权限”的错误</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/wordpress/data</span><br><span class="line"><span class="built_in">chmod</span> -R 777 wp-content</span><br><span class="line">docker-compose down </span><br><span class="line">docker-compose up -d </span><br></pre></td></tr></table></figure><h3 id="上传主题，出现“您点击的链接已过期”"><a href="#上传主题，出现“您点击的链接已过期”" class="headerlink" title="上传主题，出现“您点击的链接已过期”"></a>上传主题，出现“您点击的链接已过期”</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/wordpress/data</span><br><span class="line">vim .htaccess</span><br></pre></td></tr></table></figure><p><code>在.htaccess最后面加上：</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">php_value max_execution_time 300</span><br><span class="line">php_value upload_max_filesize 256M</span><br><span class="line">php_value post_max_size 256M</span><br><span class="line">php_value memory_limit 128M</span><br><span class="line">php_value max_input_vars 5000</span><br></pre></td></tr></table></figure><h3 id="更新-3"><a href="#更新-3" class="headerlink" title="更新"></a>更新</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/wordpress  <span class="comment"># 进入docker-compose所在的文件夹</span></span><br><span class="line">docker-compose pull    <span class="comment"># 拉取最新的镜像</span></span><br><span class="line">docker-compose up -d   <span class="comment"># 重新更新当前镜像</span></span><br></pre></td></tr></table></figure><h3 id="卸载-3"><a href="#卸载-3" class="headerlink" title="卸载"></a>卸载</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo -i  <span class="comment"># 切换到root</span></span><br><span class="line"><span class="built_in">cd</span> /root/data/docker_data/wordpress  <span class="comment"># 进入docker-compose所在的文件夹</span></span><br><span class="line">docker-compose down    <span class="comment"># 停止容器，此时不会删除映射到本地的数据</span></span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="built_in">rm</span> -rf /root/data/docker_data/wordpress  <span class="comment"># 完全删除映射到本地的数据</span></span><br></pre></td></tr></table></figure><h2 id="博客搭建——Halo-2-0"><a href="#博客搭建——Halo-2-0" class="headerlink" title="博客搭建——Halo 2.0"></a>博客搭建——Halo 2.0</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line">  halo:</span><br><span class="line">    image: halohub/halo:2.3.1</span><br><span class="line">    container_name: halo</span><br><span class="line">    restart: on-failure:3</span><br><span class="line">    depends_on:</span><br><span class="line">      halodb:</span><br><span class="line">        condition: service_healthy</span><br><span class="line">    networks:</span><br><span class="line">      halo_network:</span><br><span class="line">    volumes:</span><br><span class="line">      - ./:/root/.halo2</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">&quot;8090:8090&quot;</span></span><br><span class="line">    <span class="built_in">command</span>:</span><br><span class="line">      - --spring.r2dbc.url=r2dbc:pool:mysql://halodb:3306/halo</span><br><span class="line">      - --spring.r2dbc.username=root</span><br><span class="line">      <span class="comment"># MySQL 的密码，请保证与下方 MYSQL_ROOT_PASSWORD 的变量值一致。</span></span><br><span class="line">      - --spring.r2dbc.password=o<span class="comment">#DwN&amp;JSa56</span></span><br><span class="line">      - --spring.sql.init.platform=mysql</span><br><span class="line">      <span class="comment"># 外部访问地址，请根据实际需要修改</span></span><br><span class="line">      - --halo.external-url=http://localhost:8090/</span><br><span class="line">      <span class="comment"># 初始化的超级管理员用户名</span></span><br><span class="line">      - --halo.security.initializer.superadminusername=admin</span><br><span class="line">      <span class="comment"># 初始化的超级管理员密码</span></span><br><span class="line">      - --halo.security.initializer.superadminpassword=P@88w0rd</span><br><span class="line"></span><br><span class="line">  halodb:</span><br><span class="line">    image: mysql:8.0.31</span><br><span class="line">    container_name: halodb</span><br><span class="line">    restart: on-failure:3</span><br><span class="line">    networks:</span><br><span class="line">      halo_network:</span><br><span class="line">    <span class="built_in">command</span>: </span><br><span class="line">      - --default-authentication-plugin=mysql_native_password</span><br><span class="line">      - --character-set-server=utf8mb4</span><br><span class="line">      - --collation-server=utf8mb4_general_ci</span><br><span class="line">      - --explicit_defaults_for_timestamp=<span class="literal">true</span></span><br><span class="line">    volumes:</span><br><span class="line">      - ./mysql:/var/lib/mysql</span><br><span class="line">      - ./mysqlBackup:/data/mysqlBackup</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">&quot;3306&quot;</span></span><br><span class="line">    healthcheck:</span><br><span class="line">      <span class="built_in">test</span>: [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;mysqladmin&quot;</span>, <span class="string">&quot;ping&quot;</span>, <span class="string">&quot;-h&quot;</span>, <span class="string">&quot;127.0.0.1&quot;</span>, <span class="string">&quot;--silent&quot;</span>]</span><br><span class="line">      interval: 3s</span><br><span class="line">      retries: 5</span><br><span class="line">      start_period: 30s</span><br><span class="line">    environment:</span><br><span class="line">      <span class="comment"># 请修改此密码，并对应修改上方 Halo 服务的 SPRING_R2DBC_PASSWORD 变量值</span></span><br><span class="line">      - MYSQL_ROOT_PASSWORD=o<span class="comment">#DwN&amp;JSa56</span></span><br><span class="line">      - MYSQL_DATABASE=halo</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">  halo_network:</span><br></pre></td></tr></table></figure><h2 id="安装Drawio绘图工具"><a href="#安装Drawio绘图工具" class="headerlink" title="安装Drawio绘图工具"></a>安装Drawio绘图工具</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -itd --restart=always  --name=<span class="string">&quot;draw&quot;</span> -p 8083:8080 -p 8445:8443 jgraph/drawio </span><br></pre></td></tr></table></figure><h2 id="安装Snapdrop文件传输工具"><a href="#安装Snapdrop文件传输工具" class="headerlink" title="安装Snapdrop文件传输工具"></a>安装Snapdrop文件传输工具</h2><h3 id="docker命令-1"><a href="#docker命令-1" class="headerlink" title="docker命令"></a>docker命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 8080:80 linuxserver/snapdrop</span><br></pre></td></tr></table></figure><h3 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker-compose"></a>docker-compose</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&quot;2.4&quot;</span></span><br><span class="line">services:</span><br><span class="line">  snapdrop:</span><br><span class="line">    image: linuxserver/snapdrop:latest</span><br><span class="line">    container_name: snapdrop</span><br><span class="line">    environment:</span><br><span class="line">      - PUID=1000</span><br><span class="line">      - PGID=1000</span><br><span class="line">      - TZ=Asia/Shanghai</span><br><span class="line">    volumes:</span><br><span class="line">      - /root/container/snapdrop:/config</span><br><span class="line">    ports:</span><br><span class="line">      - 80:80</span><br><span class="line">    restart: always</span><br></pre></td></tr></table></figure><p><code>注意</code>:</p><ol><li>使用nginx proxy manage反向代理时，必须勾选websockets support，否则会出现移动端和pc端一直连不上的情况<code>Connection lost. Retry in 5 seconds...。</code>。</li><li>snapdrop服务必须是反向代理所在的服务器</li><li>有问题多使用<code>docker-compose restart</code>重启服务</li></ol><p><img src="https://eeimg.yilan.uk/i/2023/05/06/yvaoex.webp" alt="必须勾选支持websockets"></p><h2 id="安装web端SSh工具"><a href="#安装web端SSh工具" class="headerlink" title="安装web端SSh工具"></a>安装web端SSh工具</h2><h3 id="docker-compose文件-7"><a href="#docker-compose文件-7" class="headerlink" title="docker-compose文件"></a>docker-compose文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3.3&#x27;</span></span><br><span class="line">services:</span><br><span class="line">    ywsjwebssh:   <span class="comment">#服务名，可以自定义</span></span><br><span class="line">        container_name: ywsjwebssh    <span class="comment">#容器名，可以自定义</span></span><br><span class="line">        ports:</span><br><span class="line">            - <span class="string">&#x27;2222:5032&#x27;</span>   <span class="comment"># 2222可以改成任意vps上未使用过的端口，5032不要改</span></span><br><span class="line">        environment:</span><br><span class="line">            - PUID=0    <span class="comment"># 稍后在终端输入id可以查看当前用户的id</span></span><br><span class="line">            - PGID=0    <span class="comment"># 同上</span></span><br><span class="line">            - TZ=Asia/Shanghai  <span class="comment">#时区，可以自定义</span></span><br><span class="line">        restart: always    <span class="comment">#开启开机自启动</span></span><br><span class="line">        image: jrohy/webssh    <span class="comment">#镜像名不要改</span></span><br></pre></td></tr></table></figure><h2 id="安装freenom域名自动续期程序"><a href="#安装freenom域名自动续期程序" class="headerlink" title="安装freenom域名自动续期程序"></a>安装freenom域名自动续期程序</h2><h3 id="docker-compose文件-8"><a href="#docker-compose文件-8" class="headerlink" title="docker-compose文件"></a>docker-compose文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3.3&#x27;</span></span><br><span class="line">services:</span><br><span class="line">    freenom:</span><br><span class="line">        container_name: freenom</span><br><span class="line">        restart: always</span><br><span class="line">        volumes:</span><br><span class="line">            - .:/conf</span><br><span class="line">            - ./logs:/app/logs</span><br><span class="line">        image: luolongfei/freenom</span><br></pre></td></tr></table></figure><h3 id="修改-env文件。以qq邮箱为例"><a href="#修改-env文件。以qq邮箱为例" class="headerlink" title="修改.env文件。以qq邮箱为例"></a>修改.env文件。以qq邮箱为例</h3><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/26/kqstmy-0.webp" alt="修改.env文件"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/18/s9thar-0.webp" alt="开启smtp服务"></p><h2 id="安装mdnice微信公众号排版工具"><a href="#安装mdnice微信公众号排版工具" class="headerlink" title="安装mdnice微信公众号排版工具"></a>安装mdnice微信公众号排版工具</h2><h3 id="docker-compose文件-9"><a href="#docker-compose文件-9" class="headerlink" title="docker-compose文件"></a>docker-compose文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3.3&#x27;</span></span><br><span class="line">services:</span><br><span class="line">    mdnice:</span><br><span class="line">        container_name: mdnice</span><br><span class="line">        ports:</span><br><span class="line">            - <span class="string">&#x27;9000:80&#x27;</span></span><br><span class="line">        image: weihanli/mdnice</span><br></pre></td></tr></table></figure><p>来源：<a href="https://blog.csdn.net/sD7O95O/article/details/115713045">https://blog.csdn.net/sD7O95O/article/details/115713045</a></p><h2 id="类似知乎的开源问答平台——Answer"><a href="#类似知乎的开源问答平台——Answer" class="headerlink" title="类似知乎的开源问答平台——Answer"></a>类似知乎的开源问答平台——Answer</h2><p><code>Answer 官方网址</code>：<a href="https://answer.dev/">https://answer.dev/</a><br><code>Answer 官方 GitHub</code>：<a href="https://github.com/answerdev/answer">https://github.com/answerdev/answer</a><br><code>Answer 官方文档</code>：<a href="https://answer.dev/docs/installation/">https://answer.dev/docs/installation/</a></p><h3 id="docker-compose文件-10"><a href="#docker-compose文件-10" class="headerlink" title="docker-compose文件"></a>docker-compose文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&quot;3&quot;</span></span><br><span class="line">services:</span><br><span class="line">  answer:</span><br><span class="line">    image: answerdev/answer</span><br><span class="line">    ports:</span><br><span class="line">      - <span class="string">&#x27;9008:80&#x27;</span>            <span class="comment"># 冒号左边可以改成自己服务器未被占用的端口</span></span><br><span class="line">    restart: on-failure</span><br><span class="line">    volumes:</span><br><span class="line">      - ./answer-data:/data  <span class="comment"># 冒号左边可以改路径，现在是表示把数据存放在在当前文件夹下的 answer-data 文件夹中</span></span><br><span class="line">      </span><br><span class="line">  db:</span><br><span class="line">    image: mariadb:10</span><br><span class="line">    <span class="built_in">command</span>: --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci</span><br><span class="line">    environment:</span><br><span class="line">      MYSQL_ROOT_PASSWORD: answer   <span class="comment"># 数据库用户root的密码，建议自行修改一个</span></span><br><span class="line">      MYSQL_USER: answer         </span><br><span class="line">      MYSQL_PASSWORD: answer   <span class="comment"># 数据库用户answer的密码，建议自行修改一个</span></span><br><span class="line">      MYSQL_DATABASE: answer </span><br><span class="line">    volumes:</span><br><span class="line">      - ./mariadb:/var/lib/mysql  <span class="comment"># 冒号左边可以改路径，现在是表示把数据存放在在当前文件夹下的 mariadb 文件夹中</span></span><br><span class="line">    restart: on-failure</span><br></pre></td></tr></table></figure><h3 id="更新answer"><a href="#更新answer" class="headerlink" title="更新answer"></a>更新answer</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/answer</span><br><span class="line"></span><br><span class="line">docker-compose down </span><br><span class="line"></span><br><span class="line"><span class="built_in">cp</span> -r /root/data/docker_data/answer/root/data/docker_data/hexo.archive  <span class="comment"># 万事先备份，以防万一，其实这边没必要，因为我们没有映射到本地文件夹</span></span><br><span class="line"></span><br><span class="line">docker-compose pull</span><br><span class="line"></span><br><span class="line">docker-compose up -d    <span class="comment"># 请不要使用 docker-compose stop 来停止容器，因为这么做需要额外的时间等待容器停止；docker-compose up -d 直接升级容器时会自动停止并立刻重建新的容器，完全没有必要浪费那些时间。</span></span><br><span class="line"></span><br><span class="line">docker image prune  <span class="comment"># prune 命令用来删除不再使用的 docker 对象。删除所有未被 tag 标记和未被容器使用的镜像</span></span><br></pre></td></tr></table></figure><h3 id="卸载answer"><a href="#卸载answer" class="headerlink" title="卸载answer"></a>卸载answer</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/data/docker_data/answer</span><br><span class="line"></span><br><span class="line">docker-compose down</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line"></span><br><span class="line"><span class="built_in">rm</span> -rf /root/data/docker_data/answer  <span class="comment"># 完全删除映射到本地的数据</span></span><br></pre></td></tr></table></figure><h2 id="安装多平台备份duplicati"><a href="#安装多平台备份duplicati" class="headerlink" title="安装多平台备份duplicati"></a>安装多平台备份duplicati</h2><p><code>GitHub原项目地址：</code><a href="https://github.com/duplicati/duplicati">https://github.com/duplicati/duplicati</a></p><p><code>官网地址：</code><a href="https://www.duplicati.com/download">https://www.duplicati.com/download</a></p><h3 id="docker-compose文件-11"><a href="#docker-compose文件-11" class="headerlink" title="docker-compose文件"></a>docker-compose文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&quot;2.1&quot;</span></span><br><span class="line">services:</span><br><span class="line">  duplicati:</span><br><span class="line">    image: lscr.io/linuxserver/duplicati</span><br><span class="line">    container_name: duplicati</span><br><span class="line">    environment:</span><br><span class="line">      - PUID=0</span><br><span class="line">      - PGID=0</span><br><span class="line">      - TZ=Asia/Shanghai</span><br><span class="line">    volumes:</span><br><span class="line">      - /root/data/docker_data/duplicati/config:/config</span><br><span class="line">      - /root/data/docker_data/duplicati/backups:/backups</span><br><span class="line">      - /root/data:/source</span><br><span class="line">    ports:</span><br><span class="line">      - 8080:8200</span><br><span class="line">    restart: unless-stopped</span><br></pre></td></tr></table></figure><h2 id="onenav导航站"><a href="#onenav导航站" class="headerlink" title="onenav导航站"></a>onenav导航站</h2><p><code>GitHub原项目地址：</code><a href="https://github.com/helloxz/onenav">https://github.com/helloxz/onenav</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3.3&#x27;</span></span><br><span class="line">services:</span><br><span class="line">    onenav:</span><br><span class="line">        container_name: onenav</span><br><span class="line">        ports:</span><br><span class="line">            - <span class="string">&#x27;8956:80&#x27;</span></span><br><span class="line">        environment:</span><br><span class="line">            - USER=xiaoz</span><br><span class="line">            - PASSWORD=xiaoz.me</span><br><span class="line">        volumes:</span><br><span class="line">            - <span class="string">&#x27;/root/data/docker_data/onenav:/data/wwwroot/default/data&#x27;</span></span><br><span class="line">        image: helloz/onenav</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> VPS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> docker建站 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTCMS 4.3.0小说系统搭建教程</title>
      <link href="/posts/38c8df649aaf/"/>
      <url>/posts/38c8df649aaf/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>PTCMS 4.3.0是一个纯小说系统，是在PTCMS 4.2.8基础上，花了大量时间进行修复+去后门+修漏洞+优化，并额外编写了共计12条内置采集规则</p><p>有如下优点：</p><p>1、电脑端+手机端<br>2、带3个PC端模板+4个手机端模板<br>3、带AMP、MIP集权引导页<br>4、带作者入驻功能，作者收益设置<br>5、内置采集，傻瓜式一键点击，即可采集，能达到10秒采集5部的速度。<br>6、原创专区+开放专区<br>7、订阅设置，月票兑换功能<br>8、强大的SEO优化功能，TKD设置、URL优化设置、Sitemap设置、百度推送、神马推送<br>9、蜘蛛爬行统计、推送日志<br>10、书籍付费管理、VIP会员</p><p>内容转载自网站： 兔酷源码</p><p>为节约时间，熟悉建站直接看老司机模块，不熟悉的可以看小白建站流程</p></blockquote><h2 id="熟悉建站的老司机"><a href="#熟悉建站的老司机" class="headerlink" title="熟悉建站的老司机"></a>熟悉建站的老司机</h2><p>环境要求：</p><ul><li><mark class="hl-label purple">nginx1.15</mark> 、<mark class="hl-label purple">MySQL5.5</mark> 、<mark class="hl-label purple">php7.3</mark>    </li><li><p>安装php拓展：<mark class="hl-label purple">fileinfo</mark> 、<mark class="hl-label purple">memcached</mark> 、<mark class="hl-label purple">swoole</mark>    </p></li><li><p>删除 php7.3的禁用函数中的 <code>shell exec</code></p></li><li><p>在 /www/server/ 文件中创建ptcms文件夹，上传  License  和  loader73.so 到ptcms里面</p></li><li><p>PHP配置文件最后加上</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">extension= /www/server/ptcms/loader73.so</span><br><span class="line">swoole_license_files= /www/server/ptcms/license</span><br></pre></td></tr></table></figure><ul><li>网站运行目录为public</li><li>伪静态规则</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (!-e $request_filename) &#123;</span><br><span class="line">  rewrite ^/(.*) /index.php?s=$1 last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="小白搭建流程"><a href="#小白搭建流程" class="headerlink" title="小白搭建流程"></a>小白搭建流程</h2><h3 id="安装环境（宝塔面板配置LNMP环境）"><a href="#安装环境（宝塔面板配置LNMP环境）" class="headerlink" title="安装环境（宝塔面板配置LNMP环境）"></a>安装环境（宝塔面板配置LNMP环境）</h3><ol><li>Linux</li><li>Nginx1.22.1</li><li>MySQL5.6.5</li><li>PHP7.3</li></ol><p><code>注意：php版本一定是7.3</code></p><h3 id="php7-3安装插件，禁用函数，安装加密Loader"><a href="#php7-3安装插件，禁用函数，安装加密Loader" class="headerlink" title="php7.3安装插件，禁用函数，安装加密Loader"></a>php7.3安装插件，禁用函数，安装加密Loader</h3><ul><li>安装php拓展 <code>fileinfo</code> <code>memcached</code>  <code>swoole</code></li></ul><p><img src="https://eeimg.yilan.uk/i/2023/04/15/np88i8-1.webp" alt="安装php扩展"></p><ul><li>删除 php7.3的禁用函数中的 <code>shell exec</code></li></ul><p><img src="https://eeimg.yilan.uk/i/2023/04/15/nqiowi-1.webp" alt="image-20230415143526589"></p><ul><li><p>安装加密Loader</p><p>进入php7.3的配置文件，拉到最后，加入以下两行</p></li></ul><p><img src="https://eeimg.yilan.uk/i/2023/04/15/nsgkqq-1.webp" alt="添加两行"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">extension=/www/server/ptcms/loader.so</span><br><span class="line">swoole_license_files=/www/server/ptcms/license</span><br></pre></td></tr></table></figure><ul><li>最后重载并重启php</li></ul><p><img src="https://eeimg.yilan.uk/i/2023/04/15/nu4utv-1.webp" alt="重启php"></p><h3 id="新建站点"><a href="#新建站点" class="headerlink" title="新建站点"></a>新建站点</h3><ul><li>输入解析到服务器的域名，数据库选择MySQL，php版本选择7.3，点击提交</li></ul><p>随手把数据库的用户名和密码复制到记事本，备用</p><p><img src="https://eeimg.yilan.uk/i/2023/04/15/nb834j-1.webp" alt="新建网站"></p><ul><li>在 <code>/www/server/</code>文件中创建<code>ptcms</code>文件夹，复制网站根目录的<code>license</code> 和  <code>loader73.so</code> 到<code>ptcms</code>里面</li></ul><p>下图是网站根目录中两个文件的位置</p><p><img src="https://eeimg.yilan.uk/i/2023/04/15/nfne79-1.webp" alt="网站根目录中license和loader73.so"></p><p>完成复制后，<code>ptcms</code>里面的<code>license</code> 和  <code>loader73.so</code> </p><p><img src="https://eeimg.yilan.uk/i/2023/04/15/nhkxng-1.webp" alt="复制网站根目录的license 和loader73.so 到ptcms里面"></p><ul><li>设置网站运行目录为<code>/public</code>,点击保存</li></ul><p><img src="https://eeimg.yilan.uk/i/2023/04/15/ny41nq-1.webp" alt="设置运行目录"></p><ul><li>设置伪静态，点击保存</li></ul><p><code>伪静态代码：</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!-e <span class="variable">$request_filename</span>) &#123;</span><br><span class="line">    rewrite ^/(.*)  /index.php?s=<span class="variable">$1</span> last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://eeimg.yilan.uk/i/2023/04/15/nyzbfp-1.webp" alt="设置伪静态"></p><ul><li>开始安装，浏览器输入<code>域名/install.php</code></li></ul><p>输入数据的用户名和密码（之前在创建网站过程中让复制到记事本的内容），点击下一步</p><p><img src="https://eeimg.yilan.uk/i/2023/04/15/o3iddz-1.webp" alt="连接数据库"></p><ul><li>网站设置，设置好后点击下一步</li></ul><p><img src="https://eeimg.yilan.uk/i/2023/04/15/otsp0s-1.webp" alt="网站设置"></p><ul><li>安装成功</li></ul><p><img src="https://eeimg.yilan.uk/i/2023/04/15/oxjked-1.webp" alt="安装成功"></p><p><img src="https://eeimg.yilan.uk/i/2023/04/15/ow7a5y-1.webp" alt="网站后台"></p><p><img src="https://eeimg.yilan.uk/i/2023/04/15/owct4p-1.webp" alt="网站前台"></p><h2 id="采集"><a href="#采集" class="headerlink" title="采集"></a>采集</h2><p>小说采集并不像影视那么容易，个人在网上找到的一些小说采集规则都不能用。想要有小说内容，要么自己学会去写采集规则，要么求助某宝。</p><blockquote><p>参考文章：</p><ol><li><p>基于ptcms的小说站搭建，及网站无法install ，404或后台验证码 404情况的解决</p><p><a href="https://www.cnblogs.com/qingyun-guo/p/13356218.html">https://www.cnblogs.com/qingyun-guo/p/13356218.html</a></p></li><li><p>ptcms安装教程：ptcms v4.3.0详细安装图文教程</p><p><a href="https://www.ps288.com/e/wap/show.php?classid=7&amp;id=4303">https://www.ps288.com/e/wap/show.php?classid=7&amp;id=4303</a></p></li><li><p>ptcms最新版本怎么进行搬家操作（超详细图文教程）</p><p><a href="https://www.binbinbiji.com/ptzhuanqu/2525.html">https://www.binbinbiji.com/ptzhuanqu/2525.html</a></p></li></ol></blockquote>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宝塔建站 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VPS基础知识</title>
      <link href="/posts/4c943f5e544a/"/>
      <url>/posts/4c943f5e544a/</url>
      
        <content type="html"><![CDATA[<div class="tip warning faa-parent animated-hover"><p class="faa-horizontal">持续更新</p></div><h2 id="什么是vps"><a href="#什么是vps" class="headerlink" title="什么是vps"></a>什么是vps</h2><blockquote><p>VPS就是Virtual Private Server，又叫虚似专用服务器。它就相当于是一种技术，可以将一台服务器（物理机）分割成多个虚似专享服务器。这种技术可以为大家提供优质服务，每一个VPS都可以分派独立公网IP地址、独立操作系统、独立超大空间、独立运行内存、独立CPU资源、独立执行程序和独立系统配置等，可以从根本上防止关联。</p></blockquote><p>简单理解就是一台24小时不关机并且带有公网ip的电脑，只不过这台电脑不在你面前，可能在世界的某个角落运行着。</p><h2 id="VPS和云服务器有哪些区别"><a href="#VPS和云服务器有哪些区别" class="headerlink" title="VPS和云服务器有哪些区别"></a>VPS和云服务器有哪些区别</h2><div class="note default flat"><p>1、架构</p></div><p>VPS是建立在以物理服务器上的虚拟化技术上，一台物理服务器被划分成多个虚拟服务器提供给不同的用户使用。而云服务器则是建立在分布式架构之上，由多台物理服务器组成的集群提供服务，具有更高的可靠性和可扩展性。</p><div class="note default flat"><p>2、弹性扩展</p></div><p>云服务器可以通过更改配置，实现资源的弹性扩展，以满足用户对于不同场景结构的需求，而 VPS 的扩容则需要关闭虚拟机并拆卸硬盘，再重新安装新的硬件和软件来实现。</p><div class="note default flat"><p>3、费用</p></div><p>VPS的价格较为稳定，主要按照配置决定，相比之下，云服务器的价格则通常较灵活，采用按量计费的方式。用户可以按照实际的使用量来付费，更加符合实际的需求。</p><div class="note default flat"><p>4、管理</p></div><p>VPS服务器管理通常需要用户自己进行，用户需要拥有服务器基础操作系统的相关知识，能够自己维护，并且自己进行一些系统的安装和配置。而云服务器管理则更方便，可以自动化运维，管理成本更低。</p><h2 id="vps可以干什么"><a href="#vps可以干什么" class="headerlink" title="vps可以干什么"></a><a href="https://www.hostccn.com/t/2679">vps可以干什么</a></h2><div class="note default flat"><p>1、外贸网站与电子商务平台</p></div><p>　　企业可以通过租用服务器，在服务器上建立网站或博客、电子商务平台等，不仅安全好用，而且性价比也是很高的。可以通过服务器提供网站访问，不仅访问稳定，而且还可以保障网站数据安全。</p><div class="note default flat"><p>2、用服务器存放数据</p></div><p>　　这个可能很多人都没听说过。但是在实际使用过程中，确实会有很多企业会购买服务器来存放数据或共享数据，安全性能高，而且还可以下载分享数据。很多企业的大数据，都是通过服务器存放的。</p><div class="note default flat"><p>3、放置APP等应用</p></div><p>　　APP在搭建完成后，需要放置在服务器上，才能进行网络访问。我们平时所用的微信、淘宝等APP都是放置在服务器上，我们才能通过手机网络进行访问。</p><div class="note default flat"><p>4、服务器放置游戏</p></div><p>　　相信很多人都有玩过网游和小游戏，在玩游戏的过程中甚至会碰到服务器连接不稳定、服务器崩溃等服务器问题。这其实都是游戏放置在服务器上，而服务器超负荷运行导致的。</p><div class="note default flat"><p>5、搭建局域网</p></div><p>　　很多企业会有内部局域网，供企业内部沟通交流使用。这个时候就会用到服务器了。服务器还可以用来搭建局域网，且安全性和稳定性也是非常不错的。</p><h2 id="如何获得一台vps"><a href="#如何获得一台vps" class="headerlink" title="如何获得一台vps"></a>如何获得一台vps</h2><p><code>国内大厂：阿里云，腾讯云</code></p><p><code>国外：搬瓦工，vultr，便宜的Racknerd等</code></p><h3 id="海外免备案服务器如何选择"><a href="#海外免备案服务器如何选择" class="headerlink" title="海外免备案服务器如何选择"></a>海外免备案服务器如何选择</h3><p>所有海外虚拟主机均是免备案，所以你的目标只需要放在海外即可。但是海外服务器也是鱼龙混杂，需要不断比较和筛选，才能选出满意的服务器。给几个建议：</p><p> 1、配置。 服务器的配置关系到使用情况，主要包括几个方面： CPU，虚拟主机或者VPS我们基本关注不到，只有选择独立服务器才会关注是什么CPU，几核，几线程； 内存，和电脑一样，对内存的要求还是比较高的，尤其是运营比较多的网站时； 硬盘，对于视频或者对空间存储较大的企业，硬盘容量一定要大，对读取速度有较高要求的可以选择SSD固态硬盘； 带宽，海外服务器一定要注意带宽，这直接关系到网站的加载速度与延迟； 此外配置也是根据自己实际需求来的，比如普通的选择虚拟主机，集团型公司选择独立服务器，防御高的选择高防服务器，利于推广的选择站群服务器等等，具体配置你可以去看看。</p><p> 2、价格。 配置比较晚肯定就是价格，也就是综合性价比。海外服务器价格比较透明，很多服务器商价格都在官网上显示，没有大的变动；但可以注意一些优惠活动，这能够节省很大一部分成本。 </p><p>3、安全性。 这个内容主要是考虑到保障网站能否正常有效的运转，很重要，通常考核的参数是在线率。</p><p> 4、售后服务。 海外服务器建议选择有中文售后服务的，否则很多沟通障碍存在，无法及时解决迫切的问题。</p><h2 id="VPS配置之带宽"><a href="#VPS配置之带宽" class="headerlink" title="VPS配置之带宽"></a><a href="https://www.hostccn.com/t/2725">VPS配置之带宽</a></h2><p><code>第一、1M带宽的配置怎么样</code></p><p>一般我们看到云服务器配置大部分是1M带宽。毕竟我们内陆机房和香港机房带宽成本是比较高的，不同于海外服务商动不动就是100M甚至1G带宽的。我们这里看到的1M带宽并非1M大小，而是1Mbps。</p><p><code>第二、1M带宽服务器慢不慢</code></p><p>我们很多站长会说，1M带宽很小，我们家的宽带都是200M或者500M的。其实这样的理解是错误的，我们服务器的1M带宽是传输带宽和你家里上网不同的。我们的网站较多的还是图文内容，单页面其实也就几个K的大小，打开速度是没有多大问题的。如果纯文字的网站，速度可以说飞一般的流畅。</p><p>当然，如果网站图片过多或者是多媒体内容那肯定是不够的，于是我们会用WPCOS、WPOSS等插件将图片大文件内容分离到第三方对象存储，保持服务器只有文字和程序主体。所以，真用的好优化的好的1M带宽服务器是不慢的。</p><p><code>第三、1M带宽能容纳多少人</code></p><p>如果要说确切的1M带宽服务器能容纳多少人这个肯定是不准确的。从个人的经验看，1M带宽的云服务器，平均下来一天一个网站IP数量2-5000是没有问题的。如果同时在线的人数过多，那可能会加重负载。如果平均同时几个人或者几十个人访问网站是没有问题的。</p><p>1M带宽能容纳多少人，首先要知道影响在线人数的因素：</p><p>1）访问量</p><p>2）网站类型。如果是出文字的网站（如小说站），1M带宽带动日均5000IP，还勉强。如果是普通网站有图片，有文字、论坛、新闻资讯类型网站大概1M能带一千IP。考虑到高峰期并发，1M高峰期还会卡。</p><p>下面根据影响因素计算下1M带宽能同时承受多少人在线。（以网络状况良好为前提）</p><ol><li>打开网站8秒原则；</li><li>评判的只是：用户从服务器下载文件的速度；</li><li>页面的标准尺寸大小为：60KB。</li></ol><p>参考公式：支持连接个人 = 服务器带宽/页面尺寸大小，通过计算大致结果是，1Mbps的带宽（服务器的1M带宽最快上下速度能达到1M/s），跟一般家用的带宽稍有区别，支持的连接数为：17个。因此，N M带宽可以支持的同时在线人数大概为N*17个。所以，1M带宽的服务器，日均3000IP以下应该没问题。当然如果网站每个页面都比较大的话，那就没这么多了。具体多少，可以按照上面的算法算下。</p><p>同时在线访问数由几个方面决定：</p><p><code>1、服务器的质量。</code></p><p>服务器分为高中低三种。不同型号品牌的服务器能够承受的流量是不同的，所以，这是影响同时在线访问数量的原因之一。</p><p><code>2、宽带的大小。</code></p><p>假若服务器保证的最大带宽是5M (即5Mbit/s)，相应服务器的数据最高传输速度应为5Mbit/s x 1024/8=640KB，1分钟流量大约640 x 60=38400KB。假设毎个用户1分钟内始终占用10KB的流量，即该1分钟内支持占用这样的流量的同时在线访问人数为3840人（视频类大流量网站不在此例）。</p><p>但是，并不能保证每个用户在1分钟内只有一次到该站的链接，假如每个用户在1分钟内有两次或以上到该站的链接（每个链接始终占用10KB的流量），那么支持在线人数应该在2000以下。</p><div class="tip bolt"><p>最后，如果需要优化达到1M带宽的最佳性能，建议如果网站图片和较大的静态文件可以分离到对象存储中。初期网站就存储网站程序和数据库，后续也可以将数据库分离到云数据库。同时配置上Memcached、Redis等缓存插件支持。</p></div><h2 id="VPS配置之线路"><a href="#VPS配置之线路" class="headerlink" title="VPS配置之线路"></a>VPS配置之线路</h2><h3 id="IPLC专线是什么"><a href="#IPLC专线是什么" class="headerlink" title="IPLC专线是什么"></a>IPLC专线是什么</h3><p>IPLC专线网络是将通过光缆将香港和中国大陆或者其他地区直连，形成高速互访网络。因此，准确地说，IPLC专线网络不是一种带宽类型，而是一种高速的网络传输类型。相比容易受到公网波动或国际出口波动的其他传输类型，LPLC专线网络在速度和稳定性方面具有更高保障。如果客户群体集中在某个国家或地区，可以考虑使用此类带宽。</p><p>IPLC专线网络，是可以在香港与其他地区（包括中国大陆、新加坡、菲律宾、日本、韩国）之间构建物理专线，将香港数据中心与其他地区的数据中心、云、企业分支、办公室或主机托管环境对接起来，实现高速私网通信。这种私网通信可以绕过公网，两端通信低至 5ms，最终形成一种比基于 Internet 连接更为私密、稳定、高速的网络体验。</p><p>使用IPLC专线网络的优势有： </p><ol><li>速度更快，加快后开启国际网站速度更快；</li><li>安全系数好，加快专线运输选用私有专线运输出入口，安全性有确保；</li><li>可靠性高，加快专线运输的速度更快且平稳，防止忽快忽慢的状况； </li><li>网络丢包低，加快专线运输的网络丢包低于1%； </li><li>花费划算，加快专线运输价钱仅是国际性专线运输价钱的一些之一，能为企业大大减少成本支出；</li><li>安裝便捷、灵便、便捷。 总而言之，IPLC专线网络是提供高速的网络。为企业提供高效的中港私网直联，时延低至 5ms，彻底解决企业出海业务中的跨境网络互访慢、部署成本昂贵、管理难度高等问题。</li></ol><h2 id="vps系统选择"><a href="#vps系统选择" class="headerlink" title="vps系统选择"></a>vps系统选择</h2><blockquote><p>优选开源的linux系统。windows系统虽然有图形界面易于上手，但是吃配置，如果服务器遇到高系统负载，网站性能可能会受到影响，而且<a href="https://fastestvpn.com/zh-CN/下载/视窗-vpn">Windows</a> 是一个付费操作系统，需要您购买许可证才能完全激活其系统和功能。 因此，您可能需要花更多的钱购买 Windows VPS 计划，因为它还包含 Windows 激活许可证的费用。</p><p>linux系统的发行版主要有Debian，Ubuntu和 CentOS。个人喜欢用Debian10-64位系统（或者debian11），Debian系统非常精简，不会自带很多应用，需要啥后面自己apt安装即可，而Ubuntu系统自带了很多应用，就不需要自己安装比如wget包，sudo等等，ubuntu一般选择长期发行版的20.04，或者其它长期发行版。Centos不做推荐。</p></blockquote><h2 id="如何获得域名"><a href="#如何获得域名" class="headerlink" title="如何获得域名"></a>如何获得域名</h2><p>国内：阿里，腾讯</p><p>国外：namesilo</p><h2 id="如何把域名解析到服务器"><a href="#如何把域名解析到服务器" class="headerlink" title="如何把域名解析到服务器"></a>如何把域名解析到服务器</h2><p>域名是啥：</p><p>由于IP地址具有不方便记忆并且不能显示地址组织的名称和性质等缺点，人们设计出了域名，并通过网域名称系统（DNS，Domain Name System）来将域名和IP地址相互映射，使人更方便地访问互联网，而不用去记住能够被机器直接读取的IP地址数串。 比如baidu.com，在cmd命令行输入ping baidu.com会看到IP地址，这个ip就代表着一台主机，使用百度搜索就是个人电脑会和这台主机交换信息，<strong>但是并不代表百度这个服务部署在这台主机上</strong>。</p><p>域名解析首推cloudflare</p><h2 id="如何远程控制自己的vps"><a href="#如何远程控制自己的vps" class="headerlink" title="如何远程控制自己的vps"></a>如何远程控制自己的vps</h2><p>使用远程连接工具：finalshell，xshell,putty等ssh连接工具</p><h2 id="正向代理和反向代理"><a href="#正向代理和反向代理" class="headerlink" title="正向代理和反向代理"></a>正向代理和反向代理</h2><h3 id="正向代理"><a href="#正向代理" class="headerlink" title="正向代理"></a>正向代理</h3><p>A同学在大众创业、万众创新的大时代背景下开启他的创业之路，目前他遇到的最大的一个问题就是启动资金，于是他决定去找马云爸爸借钱，可想而知，最后碰一鼻子灰回来了，情急之下，他想到一个办法，找关系开后门，经过一番消息打探，原来A同学的大学老师王老师是马云的同学，于是A同学找到王老师，托王老师帮忙去马云那借500万过来，当然最后事成了。不过马云并不知道这钱是A同学借的，马云是借给王老师的，最后由王老师转交给A同学。这里的王老师在这个过程中扮演了一个非常关键的角色，就是<strong>代理</strong>，也可以说是正向代理，王老师代替A同学办这件事，这个过程中，真正借钱的人是谁，马云是不知道的，这点非常关键。</p><p>我们常说的代理也就是只正向代理，正向代理的过程，它隐藏了真实的请求客户端，服务端不知道真实的客户端是谁，客户端请求的服务都被代理服务器代替来请求，科学上网工具 Shadowsocks 扮演的就是典型的正向代理角色。在天朝用浏览器访问 www.google.com 时会被无情的墙掉，要想翻阅这堵墙，你可以在国外用 Shadowsocks 来搭建一台代理服务器，让代理帮我们去请求 www.google.com，代理再把请求响应结果再返回给我。</p><p><img src="http://foofish.net/images/proxy.jpg" alt="proxy"></p><h3 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h3><p>大家都有过这样的经历，拨打10086 客服电话，一个地区的 10086 客服有几个或者几十个，你永远都不需要关心在电话那头的是哪一个，叫什么，男的，还是女的，漂亮的还是帅气的，你都不关心，你关心的是你的问题能不能得到专业的解答，你只需要拨通了10086 的总机号码，电话那头总会有人会回答你，只是有时慢有时快而已。那么这里的 10086 总机号码就是我们说的<strong>反向代理</strong>。客户不知道真正提供服务的人是谁。</p><p>反向代理隐藏了真实的服务端，当我们访问 www.baidu.com 的时候，就像拨打 10086 一样，背后可能有成千上万台服务器为我们服务，但具体是哪一台，你不知道，也不需要知道，你只需要知道反向代理服务器是谁就好了，www.baidu.com 就是我们的反向代理服务器，反向代理服务器会帮我们把请求转发到提供真实计算的服务器那里去。Nginx 就是性能非常好的反向代理服务器，它可以用来做负载均衡。</p><p><code>两者的区别在于代理的对象不一样，**「正向代理」代理的对象是客户端，「反向代理」代理的对象是服务端**</code></p><h2 id="拿到vps首先要做的事（debian系统）"><a href="#拿到vps首先要做的事（debian系统）" class="headerlink" title="拿到vps首先要做的事（debian系统）"></a>拿到vps首先要做的事（debian系统）</h2><h3 id="更新包"><a href="#更新包" class="headerlink" title="更新包"></a>更新包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update -y &amp;&amp; apt upgrade -y</span><br></pre></td></tr></table></figure><h3 id="安装常用的命令"><a href="#安装常用的命令" class="headerlink" title="安装常用的命令"></a>安装常用的命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install sudo curl wget</span><br></pre></td></tr></table></figure><h3 id="更改默认ssh连接的端口"><a href="#更改默认ssh连接的端口" class="headerlink" title="更改默认ssh连接的端口"></a>更改默认ssh连接的端口</h3><p>很多服务器厂商ssh默认的连接端口是22,超级管理员是root。修改默认端口，可以降低vps被黑的风险。</p><p>1.修改sshd_config文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p>找到port，把port前面的#删掉（#号的意思是这一行属于注释，删除#号代表代码有效），port后面空格输入自己的端口（一般建议大于1024，小于65535）。修改完成后，ctrl+o、回车、ctrl+x</p><p>下图ctrl+o提示是wirte out。ctrl+x提示是exit退出。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/16/10fsmhc-0.webp" alt="修改端口"></p><p>2.重启ssh服务使变更生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service sshd restart</span><br></pre></td></tr></table></figure><p><strong>注意：为了保证服务器不会失联，请不要关闭当前的ssh登录窗口！而是另外开一个窗口来测试！</strong></p><h3 id="新建普通用户"><a href="#新建普通用户" class="headerlink" title="新建普通用户"></a>新建普通用户</h3><p>在linux系统中用户权限是十分严格的，root用户的权限最大，类似windows系统的超级管理员。在windows系统中，一般开机登录的就是普通用户的账户。</p><p>由于权限大，误操作容易出问题，所以新建一个普通用户，需要root权限时再切换到root。</p><p>1.添加用户</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adduser superadmin</span><br></pre></td></tr></table></figure><p>superadmin替换成你自己的用户名</p><p>2.设置密码</p><p>会要求你输入两次密码，第一次是设置密码，第二次是确认密码，然后不用管一路回车</p><p><strong>注意输入密码的时候，屏幕是不会显示密码的，建议直接在记事本输入，然后粘贴。</strong></p><p>3.把刚刚添加的普通账户添加到用户偏好设置下面</p><p>在 <code>User Privilege Specification</code> 下加入一行 <code>superadmin ALL=(ALL) NOPASSWD:ALL</code> 即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">visudo</span><br></pre></td></tr></table></figure><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/16/1116beo-0.webp" alt="添加一行"></p><p>添加好后，同样ctrl+o、回车、ctrl+x</p><blockquote><p>我要特别说明的是<code>NOPASSWD</code>这个设置，它的意思是<code>vpsadmin</code>用户临时使用<code>root</code>权限时，不用额外输入密码。<strong>这与一般的安全建议相反</strong>。我之所以如此推荐，是因为很多新人不顾危险坚持使用<code>root</code>账号就是因为用<code>root</code>时不用重复输入密码、觉得轻松。“两害相权取其轻”，我认为【直接用<code>root</code>用户的风险】大于【使用<code>sudo</code>时不用输密码的风险】，所以做了以上的建议。</p></blockquote><p>如果你希望遵守传统习惯、每次使用<code>sudo</code>时需要输入密码，那么这一行改成 <code>vpsadmin ALL=(ALL:ALL) ALL</code> 即可。</p><h3 id="禁止root登录"><a href="#禁止root登录" class="headerlink" title="禁止root登录"></a>禁止root登录</h3><p>1.修改sshd_config文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p>2.找到<code>PermitRootLogin Yes</code>这一项，然后把它后面的设定值改为<code>no</code>即可。</p><p>使用 <code>ctrl+w</code> 进入搜索模式，然后输入 <code>PermitRootLogin</code> 并回车</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/16/11798zv-0.webp" alt="输入no"></p><p>添加好后，同样ctrl+o、回车、ctrl+x</p><p>3.重启 ssh 服务，让变更生效。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service sshd restart</span><br></pre></td></tr></table></figure><h3 id="安装ufw"><a href="#安装ufw" class="headerlink" title="安装ufw"></a>安装ufw</h3><blockquote><p>防火墙是一种安全系统，它基于一组安全规则来监视和控制网络流量。防火墙通常位于受信任的网络和不受信任的网络之间。</p><p>防火墙的主要作用是保护安全。防火墙可以在传入的恶意流量到达网络之前对其进行拦截，并防止敏感信息从网络流出。</p><p>防火墙也可以用于内容过滤。例如，学校可以配置防火墙，以防止其网络上的用户访问成人内容。同样，在某些国家/地区，政府运行防火墙，可以阻止该国家/地区内的人员访问互联网的某些部分。</p></blockquote><p>国内服务器厂商如阿里云，腾讯云都自带防火墙，而且级别是最高的，所以就无需自己配置防火墙，即使配置了防火墙，阿里或者腾讯服务器的后台不给放行端口，依然无法访问。而国外很多服务器都不是没有自带防火墙需要自己配置，ubuntu系统自带ufw，无需安装，debian系统需要先安装ufw。</p><ul><li>安装ufw</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ufw</span><br></pre></td></tr></table></figure><ul><li>查看 UFW 是否已经在运行</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw status</span><br></pre></td></tr></table></figure><p>如果你发现状态是 <code>inactive</code> ，意思是没有被激活或不起作用。</p><ul><li>启用/禁用</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ufw <span class="built_in">enable</span>  <span class="comment">#启用</span></span><br><span class="line">ufw <span class="built_in">disable</span>  <span class="comment">#禁用</span></span><br></pre></td></tr></table></figure><ul><li><p>设置默认规则</p><p>UFW默认情况下允许所有的出站连接，拒绝所有的入站连接，所以这里首先将UFW设置为默认规则：</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw default deny incoming</span><br><span class="line"></span><br><span class="line">sudo ufw default allow outgoing</span><br></pre></td></tr></table></figure><ul><li><strong>允许SSH连接</strong></li></ul><p>如果没有改端口：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow ssh</span><br></pre></td></tr></table></figure><p>如果修改了改端口：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 9953/tcp comment <span class="string">&#x27;SSH&#x27;</span></span><br></pre></td></tr></table></figure><p>6589改成自己的修改后的ssh连接的端口，给这个端口的tcp协议放行。</p><ul><li>添加规则，允许入站（allow）,自己使用了哪些端口就放行哪个，不放行无法连接上网。</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ufw allow http  <span class="comment">#添加80端口</span></span><br><span class="line"></span><br><span class="line">ufw allow https  <span class="comment">#添加443端口</span></span><br><span class="line"></span><br><span class="line">ufw allow 2333/tcp   <span class="comment">#添加2333端口，仅TCP协议</span></span><br><span class="line"></span><br><span class="line">ufw allow 6666/udp   <span class="comment">#添加6666端口，仅UDP协议</span></span><br><span class="line"></span><br><span class="line">ufw allow 8888:9999  <span class="comment">#添加8888到9999之间的端口</span></span><br><span class="line"></span><br><span class="line">ufw allow 6589       <span class="comment">#添加86589的端口</span></span><br></pre></td></tr></table></figure><ul><li>如果有很多条规则，使用 <code>numbered</code> 参数，可以在每条规则上加个序号数字。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw status numbered</span><br></pre></td></tr></table></figure><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/17/hfsojh-0.webp" alt="规则前加序号"></p><ul><li>删除规则：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw delete &lt;序号&gt;</span><br></pre></td></tr></table></figure><ul><li><strong>重载配置</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw reload</span><br></pre></td></tr></table></figure><p>以上都是一些简单常用的一些命令，想要深入了解，可以输入 <code>man ufw</code> 查看 ufw 用户手册。</p><h3 id="禁止ping"><a href="#禁止ping" class="headerlink" title="禁止ping"></a>禁止ping</h3><p>ping一个域名就会暴露自己vps的ip，而黑客想要入侵登录你的vps，需要ip,ssh连接的端口，用户名和密码，前面把ssh端口改了，添加了普通用户并禁止root用户登录。现在把自己vps的ip也稍微隐藏下。</p><blockquote><p>注意：如果vps搭建了节点服务，就不要设置了！！！设置了会无法使用。</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/ufw/before.rules</span><br></pre></td></tr></table></figure><p>ctrl+w搜索：<code>echo-request</code>，把<code>ACCEPT</code>改成<code>DROP</code>。ctrl+o、回车、ctrl+x保存退出</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/17/idgn27-0.webp" alt="该成DROP"></p><h3 id="修改系统时间"><a href="#修改系统时间" class="headerlink" title="修改系统时间"></a>修改系统时间</h3><p>欧美服务器需要修改服务器的时间与我们本地的时间一致</p><h4 id="先查看时间"><a href="#先查看时间" class="headerlink" title="先查看时间"></a>先查看时间</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timedatectl</span><br></pre></td></tr></table></figure><h4 id="改成上海时间"><a href="#改成上海时间" class="headerlink" title="改成上海时间"></a>改成上海时间</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo timedatectl set-timezone Asia/Shanghai <span class="comment">#改成上海</span></span><br></pre></td></tr></table></figure><h3 id="添加虚拟内存"><a href="#添加虚拟内存" class="headerlink" title="添加虚拟内存"></a>添加虚拟内存</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O box.sh https://raw.githubusercontent.com/BlueSkyXN/SKY-BOX/main/box.sh &amp;&amp; <span class="built_in">chmod</span> +x box.sh &amp;&amp; clear &amp;&amp; ./box.sh</span><br></pre></td></tr></table></figure><p>参考文章：<a href="https://blog.laoda.de/">https://blog.laoda.de/</a></p><p>​                    <a href="https://p3terx.com/archives/installing-and-configuring-ufw-in-debian.html">https://p3terx.com/archives/installing-and-configuring-ufw-in-debian.html</a></p><h3 id="一些常用的命令"><a href="#一些常用的命令" class="headerlink" title="一些常用的命令"></a>一些常用的命令</h3><ul><li>重启vps</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutdown -r now</span><br></pre></td></tr></table></figure><p><code>shutdown -r now</code>是一条在基于Unix的操作系统（如Linux或macOS）中常用的命令，用于启动立即重启系统。下面是对该命令各部分的解释：</p><p><code>shutdown</code>： 这是命令本身，用于管理系统关机和重启操作。<br><code>-r</code>: 这是一个选项，指定重启而不是完全关机。<br><code>now</code>： 它是一个参数，表示该操作应该立即执行，没有任何延迟。<br>因此，当你在终端或命令提示符中输入 <code>shutdown -r now</code>时，它告诉操作系统关闭所有进程和服务并立即重新启动计算机。</p>]]></content>
      
      
      <categories>
          
          <category> VPS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在hexo博客中插入一个类似github的活动日历</title>
      <link href="/posts/66a359124105/"/>
      <url>/posts/66a359124105/</url>
      
        <content type="html"><![CDATA[<details class="folding-tag" cyan open><summary> 前言 </summary>              <div class='content'>              <p><a href="https://akilar.top/posts/1f9c68c9/">糖果屋</a>给出了两种安装gitcalendar的方法。一个是插件版，这种方法方便新手安装，另一个是修改源码法，按照教程也能成功安装。但是安装好后，要想显示数据，要么使用大佬的公共api，要么就是自己建立api，公共api已经爆掉，所以只能选择自己建api。糖果屋也提供了自己搭建api的教程，但是个人看着教程搭建了四五次，都没有成功，访问自己的api全部显示以下错误：</p><p><code>This Serverless Function has crashed.</code></p><p><code>Your connection is working correctly.</code></p><p><code>Vercel is working correctly.</code></p><p><code>500: INTERNAL_SERVER_ERROR</code><br><code>Code: FUNCTION_INVOCATION_FAILED</code></p><p>因此本教程主要记录下如何自建api的过程，以及建立api过程遇到的问题。</p>              </div>            </details><h1 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h1><h2 id="安装插件-在博客根目录-Blogroot-下打开终端，运行以下指令："><a href="#安装插件-在博客根目录-Blogroot-下打开终端，运行以下指令：" class="headerlink" title="安装插件,在博客根目录[Blogroot]下打开终端，运行以下指令："></a>安装插件,在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-filter-gitcalendar --save</span><br></pre></td></tr></table></figure><h2 id="在站点配置文件-config-yml或者主题配置文件如-config-butterfly-yml中添加以下代码"><a href="#在站点配置文件-config-yml或者主题配置文件如-config-butterfly-yml中添加以下代码" class="headerlink" title="在站点配置文件_config.yml或者主题配置文件如_config.butterfly.yml中添加以下代码"></a>在站点配置文件_config.yml或者主题配置文件如_config.butterfly.yml中添加以下代码</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-filter-gitcalendar</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/1f9c68c9/</span></span><br><span class="line"><span class="attr">gitcalendar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="comment"># butterfly挂载容器</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># volantis挂载容器</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: class</span></span><br><span class="line">  <span class="comment">#   name: l_main</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="comment"># matery挂载容器</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: id</span></span><br><span class="line">  <span class="comment">#   name: indexCard</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="comment"># mengd挂载容器</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: class</span></span><br><span class="line">  <span class="comment">#   name: content</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">Akilarlxh</span> <span class="comment">#git用户名</span></span><br><span class="line">  <span class="attr">apiurl:</span> <span class="string">&#x27;https://gitcalendar.akilar.top&#x27;</span></span><br><span class="line">  <span class="attr">minheight:</span></span><br><span class="line">    <span class="attr">pc:</span> <span class="string">280px</span> <span class="comment">#桌面端最小高度</span></span><br><span class="line">    <span class="attr">mibile:</span> <span class="string">0px</span> <span class="comment">#移动端最小高度</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;[&#x27;#e4dfd7&#x27;, &#x27;#f9f4dc&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f8df72&#x27;, &#x27;#fcd217&#x27;, &#x27;#fcc515&#x27;, &#x27;#f28e16&#x27;, &#x27;#fb8b05&#x27;, &#x27;#d85916&#x27;, &#x27;#f43e06&#x27;]&quot;</span> <span class="comment">#橘黄色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#fdcdec&#x27;, &#x27;#fc9bd9&#x27;, &#x27;#fa6ac5&#x27;, &#x27;#f838b2&#x27;, &#x27;#f5089f&#x27;, &#x27;#c4067e&#x27;, &#x27;#92055e&#x27;, &#x27;#540336&#x27;, &#x27;#48022f&#x27;, &#x27;#30021f&#x27;]&quot; #浅紫色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f0fff4&#x27;, &#x27;#dcffe4&#x27;, &#x27;#bef5cb&#x27;, &#x27;#85e89d&#x27;, &#x27;#34d058&#x27;, &#x27;#28a745&#x27;, &#x27;#22863a&#x27;, &#x27;#176f2c&#x27;, &#x27;#165c26&#x27;, &#x27;#144620&#x27;]&quot; #翠绿色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f1f8ff&#x27;, &#x27;#dbedff&#x27;, &#x27;#c8e1ff&#x27;, &#x27;#79b8ff&#x27;, &#x27;#2188ff&#x27;, &#x27;#0366d6&#x27;, &#x27;#005cc5&#x27;, &#x27;#044289&#x27;, &#x27;#032f62&#x27;, &#x27;#05264c&#x27;]&quot; #天青色调</span></span><br><span class="line">  <span class="attr">container:</span> <span class="string">.recent-post-item(style=&#x27;width:100%;height:auto;padding:10px;&#x27;)</span> <span class="comment">#父元素容器，需要使用pug语法</span></span><br><span class="line">  <span class="attr">gitcalendar_css:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css</span></span><br><span class="line">  <span class="attr">gitcalendar_js:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js</span></span><br></pre></td></tr></table></figure><p><strong>注意：</strong></p><p><code>User</code>需要改成自己github的用户名</p><p><code>apiurl</code>改成自己后面建的api</p><h2 id="参数释义"><a href="#参数释义" class="headerlink" title="参数释义"></a>参数释义</h2><div class="table-container"><table><thead><tr><th style="text-align:left">参数</th><th style="text-align:center">备选值/型</th><th style="text-align:left">释义</th></tr></thead><tbody><tr><td style="text-align:left">priority</td><td style="text-align:center">number</td><td style="text-align:left">【可选】过滤器优先级，数值越小，执行越早，默认为10，选填</td></tr><tr><td style="text-align:left">enable</td><td style="text-align:center">true/false</td><td style="text-align:left">【必选】控制开关</td></tr><tr><td style="text-align:left">enable_page</td><td style="text-align:center">path/all</td><td style="text-align:left">【可选】填写想要应用的页面的相对路径（即路由地址）,如根目录就填’/‘,分类页面就填’/categories/‘。若要应用于所有页面，就填’all’，默认为’/‘</td></tr><tr><td style="text-align:left">layout.type</td><td style="text-align:center">id/class</td><td style="text-align:left">【可选】挂载容器类型，填写id或class，不填则默认为id</td></tr><tr><td style="text-align:left">layout.name</td><td style="text-align:center">text</td><td style="text-align:left">【必选】挂载容器名称</td></tr><tr><td style="text-align:left">layout.index</td><td style="text-align:center">0和正整数</td><td style="text-align:left">【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位</td></tr><tr><td style="text-align:left">user</td><td style="text-align:center">text</td><td style="text-align:left">【必选】git用户名</td></tr><tr><td style="text-align:left">apiurl</td><td style="text-align:center">url</td><td style="text-align:left">【可选】默认使用提供文档提供的api，但还是建议自建api，参考教程：<a href="https://akilar.top/posts/1f9c68c9/#自建API部署">自建API部署</a></td></tr><tr><td style="text-align:left">minheight.pc</td><td style="text-align:center">280px</td><td style="text-align:left">【可选】桌面端最小高度，默认为280px</td></tr><tr><td style="text-align:left">minheight.mobile</td><td style="text-align:center">0px</td><td style="text-align:left">【可选】移动端最小高度，默认为0px</td></tr><tr><td style="text-align:left">color</td><td style="text-align:center">list</td><td style="text-align:left">【可选】一个包含11个色值的数组，文档给出了四款预设值</td></tr><tr><td style="text-align:left">container</td><td style="text-align:center">pug</td><td style="text-align:left">【可选】预留的父元素容器，用以适配多主题，需要用pug语法填写，目前已适配<a href="https://github.com/jerryc127/hexo-theme-butterfly">butterfly</a>，<a href="https://github.com/volantis-x/hexo-theme-volantis">volantis</a>，<a href="https://github.com/blinkfox/hexo-theme-matery">matery</a>，<a href="https://github.com/lete114/hexo-theme-MengD">mengd</a>主题，这四个主题，插件会自自动识别<code>_config.yml</code>内填写的<code>theme</code>配置项。其余主题需要自己填写父元素容器。</td></tr><tr><td style="text-align:left">gitcalendar_css</td><td style="text-align:center">URL</td><td style="text-align:left">【可选】自定义CSS样式链接</td></tr><tr><td style="text-align:left">gitcalendar_js</td><td style="text-align:center">URL</td><td style="text-align:left">【可选】自定义js链接</td></tr></tbody></table></div><h1 id="自建无需翻墙的api"><a href="#自建无需翻墙的api" class="headerlink" title="自建无需翻墙的api"></a>自建无需翻墙的api</h1><h2 id="注册Vercel"><a href="#注册Vercel" class="headerlink" title="注册Vercel"></a>注册Vercel</h2><p><a href="https://vercel.com/">Vercel官网</a></p><h2 id="新建项目"><a href="#新建项目" class="headerlink" title="新建项目"></a>新建项目</h2><ul><li>注册完后，登录账号，新建项目</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/06/ov4act.webp" alt="新建项目"></p><ul><li>点击导入第三方git仓库</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/06/owrape.webp" alt=""></p><ul><li>粘贴以下链接，点击继续。（这一步是与糖果屋唯一不同的地方，糖果屋给出的是冰老师的仓库，打开api后会显示500错误）</li></ul><p>使用下面的就能避免开头说的<code>500</code>错误。</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/NinoNeumann/MyGitCalenderAPI.git</span><br></pre></td></tr></table></figure><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/06/oynofk-0.webp" alt="粘贴链接"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/06/p3diyw.webp" alt="创建仓库"></p><ul><li>等待创建完成，返回主页，找到主页刚刚创建的项目，点击进去</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/06/p4om3a-0.webp" alt="主页"></p><ul><li>点击链接，</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/06/p5tfp2-0.webp" alt="image-20230406152141977"></p><ul><li>如果点击链接后提示<code>无法访问此网站</code>,说明被墙了，无法访问。<strong>翻墙点击链接访问是会出现下图</strong></li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/06/p7oo0i.webp" alt=""></p><ul><li>在域名<code>gitcalendar-api-222.vercel.app</code>后添加<code>/api/?你的github用户名</code>。如<code>gitcalendar-api-222.vercel.app/api/?DEKVIW</code>便能访问github的日历活动数据</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/06/p9b5hi.webp" alt="数据页面"></p><p>到这里其实api已经建好，只需要把<code>https://gitcalendar-api-222.vercel.app/</code>放到yaml文件的<code>apiurl</code>处，再hexo三连部署就能显示。</p><p>只不过国内网络访问博客会出现一直加载不出数据，一直转圈的情况。所以需要解决下国内访问数据的问题。</p><h2 id="解决api国内访问"><a href="#解决api国内访问" class="headerlink" title="解决api国内访问"></a>解决api国内访问</h2><ul><li>需要准备一个域名，把域名解析到<code>cname-china.vercel-dns.com</code></li></ul><p>例如我把<code>ceshi222.yilan.uk</code>cname到<code>cname-china.vercel-dns.com</code>（自定义处就是输入ceshi222）</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/06/pjhrdu.webp" alt="域名解析"></p><ul><li>解析好后回到Vercel，进入之前创建的项目，点击view domains</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/06/pkojng.webp" alt=""></p><ul><li>把你的域名填入框内，点击添加，等待完成即可</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/06/ppgl17.webp" alt="完成"></p><ul><li>这时候无需放墙就能访问<code>https://ceshi222.yilan.uk/api/?DEKVIW</code>获取github的活动日历数据</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/06/pqgzhd.webp" alt="数据"></p><p>在yaml文件的<code>apiurl</code>处填写<code>https://ceshi222.yilan.uk</code></p>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AI图像处理工具箱</title>
      <link href="/posts/69f110715577/"/>
      <url>/posts/69f110715577/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>今天分享一个在线处理图片的网站<a href="https://clipdrop.co/">https://clipdrop.co/</a></p><p>集合了八个功能：<code>自动清除功能</code>、<code>去除背景</code>、<code>重新打灯</code>、<code>图像无损放大</code>、<code>文字转图片</code>、<code>替换背景</code>、<code>删除文本</code>、<code>AI重构图片</code></p><p>优点：其中的六个功能无须注册，打开即用。相比现在大部分在线工具动辄只有注册才能使用良心很多</p><p>使用场景：偶尔需要处理图片、当其它设备没有安装PS时应急使用</p><h2 id="自动清除功能"><a href="#自动清除功能" class="headerlink" title="自动清除功能"></a>自动清除功能</h2><p><strong>可以自动从图像中清除对象、人物、文本和缺陷。</strong></p><p>用笔刷涂抹不想要的部分，再点击清除即可</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/04/j0bmnp.webp" alt="清除前"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/04/j0zpeq.webp" alt="清除后"></p><h2 id="去除背景"><a href="#去除背景" class="headerlink" title="去除背景"></a>去除背景</h2><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/04/j4iwkn.webp" alt="去背效果"></p><h2 id="重新打灯"><a href="#重新打灯" class="headerlink" title="重新打灯"></a>重新打灯</h2><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/04/jugfli.webp" alt="重新打灯"></p><h2 id="图像无损放大"><a href="#图像无损放大" class="headerlink" title="图像无损放大"></a>图像无损放大</h2><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/04/jxibl5.webp" alt="放大前"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/04/jxobar.webp" alt="放大两倍"></p><h2 id="文字转图片"><a href="#文字转图片" class="headerlink" title="文字转图片"></a>文字转图片</h2><p>升级会员，下次联络</p><h2 id="替换背景"><a href="#替换背景" class="headerlink" title="替换背景"></a>替换背景</h2><p>升级会员，下次联络</p><h2 id="删除文本"><a href="#删除文本" class="headerlink" title="删除文本"></a>删除文本</h2><p>删除前</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/04/k1xyft.webp" alt="文本去除前"></p><p>删除后</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/04/k1xtxu.webp" alt="文本去除后"></p><h2 id="AI重构图片"><a href="#AI重构图片" class="headerlink" title="AI重构图片"></a>AI重构图片</h2><p>会根据上传图片的风格和内容来重新绘制相似的图片。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/04/04/k5d54x.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 在线工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>office tool plus使用教程</title>
      <link href="/posts/a3e53b521018/"/>
      <url>/posts/a3e53b521018/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>  <a href="https://otp.landian.vip/zh-cn/" title="Office Tool Plus官网">Office Tool Plus</a>是一个用于下载、安装、激活 Office 的小工具，基于 Office 部署工具制作。借助 Office Tool Plus，你可以高速下载 Office，自定义安装 Office，对 Office 进行激活配置等。从下载到激活一站式服务。更多文档参考 <a href="https://www.coolhub.top/archives/227" title="Office Tool Plus v10 发布">官网教程</a></p><p>Office Tool Plus 下载/安装的 Office 均为微软官方原版，非破解、非精简、非绿色版。至于你的 Office 是否正版，看你怎么激活，并不是用 Office Tool Plus 就一定是盗版，反之成立。即使你购买了正版 Office，你依然可以使用 Office Tool Plus 安装 Office。更多文档参考<a href="https://www.coolhub.top/archives/13" title="疑难解答">官网疑难解答</a></p><p>以下使用Office_Tool_with_runtime_v10.0.4.11（当前最新版本）演示下安装office的过程。</p><p><code>注意：</code>安装之前，必须彻底卸载之前版本，office tool plus里面内置卸载工具，包括卸载证书，卸载密钥，卸载软件，卸载kms服务器。系统最好是win10</p><h2 id="部署office"><a href="#部署office" class="headerlink" title="部署office"></a>部署office</h2><ul><li>部署office</li></ul><p>部署模式选择安装</p><p>体系结构根据自己的系统位数</p><p>更新通道office2021-企业长期版</p><p>安装模块选择office tool plus</p><p>打开下载后部署</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/30/owdu2q.webp" alt="部署office"></p><ul><li>点击添加产品，选择office LTSC专业增强版2021-批量许可证，带批量许可证的才能激活成功。</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/30/oz32rb.webp" alt="选择产品"></p><ul><li>选择office组件，选择语言包</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/30/p2neyt.webp" alt="选择office组件"></p><ul><li>点击开始部署，等待下载安装完成</li><li>可以发现此时还没有激活</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/30/p6wscn.webp" alt="未激活"></p><h2 id="激活office"><a href="#激活office" class="headerlink" title="激活office"></a>激活office</h2><ul><li>安装许可证</li></ul><p>许可证选择2021专业增强版批量许可证。</p><ul><li>添加kms服务器</li></ul><p>更多kms服务器地址参考 <a href="https://www.coolhub.top/tech-articles/kms_list.html" title="KMS地址列表">KMS地址列表</a></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/30/pdllul.webp" alt="添加许可证和kms服务器"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/30/pl7anw.webp" alt="已激活"></p><p>每三个月需要重新刷一下kms主机，出现激活</p><p>感谢油管 <a href="https://www.youtube.com/watch?v=Mm9Iypld2Ak&amp;t=81s" title="更多文档">GagleTV</a>提供的视频教程</p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> office </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>word、excel、pointpot最强免费安装教程！</title>
      <link href="/posts/431b2e533fd9/"/>
      <url>/posts/431b2e533fd9/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>微软官方其实是给出个人免费使用office的方法——使用官方批量授权的office套件（批量授权的才有免费的密钥），并且微软也提供了教程。这样做其实是打击盗版，因为大家私下使用盗版一般查不到。企业用户根本不能使用这个批量授权，它是会抓的。简单讲就是，惩罚企业行为，允许个人可以名正言顺的非法使用，培养用户群体，这样就能一直占有市场，保持市场活力。毕竟你能免费用office还去玩wps么。以下是微软官方提供的免费安装和激活office软件的方法。<code>不推荐大家使用第三方KMS工具激活，因为目前网上第三方的KMS激活工具很多都带有后门，不建议使用。</code></p><blockquote><p><code>kms简介</code></p><p>KMS 是一种专为中型和大型企业设计的 Microsoft 产品的激活方法。 在标准 SOHO 环境中，您在安装期间输入产品密钥，然后通过 Internet 激活产品。这是通过向<code>microsoft.com</code>上的服务器发送请求来完成的，然后该服务器授予或拒绝激活。</p><p>通过输入称为通用批量许可证密钥（GVLK）的特殊密钥（又名“KMS 客户端密钥”），产品不再要求 Microsoft 服务器进行激活，而是通常驻留在公司内部网中的用户定义服务器（称为 KMS 服务器）。 Microsoft 仅将其 KMS 服务器提供给签署了所谓“选择合同”的公司。</p><p>KMS 激活大家应该比较熟悉，网上的激活工具基本都是使用 KMS 激活的，激活的期限一般是 180 天。不过激活工具相当于开了一个 KMS 服务器运行在你的电脑上，每过 180 天，系统会自动连接激活服务器进行激活，所以只要 KMS 服务器还在就不用担心失效的问题。如果 KMS 不在了，换一个即可，180 天总能找到一个，或者像本文这样自建一个就不怕失效了。</p><p>摘自 <a href="https://www.iszy.cc/posts/setup-kms/" title="Linux 自建 KMS 服务器">随遇而安</a></p></blockquote><p>微软官方批量激活密钥，基于KMS的 GVLK：</p><p><a href="https://learn.microsoft.com/zh-cn/deployoffice/vlactivation/gvlks">地址</a></p><h2 id="微软官方卸载office工具"><a href="#微软官方卸载office工具" class="headerlink" title="微软官方卸载office工具)"></a>微软官方卸载office工具)</h2><p>想安装先要学会彻底卸载旧版office，旧版office卸载不干净，后续安装和激活会出现很多问题。作为微软推出的办公全家桶，有时候我们并不会用上Office的全部套件，但是很多时候并没有选择的自由——电脑可能预装了Office的N套件，或者安装Office的时候就是一个捆绑包。通常我们会使用Office官方的卸载程序，然而这条路却时不时走不通，经常会出现卸载不干净甚至无法顺利卸载的情况。怎么办？其实微软官方是知道这个问题的，微软官方就推出了一款专业的Office卸载工具。</p><p><a href="https://support.microsoft.com/zh-cn/office/%E4%BB%8E-pc-%E5%8D%B8%E8%BD%BD-office-9dd49b83-264a-477a-8fcc-2fdf5dbf61d8">地址</a></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/28/110ov5k.webp" alt="下载安装微软提供的卸载工具"></p><h2 id="微软官方安装正版office软件"><a href="#微软官方安装正版office软件" class="headerlink" title="微软官方安装正版office软件"></a>微软官方安装正版office软件</h2><h3 id="下安office-软件部署工具"><a href="#下安office-软件部署工具" class="headerlink" title="下安office 软件部署工具"></a>下安office 软件部署工具</h3><ul><li>office 软件部署工具：打开下面的网址</li></ul><p><a href="https://www.microsoft.com/en-us/download/details.aspx?id=49117">地址</a></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/28/113ofzm.webp" alt="下载office 软件部署工具"></p><h3 id="把部署工具下载到office文件夹"><a href="#把部署工具下载到office文件夹" class="headerlink" title="把部署工具下载到office文件夹"></a>把部署工具下载到office文件夹</h3><ul><li>在C盘新建一个文件夹，命名为office</li><li>双击运行officedeploymenttool_15928-20216.exe</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/28/119ph7u.webp" alt="勾选同意"></p><ul><li>选择刚刚创建的offiice文件夹，点击确定</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/28/11aqm7x.webp" alt="选择office文件夹"></p><ul><li>可以看到office部署工具已经下载到office文件夹</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/29/nyr729.webp" alt="office文件夹"></p><h3 id="配置office"><a href="#配置office" class="headerlink" title="配置office"></a>配置office</h3><ul><li>office 版本自定义工具：打开下面的网址</li></ul><p><a href="https://config.office.com/deploymentsettings">地址</a></p><p>第一步和第二步需要自己选择，剩下的步骤默认即可</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/28/123di5g.webp" alt="依次安装自己的情况和需求配置"></p><ul><li>产品和版本选择，其它产品选择语言包。</li></ul><p><code>一定选择批量许可证</code></p><p><code>一定选择批量许可证</code></p><p><code>一定选择批量许可证</code></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/28/127e5pk.webp" alt="选择版本"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/28/128kaba-0.webp" alt="选择产品"></p><ul><li>语言选择</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/28/12a0tnb.webp" alt="选择语言"></p><ul><li>全部选择好后，点击导出</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/28/12cs5i5.webp" alt="导出配置文件"></p><p>文件名填config（也可以自己自定义名字，不过后面的对应代码也有修改成这里的名字）</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/28/12deysb.webp" alt="导出config.xml"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/28/12elf4n.webp" alt="得到config.xml文件"></p><p><code>把这个config.xml文件移动到之前创建的office文件夹内，我的是F:\office</code></p><p>打开config.xml文件看看，可以看到有激活密钥（这步可以不做）</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/29/npf52j.webp" alt="config.xml文件"></p><p>把office文件夹路径复制下来</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/29/o03vve.webp" alt="复制office文件夹路径"></p><h3 id="通过官方下载安装批量授权版："><a href="#通过官方下载安装批量授权版：" class="headerlink" title="通过官方下载安装批量授权版："></a>通过官方下载安装批量授权版：</h3><ul><li><p>以管理员身份运行CMD</p></li><li><p>CD命令进入office文件夹，例如cd c:\office 回车</p></li><li>在office文件夹路径下执行<code>下载命令</code>，回车</li></ul><p><code>下载命令：</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setup /download config.xml </span><br></pre></td></tr></table></figure><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/29/o3i9ma.webp" alt="等待下载完成"></p><p>下载时间看网速，大概10分钟左右就下载完成，cmd命令行显示如下</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/29/ov40wg.webp" alt="命令行"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/29/oxj4he.webp" alt="office文件夹"></p><ul><li>CMD命令行在office文件夹路径输入下面的安装命令，回车</li></ul><p><code>安装命令:</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setup /configure config.xml</span><br></pre></td></tr></table></figure><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/29/ozoujn.webp" alt="安装"></p><p>接着会出现安装页面，等待安装完成。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/29/ozy90d.webp" alt="出现安装页面"></p><p>安装完成后，打开任意一个office组件，比如word，看看是否显示激活。如果没有激活，重启电脑就行了。</p><p>备选方案：如果依然没有激活，使用以下命令激活。</p><p>cd命令后面的路径是office的安装路径，以下是64位安装的默认地址，32位到Program Files (x86)文件夹下找。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd C:\Program Files \Microsoft Office\Office16</span><br><span class="line"></span><br><span class="line">cscript ospp.vbs /sethst:kms.03k.org</span><br><span class="line"></span><br><span class="line">cscript ospp.vbs /act</span><br></pre></td></tr></table></figure><p>kms服务器地址：kms.03k.org、kms.loli.best、kms.loli.best、kms.catqu.com</p><p><code>注意:</code>此激活方法，每三个月需要重新执行一次以上命令，并非官方支持的kms服务器。不过个人可以使用，微软对于个人行为是模棱两可态度。对于企业不要使用，一旦被微软发现，就要面临巨额罚款。</p><blockquote><p>如果大家觉得麻烦，可以使用office tool plus进行配置，office tool plus 官网：<a href="https://otp.landian.vip/zh-cn/。大致流程是一样的，只不过office">https://otp.landian.vip/zh-cn/。大致流程是一样的，只不过office</a> tool plus把所有操作集成在一个软件界面，不需要啥cmd,网页来回切换。它把卸载，部署，安装和激活都整合在一起，使用起来很方便，不喜欢折腾的同学，推荐使用这款工具安装并激活office。</p><p>office系列可能还有两期，一期讲下office tool plus配置。一期讲下申请微软365开发者账号，并使用e5续期实现理论上永久免费使用office365，申请onedrive 5T空间。</p></blockquote><p>后台回复<code>office</code>获取office tool plus软件</p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> office </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>独角数卡常见问题及后台配置</title>
      <link href="/posts/2d483715b4ac/"/>
      <url>/posts/2d483715b4ac/</url>
      
        <content type="html"><![CDATA[<h2 id="后台管理密码忘记了"><a href="#后台管理密码忘记了" class="headerlink" title="后台管理密码忘记了"></a>后台管理密码忘记了</h2><p>服务器终端下<code>cd 网站根目录</code>, 执行以下命令重置管理员密码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan admin:reset-password</span><br></pre></td></tr></table></figure><h2 id="修改后台登录地址"><a href="#修改后台登录地址" class="headerlink" title="修改后台登录地址"></a>修改后台登录地址</h2><p>编辑项目根目录下<code>.env</code>里面的 <code>ADMIN_ROUTE_PREFIX</code>即可</p><h2 id="后台登录出现0err"><a href="#后台登录出现0err" class="headerlink" title="后台登录出现0err"></a>后台登录出现0err</h2><p>出现这个问题大概率是开启了nginx的https或者强制https访问，导致请求接口出错。<br>牢记一个原则，只要开启了https访问，那么后台也要开启https！<br>解决这个问题的方法，就是编辑<code>网站根目录.env</code>文件。<br>配置如下选项(如果没有就新增)：👇👇👇👇</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ADMIN_HTTPS=true</span><br></pre></td></tr></table></figure><h2 id="上传了图片不显示或图片显示错误"><a href="#上传了图片不显示或图片显示错误" class="headerlink" title="上传了图片不显示或图片显示错误"></a>上传了图片不显示或图片显示错误</h2><p>编辑根目录下<code>.env</code>文件,<br>将APP_URL修改为自己的域名</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/21/sgxtna.webp" alt=".env文件"></p><h2 id="解决独角卡客户支付后依然显示未支付，不发卡密的方法"><a href="#解决独角卡客户支付后依然显示未支付，不发卡密的方法" class="headerlink" title="解决独角卡客户支付后依然显示未支付，不发卡密的方法"></a>解决独角卡客户支付后依然显示未支付，不发卡密的方法</h2><p><code>问题的原因在于，防火墙，CDN，SSL证书，如果使用的是官方支付宝也有可能是域名被墙或者劫持。</code></p><p>我的是出在SSl证书这，使用aapanel建站时申请的证书有问题。</p><p>解决方法：添加一个网站端口，然后使用npm反代申请的证书。</p><p>注意：网站根目录的.env文件最后一行需要修改ADMIN_HTTPS=true。不修改，无法跳转支付页面提示不安全。</p><p>是否开启https (前端开启了后端也必须为true)</p><p>后台登录出现0err或者其他登录异常问题，大概率是开启了https而后台没有开启，把下面的false改为true即可</p><p>ADMIN_HTTPS=true</p><h2 id="配置邮件服务"><a href="#配置邮件服务" class="headerlink" title="配置邮件服务"></a>配置邮件服务</h2><p><code>注意，2.0+版本直接在后台设置即可，无需编辑.env文件了</code><br>编辑根目录下<code>.env</code>配置，配置邮件服务</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 邮件服务配置</span><br><span class="line">MAIL_DRIVER=smtp</span><br><span class="line">MAIL_HOST=smtp.mailgun.org</span><br><span class="line">MAIL_PORT=587</span><br><span class="line">MAIL_USERNAME=</span><br><span class="line">MAIL_PASSWORD=</span><br><span class="line">MAIL_FROM_ADDRESS=server@emails.dujiaoka.com</span><br><span class="line">MAIL_FROM_NAME=独角发卡</span><br><span class="line">MAIL_ENCRYPTION=tls</span><br></pre></td></tr></table></figure><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/21/qyrs07.webp" alt="后台配置邮件服务"></p><h2 id="各支付对应配置"><a href="#各支付对应配置" class="headerlink" title="各支付对应配置"></a>各支付对应配置</h2><div class="table-container"><table><thead><tr><th>支付选项</th><th>商户id</th><th>商户key</th><th>商户密钥</th><th>备注</th></tr></thead><tbody><tr><td>Epusdt</td><td>api接口认证token</td><td>空</td><td>epusdt收银台地址+/api/v1/order/create-transaction</td><td>如果独角数卡和epusdt在同一服务器则填写<code>127.0.0.1</code>不要填域名，例如<code>http://127.0.0.1:8000/api/v1/order/create-transaction</code></td></tr><tr><td>支付宝官方(当面付、PC、wap)</td><td>支付宝开放平台应用appid</td><td>支付宝公钥</td><td>商户私钥</td><td></td></tr><tr><td>payjs</td><td>payjs商户号(mchid)</td><td>空</td><td>payjs密钥</td><td></td></tr><tr><td>码支付</td><td>平台商户号</td><td>码支付请求网址</td><td>密钥</td><td>市面上太多码支付了，直接将支付接口网址填入商户key就行。只要加密方式一样的就能发起支付，不行就不行了。懒得一家一家对接了</td></tr><tr><td>微信官方</td><td>公众号或小程序appid</td><td>商户号</td><td>商户api密钥</td><td></td></tr><tr><td>麻瓜宝</td><td>商户密钥</td><td>空</td><td>任意字符串</td><td></td></tr><tr><td>paysapi</td><td>商户号</td><td>空</td><td>密钥</td><td></td></tr><tr><td>易支付</td><td>易支付</td><td>易支付请求网址</td><td>密钥</td><td>记得网址后面加/submit.php，不然请求没有作用！例如<a href="http://xxx.com/submit.php">http://xxx.com/submit.php</a></td></tr><tr><td>V免签</td><td>V免签通讯密钥</td><td>空</td><td>V免签地址</td><td></td></tr><tr><td>Paypal</td><td>商家账号，一般是邮箱</td><td>应用Client ID</td><td>Secret</td></tr></tbody></table></div><p>对于个人支付宝账户而言，支付方式免费且配置最简单的就是支付宝官方当面付，其它的要么是需要商户支付宝账户，要么是接入第三方的支付。</p><p><code>注意：支付宝当面付用久了可能会被封支付宝账号，原因是长期异地收款</code></p><h2 id="创建商品流程"><a href="#创建商品流程" class="headerlink" title="创建商品流程"></a>创建商品流程</h2><ol><li>新增商品分类</li><li>新增商品</li><li>导入卡密</li></ol><p><strong>注意设置自动发货的商品，商品数量的数值系统会根据导入卡密的数量自动生成，无需自己设置，设置了也没有用</strong></p><blockquote><p>下期介绍下支付宝当面付怎么配置</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宝塔建站 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>搭建一个自动发卡站--独角数卡</title>
      <link href="/posts/bcd0c52ed080/"/>
      <url>/posts/bcd0c52ed080/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>市面上免费开源的发卡站程序有不少，比如风铃发卡，zfaka（使用量最大），以及最近新出的独角数卡等等。这些发卡站的优势是能够简单方便地实现支付和发卡功能，但是除此之外，他们的功能都比较单一，且界面比较朴素（独角数卡未来将支持界面模板管理）。而且，由于是个人开发的发卡系统，使用人数也不是很多，难免在安全性上得不到保障。（这里给风铃发卡点个赞，据说是经过了安全审计的。）同时，这些发卡系统都或多或少地用到了一些框架，使得安装变得较为复杂。</p><p><a href="https://qing.su/article/148.html">十分钟搭建功能最全面的开源发卡站</a></p></blockquote><p>独角数卡是一种在线发卡平台，它可以帮助用户建立个人网站或在线店铺，通过这个平台可以方便地管理店铺和售卖商品。宝塔是一种开源的网站建站系统，它提供了一个图形化界面来管理Web服务器，如LNMP/LAMP/LNAMP等。 它包含了很多常用的网站管理功能，如数据库管理、FTP管理、文件管理、网站管理等。 宝塔的目标是让管理Web服务器变得简单易用。独角数卡<a href="https://github.com/assimon/dujiaoka">项目地址</a></p><p><a href="https://github.com/assimon/dujiaoka/wiki/2.x_bt_install">官网安装教程</a></p><h2 id="独角数卡网站页面"><a href="#独角数卡网站页面" class="headerlink" title="独角数卡网站页面"></a>独角数卡网站页面</h2><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/21/flp9wk.webp" alt="Luna主题"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/21/fp1at0.webp" alt="官方主题"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/21/fqg21c.webp" alt="hyper主题"></p><h2 id="硬件前提"><a href="#硬件前提" class="headerlink" title="硬件前提"></a>硬件前提</h2><ul><li>一台内存至少512M或者以上的VPS或云服务器。</li><li>操作系统必须为linux内核（debian，unbuntu或者centos）。</li></ul><h2 id="安装宝塔（国际版宝塔：aaPanel"><a href="#安装宝塔（国际版宝塔：aaPanel" class="headerlink" title="安装宝塔（国际版宝塔：aaPanel)"></a>安装宝塔（国际版宝塔：aaPanel)</h2><p>国内宝塔需要绑定手机号，不介意的可以去找下国内宝塔安装方式。以下提供aaPanel安装脚本</p><p><a href="https://www.aapanel.com/new/download.html#install">aaPanel官网</a></p><ul><li>Debian系统安装宝塔</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http://www.aapanel.com/script/install-ubuntu_6.0_en.sh &amp;&amp; bash install.sh aapanel</span><br></pre></td></tr></table></figure><ul><li>Ubuntu或者Deepin系统安装宝塔</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http://www.aapanel.com/script/install-ubuntu_6.0_en.sh &amp;&amp; sudo bash install.sh aapanel</span><br></pre></td></tr></table></figure><ul><li>Centos系统安装宝塔</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://www.aapanel.com/script/install_6.0_en.sh &amp;&amp; bash install.sh aapanel</span><br></pre></td></tr></table></figure><h2 id="使用宝塔安装六个软件"><a href="#使用宝塔安装六个软件" class="headerlink" title="使用宝塔安装六个软件"></a>使用宝塔安装六个软件</h2><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/19/t0z16k.webp" alt="安装软件"></p><p>其中<code>Nginx</code>、<code>MySQL</code>和<code>PHP</code>是首次登录宝塔就会提示安装的软件。</p><p>其它三个软件到App store里面寻找安装即可。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/19/tshb24.webp" alt="安装软件"></p><h2 id="启用PHP函数"><a href="#启用PHP函数" class="headerlink" title="启用PHP函数"></a>启用PHP函数</h2><p>点击【软件商店】-&gt;【PHP设置】-&gt;【禁用函数列表】 将以下函数删除！！<br>putenv，proc_open，pcntl_signal，pcntl_alarm</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/19/txwucv.webp" alt="删除禁用php函数"></p><h2 id="安装两个PHP扩展"><a href="#安装两个PHP扩展" class="headerlink" title="安装两个PHP扩展"></a>安装两个PHP扩展</h2><p>点击【软件商店】-&gt;【PHP设置】-&gt;【安装扩展】<br>安装以下三个扩展：<br>fileinfo、redis、opcache(可选安装，性能加强)</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/19/u1aioo.webp" alt="php扩展"></p><h2 id="添加一个网站"><a href="#添加一个网站" class="headerlink" title="添加一个网站"></a>添加一个网站</h2><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/19/w4wjwm.webp" alt="添加网站"></p><h2 id="上传源码"><a href="#上传源码" class="headerlink" title="上传源码"></a>上传源码</h2><p>上传方式：</p><ol><li>本地上传，蓝奏下载：后台回复   <code>宝塔建站</code></li><li>远程下载，<a href="https://github.com/assimon/dujiaoka/releases/download/2.0.6/2.0.6-antibody.tar.gz">地址</a></li></ol><p>上传后，右键解压，把解压生成的dujiaoka文件夹里面的所有文件剪切出来放到网站根目录（你域名文件夹下）</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/19/w81691-0.webp" alt="上传源码"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/19/wc6xhy.webp" alt="上传源码"></p><h2 id="设置项目伪静态和运行目录"><a href="#设置项目伪静态和运行目录" class="headerlink" title="设置项目伪静态和运行目录"></a>设置项目伪静态和运行目录</h2><p>解压项目代码后，我们点击网站的<code>设置</code><br>设置运行目录： </p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/19/xfyne2.webp" alt="/public"></p><h2 id="设置伪静态"><a href="#设置伪静态" class="headerlink" title="设置伪静态"></a>设置伪静态</h2><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/19/xertn6.webp" alt="选laravel5"></p><h2 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h2><p>访问你的网站域名，进入安装流程</p><p>按实际情况填写网站配置信息</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/19/xh8kqp.webp" alt="填写数据库信息"></p><p>如果不记得，到宝塔面板左侧菜单栏的Databases里面去找，复制粘贴到这，最后安装。</p><h2 id="supervisor配置守护进程"><a href="#supervisor配置守护进程" class="headerlink" title="supervisor配置守护进程"></a>supervisor配置守护进程</h2><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/19/xkrfbc.webp" alt="配置守护进程"></p><p>第四步名称：随意填写<br>第五步启动用户：选择www<br>第六步运行目录：选择程序根目录。例如新建网站的域名是tjyl.dujiaoka.com。那么目录就是/www/wwwroot/tjyl.dujiaoka.com<br>第七步启动命令：/www/server/php/你的php版本/bin/php /www/wwwroot/你的网站根目录/artisan queue:work</p><p><code>php版本那，如果之前你的php也是7.2填72，如果之前安装的php版本是7.4就填74</code></p><p><code>网站根目录同第六步wwwroot/后面的一样：tjyl.dujiaoka.com</code></p><p>第七步start command参考：</p><p><code>dujialka</code>替换成自己的网站根目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/www/server/php/72/bin/php /www/wwwroot/dujiaoka/artisan queue:work</span><br></pre></td></tr></table></figure><blockquote><p><strong>下期介绍下，搭建过程可能遇到的错误，比如登录网站后台就提示0error错误，顾客付完款却还处于待支付状态无法自动发送卡密，上传商品图片却无法显示、配置smtp邮件服务等</strong></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宝塔建站 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AI神器！图片上色、ChtaGpt</title>
      <link href="/posts/0ca696416419/"/>
      <url>/posts/0ca696416419/</url>
      
        <content type="html"><![CDATA[<h2 id="线稿图上色效果展示"><a href="#线稿图上色效果展示" class="headerlink" title="线稿图上色效果展示"></a>线稿图上色效果展示</h2><p><a href="https://zhuanlan.zhihu.com/p/84919487">线稿从知乎下载过来</a></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/25/iebp04.webp" alt="示例1"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/25/iixk0z.webp" alt="示例2"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/25/il7nav.webp" alt="示例3"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/25/imhpo6.webp" alt="示例4"></p><p><a href="https://github.com/lllyasviel/style2paints">github项目地址</a></p><h2 id="下载使用"><a href="#下载使用" class="headerlink" title="下载使用"></a>下载使用</h2><p>无需配置各种环境，下载解压，运行style2paints.exe即可。选择自己电脑配置的显卡。我自己的显卡是GTX1650,不在列表里面，然后直接选择最后一个也能运行使用（不过貌似我这边消耗还是CPU资源），天坑1650</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/25/h34gok.webp" alt="选择gpu"></p><ul><li><p>软件资源下载，资源2.43G</p><p>提供官网下载</p><p><a href="https://drive.google.com/open?id=1gmg2wwNIp4qMzxqP12SbcmVAHsLt1iRE">Google Drive</a></p><p><a href="https://pan.baidu.com/s/15xCm1jRVeHipHkiB3n1vzA">Baidu Drive</a> (百度网盘):</p></li><li><p>简单使用教程</p></li></ul><p>点击上传</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/25/h9kxr4.webp" alt="上传图片"></p><p>鼠标拖动蓝色的点，点亮区是要上色的区域</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/25/hai80y.webp" alt="选择区域"></p><p>区域选择好后，点击ok，等待处理完成</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/25/hbzpd9.webp" alt="处理图片"></p><p>选择配色和颜色深浅</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/25/hfq3jq.webp" alt="配色"></p><p>有绘画功底的可以使用右侧的画笔工具来进行提取颜色，点击<code>？</code>可以看到提供的上色教程。</p><p>软件工具后台回复<code>线稿上色</code>获取</p><h2 id="好玩的东西Chatgpt"><a href="#好玩的东西Chatgpt" class="headerlink" title="好玩的东西Chatgpt"></a>好玩的东西Chatgpt</h2><p>ChatGPT 是一种大型语言模型，由 OpenAI 开发。它使用了 GPT（Generative Pre-trained Transformer）架构，通过预先训练大量文本数据来学习语言模型。</p><p>ChatGPT 的主要应用场景是自然语言处理，如文本生成、语音识别、机器翻译等。它具有高度的语言理解能力，可以生成自然、流畅的文本，并且能够回答各种类型的问题。</p><p>ChatGPT 是一种非常强大的模型，在文本生成、对话系统、聊天机器人等领域都有很好的应用。目前已经有很多开发者和研究人员在使用 ChatGPT 来探索新的应用场景。(上述回答是chatgpt给出的答复内容)</p><p><code>借助chatgpt写代码</code></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/25/iygsuy.webp" alt="写代码"></p><p>下面是一个示例代码，使用 JavaScript 编写脚本实现批量生成线稿图。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置文件夹路径</span></span><br><span class="line"><span class="keyword">var</span> sourceFolder = <span class="title class_">Folder</span>.<span class="title function_">selectDialog</span>(<span class="string">&quot;选择文件夹&quot;</span>);</span><br><span class="line"><span class="comment">// 获取文件夹中所有图像</span></span><br><span class="line"><span class="keyword">var</span> files = sourceFolder.<span class="title function_">getFiles</span>(<span class="string">&quot;*.jpg&quot;</span>);</span><br><span class="line"><span class="comment">// 遍历图像</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; files.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="comment">// 打开当前图像</span></span><br><span class="line">    <span class="keyword">var</span> doc = <span class="title function_">open</span>(files[i]);</span><br><span class="line">    <span class="comment">// 设置图像为黑白</span></span><br><span class="line">    doc.<span class="title function_">changeMode</span>(<span class="title class_">ChangeMode</span>.<span class="property">GRAYSCALE</span>);</span><br><span class="line">    <span class="comment">// 应用滤镜</span></span><br><span class="line">    doc.<span class="property">activeLayer</span>.<span class="title function_">applyFilter</span>(<span class="title class_">Filter</span>.<span class="property">SKETCH</span>, &#123;</span><br><span class="line">        <span class="string">&quot;detail&quot;</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="string">&quot;direction&quot;</span>: <span class="number">90</span>,</span><br><span class="line">        <span class="string">&quot;strokeLength&quot;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&quot;strokeDetail&quot;</span>: <span class="number">2</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 保存并关闭文档</span></span><br><span class="line">    doc.<span class="title function_">save</span>();</span><br><span class="line">    doc.<span class="title function_">close</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>有懂javascript可以看看chatgpt回答的对不对</p><p><code>借助chatgpt写论文</code> (可以当作参考)</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/25/juk9bf.webp" alt="写论文"></p><p>不知道一直<code>continue</code> 是不是真的可以写出一篇论文来。</p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何批量创建并命名文件夹</title>
      <link href="/posts/11fe563bae32/"/>
      <url>/posts/11fe563bae32/</url>
      
        <content type="html"><![CDATA[<h2 id="在excel录入文件名"><a href="#在excel录入文件名" class="headerlink" title="在excel录入文件名"></a>在excel录入文件名</h2><ul><li>A列输入MD，B列填入文件名称</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/03/08/ufqme1.webp" alt=""></p><h2 id="复制粘贴到txt文档"><a href="#复制粘贴到txt文档" class="headerlink" title="复制粘贴到txt文档"></a>复制粘贴到txt文档</h2><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/03/08/uj7emw.webp" alt=""></p><ul><li>点击文件另存为；编码改为ANSI；文件名后缀改为bat；点击保存</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/03/08/um5qdx.webp" alt=""></p><ul><li>双击运行bat文件</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/03/08/unx7ew-0.webp" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 办公小技巧 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AI绘图神器——Stable Diffusion web UI</title>
      <link href="/posts/4f07eebef4c4/"/>
      <url>/posts/4f07eebef4c4/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>好久没更了，最近又发现好玩的AI工具，分享给大家。</p><p>Stable Diffusion是一款功能异常强大的AI图片生成器。它支持文字生成图片，图片转图片，使用各种各样的模型来达到你想要的效果，还能训练你自己的专属模型。 简单来说，即使你没有绘画功底，只要文笔叙说的够详细准确也可以画出自己想要的图片，甚至超乎你的想象。</p><ul><li>先转一波别人使用此工具生成的图：</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/03/02/sstgxc.webp" alt="骨架分析重绘图片"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/03/02/swu8ow.webp" alt="国风图"></p><ul><li>自己部署生成的图片，个人电脑显存只有4g，只能生成384*384的小图</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/03/02/sz4vza.webp" alt="国风"></p><h2 id="电脑硬件要求"><a href="#电脑硬件要求" class="headerlink" title="电脑硬件要求"></a>电脑硬件要求</h2><ol><li>Windows系统</li><li>有独立显卡，并且是NVDIA卡，显存至少4个G。</li><li>硬盘留有足够的空间，该程式占用30个G左右（包括模型）</li></ol><p>网络要求：可能需要魔法上网</p><p>当然，mac系统，AMD显卡，显存少的情况也有方法安装使用，不过多少会出问题，而且功能不全，严重影响使用体验。</p><h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><ul><li><p>安装<a href="https://www.python.org/downloads/">python</a>（安装版本最低3.10.6)</p></li><li><p>安装<a href="https://git-scm.com/download/win">git</a></p></li><li><p>下载<a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui">Stable Diffusion web UI源码</a></p></li></ul><p>选择一个路径（最好放在C盘，以免后续出问题），新建<code>stable-diffusion-webui-master</code>文件夹，在这个文件夹下解压刚刚下载的<code>stable-diffusion-webui-master .zip</code>。</p><ul><li>显卡显存大于8G的忽略这步。显存小于8G修改上一步解压文件里面的<code>webui-user.bat</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line"></span><br><span class="line">set PYTHON=</span><br><span class="line">set GIT=</span><br><span class="line">set VENV_DIR=</span><br><span class="line">set COMMANDLINE_ARGS=--xformers --medvram</span><br><span class="line"></span><br><span class="line">call webui.bat</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>显存4—6G修改成以上</strong></p><p>显存不到2G把<code>--medvram</code>改成<code>--lowvram</code></p><p>这样可以减少系统的负担，提高图片的运算速率。</p><ul><li>双击运行<code>webui-user.bat</code>等待安装，会花费挺长时间安装，全部的安装环境大概10个G</li></ul><p>可能出现的问题：</p><p><code>Couldn‘t install gfpgan</code>，以下是报错代码</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">Installing gfpgan</span><br><span class="line">Traceback (most recent <span class="keyword">call</span> last):</span><br><span class="line">  File &quot;D:\Work\stable-diffusion-webui\launch.py&quot;, line <span class="number">324</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    prepare_environment()</span><br><span class="line">  File &quot;D:\Work\stable-diffusion-webui\launch.py&quot;, line <span class="number">239</span>, <span class="keyword">in</span> prepare_environment</span><br><span class="line">    run_pip(f&quot;install &#123;gfpgan_package&#125;&quot;, &quot;gfpgan&quot;)</span><br><span class="line">  File &quot;D:\Work\stable-diffusion-webui\launch.py&quot;, line <span class="number">106</span>, <span class="keyword">in</span> run_pip</span><br><span class="line">    return run(f&#x27;&quot;&#123;python&#125;&quot; -m pip &#123;args&#125; --prefer-binary&#123;index_url_line&#125;&#x27;, desc=f&quot;Installing &#123;desc&#125;&quot;, errdesc=f&quot;Couldn&#x27;t install &#123;desc&#125;&quot;)</span><br><span class="line">  File &quot;D:\Work\stable-diffusion-webui\launch.py&quot;, line <span class="number">74</span>, <span class="keyword">in</span> run</span><br><span class="line">    raise RuntimeError(message)</span><br><span class="line"><span class="function">RuntimeError: <span class="title">Couldn</span>&#x27;<span class="title">t</span> <span class="title">install</span> <span class="title">gfpgan</span>.</span></span><br><span class="line"><span class="function"><span class="title">Command</span>: &quot;<span class="title">D</span>:\<span class="title">Work</span>\<span class="title">stable</span>-<span class="title">diffusion</span>-<span class="title">webui</span>\<span class="title">venv</span>\<span class="title">Scripts</span>\<span class="title">python.exe</span>&quot; -<span class="title">m</span> <span class="title">pip</span> <span class="title">install</span> <span class="title">git</span>+<span class="title">https</span>://<span class="title">github.com</span>/<span class="title">TencentARC</span>/<span class="title">GFPGAN.git</span>@8<span class="title">d2447a2d918f8eba5a4a01463fd48e45126a379</span> --<span class="title">prefer</span>-<span class="title">binary</span></span></span><br><span class="line"><span class="function"><span class="title">Error</span> <span class="title">code</span>: 1</span></span><br><span class="line"><span class="function"><span class="title">stdout</span>: <span class="title">Collecting</span> <span class="title">git</span>+<span class="title">https</span>://<span class="title">github.com</span>/<span class="title">TencentARC</span>/<span class="title">GFPGAN.git</span>@8<span class="title">d2447a2d918f8eba5a4a01463fd48e45126a379</span></span></span><br><span class="line"><span class="function">  <span class="title">Cloning</span> <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">TencentARC</span>/<span class="title">GFPGAN.git</span> (<span class="title">to</span> <span class="title">revision</span> 8<span class="title">d2447a2d918f8eba5a4a01463fd48e45126a379</span>) <span class="title">to</span> <span class="title">c</span>:\<span class="title">users</span>\<span class="title">cheapmeow</span>\<span class="title">appdata</span>\<span class="title">local</span>\<span class="title">temp</span>\<span class="title">pip</span>-<span class="title">req</span>-<span class="title">build</span>-<span class="title">ww9pc8i8</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">stderr</span>:   <span class="title">Running</span> <span class="title">command</span> <span class="title">git</span> <span class="title">clone</span> --<span class="title">filter</span>=<span class="title">blob:none</span> --<span class="title">quiet</span> <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">TencentARC</span>/<span class="title">GFPGAN.git</span> &#x27;<span class="title">C</span>:\<span class="title">Users</span>\<span class="title">CheapMeow</span>\<span class="title">AppData</span>\<span class="title">Local</span>\<span class="title">Temp</span>\<span class="title">pip</span>-<span class="title">req</span>-<span class="title">build</span>-<span class="title">ww9pc8i8</span>&#x27;</span></span><br><span class="line"><span class="function">  <span class="title">error</span>: <span class="title">RPC</span> <span class="title">failed</span>; <span class="title">curl</span> 28 <span class="title">Recv</span> <span class="title">failure</span>: <span class="title">Connection</span> <span class="title">was</span> <span class="title">reset</span></span></span><br><span class="line"><span class="function">  <span class="title">fatal</span>: <span class="title">expected</span> <span class="title">flush</span> <span class="title">after</span> <span class="title">ref</span> <span class="title">listing</span></span></span><br><span class="line"><span class="function">  <span class="title">error</span>: <span class="title">subprocess</span>-<span class="title">exited</span>-<span class="title">with</span>-<span class="title">error</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  <span class="title">git</span> <span class="title">clone</span> --<span class="title">filter</span>=<span class="title">blob:none</span> --<span class="title">quiet</span> <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">TencentARC</span>/<span class="title">GFPGAN.git</span> &#x27;<span class="title">C</span>:\<span class="title">Users</span>\<span class="title">CheapMeow</span>\<span class="title">AppData</span>\<span class="title">Local</span>\<span class="title">Temp</span>\<span class="title">pip</span>-<span class="title">req</span>-<span class="title">build</span>-<span class="title">ww9pc8i8</span>&#x27; <span class="title">did</span> <span class="title">not</span> <span class="title">run</span> <span class="title">successfully</span>.</span></span><br><span class="line"><span class="function">  <span class="title">exit</span> <span class="title">code</span>: 128</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  <span class="title">See</span> <span class="title">above</span> <span class="title">for</span> <span class="title">output</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  <span class="title">note</span>: <span class="title">This</span> <span class="title">error</span> <span class="title">originates</span> <span class="title">from</span> <span class="title">a</span> <span class="title">subprocess</span>, <span class="title">and</span> <span class="title">is</span> <span class="title">likely</span> <span class="title">not</span> <span class="title">a</span> <span class="title">problem</span> <span class="title">with</span> <span class="title">pip</span>.</span></span><br><span class="line"><span class="function"><span class="title">error</span>: <span class="title">subprocess</span>-<span class="title">exited</span>-<span class="title">with</span>-<span class="title">error</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">git</span> <span class="title">clone</span> --<span class="title">filter</span>=<span class="title">blob:none</span> --<span class="title">quiet</span> <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">TencentARC</span>/<span class="title">GFPGAN.git</span> &#x27;<span class="title">C</span>:\<span class="title">Users</span>\<span class="title">CheapMeow</span>\<span class="title">AppData</span>\<span class="title">Local</span>\<span class="title">Temp</span>\<span class="title">pip</span>-<span class="title">req</span>-<span class="title">build</span>-<span class="title">ww9pc8i8</span>&#x27; <span class="title">did</span> <span class="title">not</span> <span class="title">run</span> <span class="title">successfully</span>.</span></span><br><span class="line"><span class="function"><span class="title">exit</span> <span class="title">code</span>: 128</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">See</span> <span class="title">above</span> <span class="title">for</span> <span class="title">output</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">note</span>: <span class="title">This</span> <span class="title">error</span> <span class="title">originates</span> <span class="title">from</span> <span class="title">a</span> <span class="title">subprocess</span>, <span class="title">and</span> <span class="title">is</span> <span class="title">likely</span> <span class="title">not</span> <span class="title">a</span> <span class="title">problem</span> <span class="title">with</span> <span class="title">pip</span>.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">[<span class="title">notice</span>] <span class="title">A</span> <span class="title">new</span> <span class="title">release</span> <span class="title">of</span> <span class="title">pip</span> <span class="title">available</span>: 22.2.1 -&gt; 22.3.1</span></span><br><span class="line"><span class="function">[<span class="title">notice</span>] <span class="title">To</span> <span class="title">update</span>, <span class="title">run</span>: <span class="title">D</span>:\<span class="title">Work</span>\<span class="title">stable</span>-<span class="title">diffusion</span>-<span class="title">webui</span>\<span class="title">venv</span>\<span class="title">Scripts</span>\<span class="title">python.exe</span> -<span class="title">m</span> <span class="title">pip</span> <span class="title">install</span> --<span class="title">upgrade</span> <span class="title">pip</span></span></span><br></pre></td></tr></table></figure><p> <a href="https://savokiss.com/tech/sdw-install-error.html" title="解决 stable-diffusion-webui 的 Couldn&#39;t install gfpgan 安装失败的问题">解决办法1</a></p><p>找到stable-diffusion-webui-master文件夹下<code>launch.py</code>,打开编辑这个文件</p><p>在所有<a href="https://github.com前面添加https://ghproxy.com/。下面是修改好的。修改后保存文件">https://github.com前面添加https://ghproxy.com/。下面是修改好的。修改后保存文件</a>.</p><p>删除<code>stable-diffusion-webui-master</code>文件夹下的<code>venv</code>文件夹（只要报错没有流畅安装完成，再次双击<code>webui-user.bat</code>运行之前都要删除这个文件）</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">def prepare_environment():</span><br><span class="line">    global skip_install</span><br><span class="line"></span><br><span class="line">    torch_command = os.environ.get(&#x27;TORCH_COMMAND&#x27;, &quot;pip install torch==<span class="number">1</span>.<span class="number">13</span>.<span class="number">1</span>+cu117 torchvision==<span class="number">0</span>.<span class="number">14</span>.<span class="number">1</span>+cu117 --extra-index-url https://download.pytorch.org/whl/cu117&quot;)</span><br><span class="line">    requirements_file = os.environ.get(&#x27;REQS_FILE&#x27;, &quot;requirements_versions.txt&quot;)</span><br><span class="line">    commandline_args = os.environ.get(&#x27;COMMANDLINE_ARGS&#x27;, &quot;&quot;)</span><br><span class="line"></span><br><span class="line">    xformers_package = os.environ.get(&#x27;XFORMERS_PACKAGE&#x27;, &#x27;xformers==<span class="number">0</span>.<span class="number">0</span>.<span class="number">16</span>rc425&#x27;)</span><br><span class="line">    gfpgan_package = os.environ.get(&#x27;GFPGAN_PACKAGE&#x27;, &quot;git+https://ghproxy.com/https://github.com/TencentARC/GFPGAN.git@<span class="number">8</span>d2447a2d918f8eba5a4a01463fd48e45126a379&quot;)</span><br><span class="line">    clip_package = os.environ.get(&#x27;CLIP_PACKAGE&#x27;, &quot;git+https://ghproxy.com/https://github.com/openai/CLIP.git@d50d76daa670286dd6cacf3bcd80b5e4823fc8e1&quot;)</span><br><span class="line">    openclip_package = os.environ.get(&#x27;OPENCLIP_PACKAGE&#x27;, &quot;git+https://ghproxy.com/https://github.com/mlfoundations/open_clip.git@bb6e834e9c70d9c27d0dc3ecedeebeaeb1ffad6b&quot;)</span><br><span class="line"></span><br><span class="line">    stable_diffusion_repo = os.environ.get(&#x27;STABLE_DIFFUSION_REPO&#x27;, &quot;https://ghproxy.com/https://github.com/Stability-AI/stablediffusion.git&quot;)</span><br><span class="line">    taming_transformers_repo = os.environ.get(&#x27;TAMING_TRANSFORMERS_REPO&#x27;, &quot;https://ghproxy.com/https://github.com/CompVis/taming-transformers.git&quot;)</span><br><span class="line">    k_diffusion_repo = os.environ.get(&#x27;K_DIFFUSION_REPO&#x27;, &#x27;https://ghproxy.com/https://github.com/crowsonkb/k-diffusion.git&#x27;)</span><br><span class="line">    codeformer_repo = os.environ.get(&#x27;CODEFORMER_REPO&#x27;, &#x27;https://ghproxy.com/https://github.com/sczhou/CodeFormer.git&#x27;)</span><br><span class="line">    blip_repo = os.environ.get(&#x27;BLIP_REPO&#x27;, &#x27;https://ghproxy.com/https://github.com/salesforce/BLIP.git&#x27;)</span><br><span class="line"></span><br><span class="line">    stable_diffusion_commit_hash = os.environ.get(&#x27;STABLE_DIFFUSION_COMMIT_HASH&#x27;, &quot;<span class="number">47</span>b6b607fdd31875c9279cd2f4f16b92e4ea958e&quot;)</span><br><span class="line">    taming_transformers_commit_hash = os.environ.get(&#x27;TAMING_TRANSFORMERS_COMMIT_HASH&#x27;, &quot;<span class="number">24268930</span>bf1dce879235a7fddd0b2355b84d7ea6&quot;)</span><br><span class="line">    k_diffusion_commit_hash = os.environ.get(&#x27;K_DIFFUSION_COMMIT_HASH&#x27;, &quot;<span class="number">5</span>b3af030dd83e0297272d861c19477735d0317ec&quot;)</span><br><span class="line">    codeformer_commit_hash = os.environ.get(&#x27;CODEFORMER_COMMIT_HASH&#x27;, &quot;c5b4593074ba6214284d6acd5f1719b6c5d739af&quot;)</span><br><span class="line">    blip_commit_hash = os.environ.get(&#x27;BLIP_COMMIT_HASH&#x27;, &quot;<span class="number">48211</span>a1594f1321b00f14c9f7a5b4813144b2fb9&quot;)</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/Harajukuuuu/article/details/129168550" title="本地部署stable-diffusion-webui出现Couldn‘t install gfpgan错误的解决方法">解决方案2 </a></p><p>假如没有其它报错，成功安装后会出现本地链接网址，把网址复制到浏览器就能访问。不要退出cmd！！！</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/03/02/o2in36-0.webp" alt="成功安装"></p><ul><li>添加中文语言包</li></ul><p><a href="https://github.com/VinsonLaro/stable-diffusion-webui-chinese">https://github.com/VinsonLaro/stable-diffusion-webui-chinese</a></p><p>把上面的地址粘贴在下图的第三步，点击install</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/03/02/ql1zfx.webp" alt="安装中文包"></p><p>重启web-ui</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/03/02/qmmqjt.webp" alt="重启web-ui"></p><p>选择Settings，选择user interface，选择chinese-all-0220</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/03/02/qputcf.webp" alt="改中文"></p><p>应用设置，重载UI</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/03/02/qsjqsc-0.webp" alt="保存设置"></p><h2 id="文字生成图片界面介绍"><a href="#文字生成图片界面介绍" class="headerlink" title="文字生成图片界面介绍"></a>文字生成图片界面介绍</h2><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/03/02/r6cojv.webp" alt="文转图"></p><h2 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h2><h3 id="模型推荐"><a href="#模型推荐" class="headerlink" title="模型推荐"></a>模型推荐</h3><ul><li>人体骨架分析模型<code>control_sd15_openpose</code>，作用是可以把真人图片上传到web-ui，分析出图片中人物的姿势骨架，然后重新绘图。</li><li>国风模型<code>guofeng3_v32</code>：生成的人物，符合国人审美，富有中国元素</li><li>anythion4.0：比较适合绘制动漫风格人物</li><li><code>stablydiffuseds_26</code></li></ul><h3 id="AI模型"><a href="#AI模型" class="headerlink" title="AI模型"></a>AI模型</h3><ol><li><a href="https://huggingface.co/">https://huggingface.co/</a> </li><li><a href="https://civitai.com/">https://civitai.com/</a> </li></ol><h2 id="提示词"><a href="#提示词" class="headerlink" title="提示词"></a>提示词</h2><p>提示词（prompt）：图中想要出现的内容。</p><p>标配提示词：<code>masterpiece</code>,<code>best quality</code>。</p><p>反向提示词（negative prompt）：图中不想要的内容</p><p>提示词可以使用翻译软件翻译成英语直接用，也可以使用TAG来展示，一个提示词后面一个逗号，复杂的语法，比如（），and，or，：，[]等怎么使用可以自己拓展了解。提示词越靠前，优先级越高，把重点想画的内容放在最前面。比如<code>masterpiece</code>,<code>best quality</code>的意思是大师级，高质量绘画，把它们放在最前面，出来的图片质量就会比较好。</p><h3 id="提示词在线网站"><a href="#提示词在线网站" class="headerlink" title="提示词在线网站"></a>提示词在线网站</h3><ul><li><p><a href="https://docs.qq.com/doc/DWHl3am5Zb05QbGVs">元素法典</a></p></li><li><p><a href="https://wolfchen.top/tag/">NovelAI tag生成器 V2.1</a></p></li><li><p><a href="http://dskjal.com/">18plus</a></p></li></ul><h3 id="提示词示例"><a href="#提示词示例" class="headerlink" title="提示词示例"></a>提示词示例</h3><p>正向提示词</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4 girls,4 girls on the beach,back to the sea,White dress,beautiful white gauze skirt,bikini,intricate,elegant,highly detailed,digita painting,concept art,summer lights,queen,sunset,orange sky,pink nightgown,simple background,soft light&lt;lora:dalcefopainting_Lora300:1&gt;</span><br></pre></td></tr></table></figure><p>反向提示词</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nude,naked,hands,cartoon,thick strokes,((disfigured)),((bad art)),((deformed)),((poorly drawn)),((extra limbs)),((close up)),((b&amp;w)),weird colors,blurry,complex</span><br></pre></td></tr></table></figure><p>正向提示词</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1girl, beautiful, realistic</span><br></pre></td></tr></table></figure><p>反向提示词</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(((simple background))),monochrome ,lowres, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry, lowres, bad anatomy, bad hands, text, error, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry, ugly,pregnant,vore,duplicate,morbid,mut ilated,tran nsexual, hermaphrodite,long neck,mutated hands,poorly drawn hands,poorly drawn face,mutation,deformed,blurry,bad anatomy,bad proportions,malformed limbs,extra limbs,cloned face,disfigured,gross proportions, (((missing arms))),(((missing legs))), (((extra arms))),(((extra legs))),pubic hair, plump,bad legs,error legs,username,blurry,bad feet</span><br></pre></td></tr></table></figure><h2 id="在线体验使用"><a href="#在线体验使用" class="headerlink" title="在线体验使用"></a>在线体验使用</h2><ul><li><a href="https://colab.research.google.com/github/TheLastBen/fast-stable-diffusion/blob/main/fast_stable_diffusion_AUTOMATIC1111.ipynb">谷歌云端线上运行</a></li></ul><ul><li><a href="https://dreamlike.art/">dreamlike.art</a></li></ul><h2 id="推荐阅读"><a href="#推荐阅读" class="headerlink" title="推荐阅读"></a>推荐阅读</h2><ul><li>本地部署 AI作画工具 stable-diffusion-webui 多种模型 可生成NSFW</li></ul><p>​          <a href="https://www.tjsky.net/tutorial/457">https://www.tjsky.net/tutorial/457</a></p><ul><li>AI绘画指南 stable diffusion webui （SD webui）如何设置与使用</li></ul><p>​          <a href="https://www.tjsky.net/tutorial/488">https://www.tjsky.net/tutorial/488</a></p><ul><li>Stable Diffusion2.1+WebUI的安装与使用（极详细）</li></ul><p>​         <a href="https://www.bilibili.com/read/cv20466834">https://www.bilibili.com/read/cv20466834</a></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows10免费激活</title>
      <link href="/posts/425b8841472f/"/>
      <url>/posts/425b8841472f/</url>
      
        <content type="html"><![CDATA[<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1.前言"></a>1.前言</h2><p>今天和大家分享下通过CMD命令行激活windows的方法，方法非常简单，不需要下载任何软件，只要三行代码就能免费激活Windows。</p><h2 id="2-激活代码"><a href="#2-激活代码" class="headerlink" title="2.激活代码"></a>2.激活代码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">slmgr /ipk YYVX9-NTFWV-6MDM3-9PT4T-4M68B <span class="comment">#安装微软的产品证书</span></span><br><span class="line">slmgr /skms kms.loli.best <span class="comment">#指定kms服务器</span></span><br><span class="line">slmgr /ato <span class="comment">#激活方式，自动激活</span></span><br></pre></td></tr></table></figure><p>第一行代码的意思是安装微软的产品证书，微软官方为了能持续保持市场活力，免费提供了批量授权的证书，无须淘宝购买。</p><p>第二行是通过方kms式激活，微软官方同样鼓励大家自己搭建kms服务来激活，甚至贴上了保姆级教程。</p><p>第三行，激活</p><h2 id="微软官方证书自取"><a href="#微软官方证书自取" class="headerlink" title="微软官方证书自取"></a>微软官方证书自取</h2><ul><li><a href="https://learn.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/jj612867(v=ws.11"><strong>通道一</strong></a>#windows-10)  </li><li><a href="https://docs.microsoft.com/zh-cn/windows-server/get-started/kmsclientkeys"><strong>通道二</strong></a> </li></ul><div class="table-container"><table><thead><tr><th>Operating system edition</th><th>KMS Client Setup Key</th></tr></thead><tbody><tr><td>Windows 10 Professional</td><td>W269N-WFGWX-YVC9B-4J6C9-T83GX</td></tr><tr><td>Windows 10 Professional N</td><td>MH37W-N47XK-V7XM9-C7227-GCQG9</td></tr><tr><td>Windows 10 Enterprise</td><td>NPPR9-FWDCX-D2C8J-H872K-2YT43</td></tr><tr><td>Windows 10 Enterprise N</td><td>DPH2V-TTNVB-4X9Q3-TJR4H-KHJW4</td></tr><tr><td>Windows 10 Education</td><td>NW6C2-QMPVW-D7KKK-3GKT6-VCFB2</td></tr><tr><td>Windows 10 Education N</td><td>2WH4N-8QGBV-H22JP-CT43Q-MDWWJ</td></tr><tr><td>Windows 10 Enterprise 2015 LTSB</td><td>WNMTR-4C88C-JK8YV-HQ7T2-76DF9</td></tr><tr><td>Windows 10 Enterprise 2015 LTSB N</td><td>2F77B-TNFGY-69QQF-B8YKP-D69TJ</td></tr><tr><td>Windows 10 Enterprise 2016 LTSB</td><td>DCPHK-NFMTC-H88MJ-PFHPY-QJ4BJ</td></tr><tr><td>Windows 10 Enterprise 2016 LTSB N</td><td>QFFDN-GRT3P-VKWWX-X7T3R-8B639</td></tr></tbody></table></div><h2 id="KMS服务器筛选"><a href="#KMS服务器筛选" class="headerlink" title="KMS服务器筛选"></a>KMS服务器筛选</h2><p><a href="https://www.coolhub.top/tech-articles/kms_list.html">地址</a></p><div class="table-container"><table><thead><tr><th>KMS主机</th><th>成功率</th><th>近期成功率</th><th>成功</th><th>超时</th><th>失败</th><th>延迟</th><th>检测时间</th></tr></thead><tbody><tr><td>kms.loli.beer</td><td>98%</td><td>100%</td><td>21816</td><td>221</td><td>30</td><td>247ms</td><td>2022/7/18 17:58</td></tr><tr><td>kms.loli.best</td><td>99%</td><td>100%</td><td>21890</td><td>135</td><td>40</td><td>118ms</td><td>2022/7/18 17:58</td></tr><tr><td><a href="http://kms.03k.org">kms.03k.org</a></td><td>99%</td><td>100%</td><td>21847</td><td>66</td><td>152</td><td>138ms</td><td>2022/7/18 17:58</td></tr><tr><td><a href="http://kms.cangshui.net">kms.cangshui.net</a></td><td>98%</td><td>100%</td><td>21642</td><td>232</td><td>191</td><td>1002ms</td><td>2022/7/18 17:58</td></tr><tr><td>kms.cary.tech</td><td>99%</td><td>100%</td><td>21934</td><td>121</td><td>9</td><td>239ms</td><td>2022/7/18 17:58</td></tr><tr><td><a href="http://kms.catqu.com">kms.catqu.com</a></td><td>99%</td><td>100%</td><td>21453</td><td>55</td><td>1</td><td>147ms</td><td>2022/7/18 17:58</td></tr><tr><td><a href="http://kms.cgtsoft.com">kms.cgtsoft.com</a></td><td>98%</td><td>100%</td><td>21763</td><td>189</td><td>112</td><td>1218ms</td><td>2022/7/18 17:58</td></tr><tr><td><a href="http://kms.ghpym.com">kms.ghpym.com</a></td><td>99%</td><td>100%</td><td>21992</td><td>70</td><td>2</td><td>223ms</td><td>2022/7/18 17:58</td></tr><tr><td><a href="http://kms.mc06.net">kms.mc06.net</a></td><td>97%</td><td>100%</td><td>21043</td><td>448</td><td>18</td><td>142ms</td><td>2022/7/18 17:58</td></tr><tr><td>kms.moeyuuko.top</td><td>98%</td><td>100%</td><td>21251</td><td>252</td><td>6</td><td>245ms</td><td>2022/7/18 17:58</td></tr><tr><td><a href="http://kms.sixyin.com">kms.sixyin.com</a></td><td>99%</td><td>100%</td><td>21975</td><td>70</td><td>19</td><td>222ms</td><td>2022/7/18 17:58</td></tr><tr><td><a href="http://kms.wlrxy.cn">kms.wlrxy.cn</a></td><td>97%</td><td>100%</td><td>21502</td><td>561</td><td>1</td><td>236ms</td><td>2022/7/18 17:58</td></tr><tr><td><a href="http://kms.wxlost.com">kms.wxlost.com</a></td><td>98%</td><td>80%</td><td>21799</td><td>89</td><td>176</td><td>555ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://xincheng213618.cn">xincheng213618.cn</a></td><td>99%</td><td>100%</td><td>21450</td><td>59</td><td>0</td><td>138ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://s8.uk.to">s8.uk.to</a></td><td>82%</td><td>80%</td><td>18236</td><td>2228</td><td>1600</td><td>1768ms</td><td>2022/7/18 17:59</td></tr><tr><td>kms.000606.xyz</td><td>99%</td><td>100%</td><td>22003</td><td>60</td><td>0</td><td>139ms</td><td>2022/7/18 17:59</td></tr><tr><td>kms.bearlele.top</td><td>99%</td><td>100%</td><td>21360</td><td>137</td><td>11</td><td>225ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://kms.bige0.com">kms.bige0.com</a></td><td>99%</td><td>100%</td><td>22003</td><td>60</td><td>0</td><td>181ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://kms.jm33.me">kms.jm33.me</a></td><td>99%</td><td>100%</td><td>22003</td><td>60</td><td>0</td><td>263ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://kms.kmzs123.cn">kms.kmzs123.cn</a></td><td>85%</td><td>0%</td><td>18317</td><td>3180</td><td>11</td><td>-</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://kms.kuretru.com">kms.kuretru.com</a></td><td>91%</td><td>100%</td><td>20200</td><td>1861</td><td>2</td><td>154ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://kms.litbear.cn">kms.litbear.cn</a></td><td>96%</td><td>100%</td><td>21378</td><td>429</td><td>256</td><td>186ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://kms.luody.info">kms.luody.info</a></td><td>96%</td><td>100%</td><td>21378</td><td>680</td><td>5</td><td>196ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://kms.moeclub.org">kms.moeclub.org</a></td><td>98%</td><td>100%</td><td>21776</td><td>269</td><td>18</td><td>381ms</td><td>2022/7/18 17:59</td></tr><tr><td>kms.myds.cloud</td><td>94%</td><td>100%</td><td>20087</td><td>1140</td><td>2</td><td>139ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://kms.sdit163.com">kms.sdit163.com</a></td><td>91%</td><td>100%</td><td>20273</td><td>1790</td><td>0</td><td>253ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://kms.sevenxu.cc">kms.sevenxu.cc</a></td><td>94%</td><td>100%</td><td>20275</td><td>1232</td><td>1</td><td>256ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://kms.srv.crsoo.com">kms.srv.crsoo.com</a></td><td>86%</td><td>100%</td><td>18609</td><td>1879</td><td>1020</td><td>4555ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://kms.tttal.com">kms.tttal.com</a></td><td>80%</td><td>0%</td><td>17029</td><td>4200</td><td>0</td><td>-</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://kms.zhuxiaole.org">kms.zhuxiaole.org</a></td><td>98%</td><td>100%</td><td>21754</td><td>227</td><td>82</td><td>2186ms</td><td>2022/7/18 17:59</td></tr><tr><td>nb.shenqw.win</td><td>92%</td><td>100%</td><td>20449</td><td>1614</td><td>0</td><td>210ms</td><td>2022/7/18 17:59</td></tr><tr><td>windows.kms.app</td><td>98%</td><td>100%</td><td>21699</td><td>213</td><td>151</td><td>137ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://zhumc.cn">zhumc.cn</a></td><td>99%</td><td>100%</td><td>21358</td><td>150</td><td>0</td><td>171ms</td><td>2022/7/18 17:59</td></tr><tr><td><a href="http://kms.digiboy.ir">kms.digiboy.ir</a></td><td>97%</td><td>100%</td><td>19541</td><td>480</td><td>54</td><td>1383ms</td><td>2022/7/18 17:59</td></tr></tbody></table></div><h2 id="激活时常用bat命令"><a href="#激活时常用bat命令" class="headerlink" title="激活时常用bat命令"></a>激活时常用bat命令</h2><ol><li>查看系统激活信息：slmgr.vbs -dli</li><li>查看详细的系统激活信息：slmgr.vbs -dlv</li><li>查看许可证状态的截止日期：slmgv.vbs -xpr</li><li>从注册表中清除产品密钥信息：slmgr.vbs -cpky</li><li>导入OEM证书：slmgr.vbs -ilc</li><li>卸载当前密钥：slmgr.vbs -upk</li><li>安装产品密钥：slmgr -ipk x-x-x-x-x</li><li>设置KMS服务器名和端口号：slmgr -skms x.x.x.x</li><li>在线激活Windows：slmgr -ato</li><li>重置计算机的授权书状态：slmgr -rearm</li><li>查看激活后的到期时间：slmgr /xpr</li></ol>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Win10 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关闭windows10更新</title>
      <link href="/posts/444c5751d1bb/"/>
      <url>/posts/444c5751d1bb/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在一些特殊场景，或者当需要一个稳定的系统环境时，那么关闭微软烦人的自动更新功能，那是非常有必要的。下面分享下手动和一键关闭windows10更新的方法。</p><h2 id="手动"><a href="#手动" class="headerlink" title="手动"></a>手动</h2><h3 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h3><p>在系统桌面的搜索栏输入服务，点进去</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/04/hdue55-0.webp" alt="Snipaste_2023-01-04_10-50-10"></p><p> 选中windows update，点击停止此服务</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/04/hi28cw-0.webp" alt="Snipaste_2023-01-04_10-54-56"></p><p>右键windows update 点击属性</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/04/hiryzn-0.webp" alt="Snipaste_2023-01-04_10-56-03"></p><p>启动类型改为禁用</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/04/hi8fti-0.webp" alt="Snipaste_2023-01-04_10-56-47"></p><p>恢复选项卡下，所有的改为无操作</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/04/hij0c1-0.webp" alt="Snipaste_2023-01-04_10-57-33"></p><h3 id="第二步，鼠标右键此电脑，打开里面的管理"><a href="#第二步，鼠标右键此电脑，打开里面的管理" class="headerlink" title="第二步，鼠标右键此电脑，打开里面的管理"></a>第二步，鼠标右键此电脑，打开里面的管理</h3><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/04/iaos5m-0.webp" alt="Snipaste_2023-01-04_11-01-43"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/04/iaqc40-0.webp" alt="Snipaste_2023-01-04_11-04-21"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/04/ib7j4l-0.webp" alt="Snipaste_2023-01-04_11-05-38"></p><h2 id="一键关闭"><a href="#一键关闭" class="headerlink" title="一键关闭"></a>一键关闭</h2><p>通过Windows Update Blocker这款程序一键关闭自动更新。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/04/ih2stw-0.webp" alt="Windows-Update-Blocker"></p><p>软件获取方法：</p><p>官网下载地址：<a href="https://www.sordum.org/9470/windows-update-blocker-v1-7/">官网</a></p><p>个人网盘分流，搜索微信公众号：以蓝科技分享，回复wub</p>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Win10 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows10系统中最好用的3个版本，精简、稳定、高效！</title>
      <link href="/posts/f00a10c67728/"/>
      <url>/posts/f00a10c67728/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>今天主要分享下，在windows10系统中，最值得推荐的三个不同版本，它们各有各的优点，比如稳定、高效和耐用，适合不同的人群使用。</p><h2 id="第一个就是windows10企业版-LTSC-2021"><a href="#第一个就是windows10企业版-LTSC-2021" class="headerlink" title="第一个就是windows10企业版 LTSC 2021"></a>第一个就是windows10企业版 LTSC 2021</h2><h3 id="1-1简单介绍"><a href="#1-1简单介绍" class="headerlink" title="1.1简单介绍"></a>1.1简单介绍</h3><p>这个版本是Windows10长期服务版，支持安全更新长达10年，是专门为企业研发的官方精简版。它是基于Windows10 2019构建，新增了部分高级功能，尤其在安全方面做的更好，系统稳定性非常强。因为高效、稳定，不需要频繁升级更新，非常适合企业，商务平台以及一些特殊场景下使用。</p><h3 id="1-2下载"><a href="#1-2下载" class="headerlink" title="1.2下载"></a>1.2下载</h3><ul><li>中文简体<br><a href="https://software-download.microsoft.com/download/db/444969d5-f34g-4e03-ac9d-1f9786c69161/19044.1288.211006-0501.21h2_release_svc_refresh_CLIENT_LTSC_EVAL_x86FRE_zh-cn.iso">32位</a><br><a href="https://software-download.microsoft.com/download/db/444969d5-f34g-4e03-ac9d-1f9786c69161/19044.1288.211006-0501.21h2_release_svc_refresh_CLIENT_LTSC_EVAL_x64FRE_zh-cn.iso">64位</a></li><li>中文繁体<br><a href="https://software-download.microsoft.com/download/db/444969d5-f34g-4e03-ac9d-1f9786c69161/19044.1288.211006-0501.21h2_release_svc_refresh_CLIENT_LTSC_EVAL_x86FRE_zh-tw.iso">32位</a><br><a href="https://software-download.microsoft.com/download/db/444969d5-f34g-4e03-ac9d-1f9786c69161/19044.1288.211006-0501.21h2_release_svc_refresh_CLIENT_LTSC_EVAL_x64FRE_zh-tw.iso">64位</a></li><li>英语（美国）<br><a href="https://software-download.microsoft.com/download/db/444969d5-f34g-4e03-ac9d-1f9786c69161/19044.1288.211006-0501.21h2_release_svc_refresh_CLIENT_LTSC_EVAL_x86FRE_en-us.iso">32位</a><br><a href="https://software-download.microsoft.com/download/db/444969d5-f34g-4e03-ac9d-1f9786c69161/19044.1288.211006-0501.21h2_release_svc_refresh_CLIENT_LTSC_EVAL_x64FRE_en-us.iso">64位</a></li><li>英语（英国）<br><a href="https://software-download.microsoft.com/download/db/444969d5-f34g-4e03-ac9d-1f9786c69161/19044.1288.211006-0501.21h2_release_svc_refresh_CLIENT_LTSC_EVAL_x86FRE_en-gb.iso">32位</a><br><a href="https://software-download.microsoft.com/download/db/444969d5-f34g-4e03-ac9d-1f9786c69161/19044.1288.211006-0501.21h2_release_svc_refresh_CLIENT_LTSC_EVAL_x64FRE_en-gb.iso">64位</a></li></ul><h3 id="1-3安装"><a href="#1-3安装" class="headerlink" title="1.3安装"></a>1.3安装</h3><p><strong>给其它电脑安装</strong><br>使用写盘工具将系统写入u盘，然后进行安装。</p><p><strong>本机电脑安装</strong><br>双击下载下来的iso文件，运行里面的setup.exe程序。</p><h2 id="第二个就是windows10专业工作站版"><a href="#第二个就是windows10专业工作站版" class="headerlink" title="第二个就是windows10专业工作站版"></a>第二个就是windows10专业工作站版</h2><h3 id="2-1简单介绍"><a href="#2-1简单介绍" class="headerlink" title="2.1简单介绍"></a>2.1简单介绍</h3><p>正如名字所说，这个版本就是专门为工作站打造的的高级专业版，拥有服务器级别的硬件支持，专为高负载场景设计，在不丢失高级功能的同时，它提供了更稳定更高效的性能，相当于一台高性能的服务器。</p><h3 id="2-2下载"><a href="#2-2下载" class="headerlink" title="2.2下载"></a>2.2下载</h3><p><a href="https://www.microsoft.com/en-au/software-download/windows10">专业工作站版官网下载</a></p><h3 id="2-3安装"><a href="#2-3安装" class="headerlink" title="2.3安装"></a>2.3安装</h3><p>下载后，双击打开它。根据提示和需求进行安装即可。</p><h2 id="第三个就是windows10专业版"><a href="#第三个就是windows10专业版" class="headerlink" title="第三个就是windows10专业版"></a>第三个就是windows10专业版</h2><h3 id="3-1简单介绍"><a href="#3-1简单介绍" class="headerlink" title="3.1简单介绍"></a>3.1简单介绍</h3><p>对于普通用户来说，非常推荐这个版本，它可以在兼顾性能的同时，还涵盖了几乎所有的高级功能，尤其在节能和性能方面可以获得更好的平衡和更高的硬件支持。</p><h3 id="3-2下载"><a href="#3-2下载" class="headerlink" title="3.2下载"></a>3.2下载</h3><p><a href="https://www.microsoft.com/en-au/software-download/windows10">专业版官网下载</a></p><p>官网下载专业版，默认是不显示下载按钮的，需要设置下浏览器。</p><h3 id="3-3安装"><a href="#3-3安装" class="headerlink" title="3.3安装"></a>3.3安装</h3><p>安装的时候选择专业版即可。</p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Win10 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用苹果cms和海螺模板搭建属于自己的影视网站</title>
      <link href="/posts/0c1661237f76/"/>
      <url>/posts/0c1661237f76/</url>
      
        <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol><li>一台服务器（国内阿里云，腾讯云，国外racknerd)，推荐选非大陆服务器，大陆服务器需要备案</li><li>解析到服务器的域名</li><li>宝塔面板（推荐使用国际版宝塔面板<a href="https://www.aapanel.com/new/download.html#install">aapanel</a>)</li><li>苹果CMS源码</li><li>海螺模板源码</li></ol><h2 id="第一步，安装宝塔面板-以debian10-64系统为例"><a href="#第一步，安装宝塔面板-以debian10-64系统为例" class="headerlink" title="第一步，安装宝塔面板(以debian10_64系统为例)"></a>第一步，安装宝塔面板(以debian10_64系统为例)</h2><h3 id="更新包（可选）"><a href="#更新包（可选）" class="headerlink" title="更新包（可选）"></a>更新包（可选）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update -y &amp;&amp; apt upgrade -y</span><br></pre></td></tr></table></figure><h3 id="安装宝塔面板-以国际版aapanel为例"><a href="#安装宝塔面板-以国际版aapanel为例" class="headerlink" title="安装宝塔面板(以国际版aapanel为例)"></a>安装宝塔面板(以国际版aapanel为例)</h3><p>debian安装脚本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http://www.aapanel.com/script/install-ubuntu_6.0_en.sh &amp;&amp; bash install.sh aapanel</span><br></pre></td></tr></table></figure><p>centos安装脚本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://www.aapanel.com/script/install_6.0_en.sh &amp;&amp; bash install.sh aapanel</span><br></pre></td></tr></table></figure><p>ubuntu/deepin安装脚本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh http://www.aapanel.com/script/install-ubuntu_6.0_en.sh &amp;&amp; sudo bash install.sh aapanel</span><br></pre></td></tr></table></figure><p>等待脚本运行完毕后，会给出宝塔面板的访问链接（ip+端口号）、用户名和密码</p><p>端口我这边是7800，所以浏览器地址栏输入服务器公网ip地址:7800，就可以访问了。<strong>注意</strong>：冒号是英文状态的冒号。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/p8abdc-0.webp" alt="image-20230106152554254"></p><h2 id="第二步，使用宝塔安装建站必要的程序"><a href="#第二步，使用宝塔安装建站必要的程序" class="headerlink" title="第二步，使用宝塔安装建站必要的程序"></a>第二步，使用宝塔安装建站必要的程序</h2><ol><li>nginx</li><li>php(一定选择7.0~7.2版本)</li><li>mysql(5.6以上版本)</li><li>php扩展fileinfo</li><li>php扩展sg11</li></ol><h3 id="安装nginx-mysql和php"><a href="#安装nginx-mysql和php" class="headerlink" title="安装nginx,mysql和php"></a>安装nginx,mysql和php</h3><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/pe2js5-0.webp" alt="image-20230106153525180"></p><p>此过程大概会持续30分钟左右，时间快慢和服务器的性能有关，耐心等待安装完毕即可。</p><h3 id="安装两个php扩展，fileinfo和sgll"><a href="#安装两个php扩展，fileinfo和sgll" class="headerlink" title="安装两个php扩展，fileinfo和sgll"></a>安装两个php扩展，fileinfo和sgll</h3><p>点击App Store</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/pglnwv-0.webp" alt="image-20230106153936554"></p><p>安装fileinfo扩展和sg11扩展</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/pird4e-0.webp" alt="image-20230106154314842"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/pivnyg-0.webp" alt="image-20230106154331824"></p><p>重启php</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/pjz923-0.webp" alt="简单图床 - EasyImage"></p><h2 id="第三步，新建一个站点"><a href="#第三步，新建一个站点" class="headerlink" title="第三步，新建一个站点"></a>第三步，新建一个站点</h2><p>注意：此步需要一个域名，并且域名已经解析到服务器</p><p>添加站点</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/pmxl46-0.webp" alt="image-20230106154944028"></p><p>输入域名，选择数据库，输入数据库用户名和密码，选择php，勾选ssl，最后点击submit提交。记住用户名和密码</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/ppbt4p-0.webp" alt="image-20230106155413892"></p><p>浏览器输入刚刚创建的站点域名，出现下面就说明没问题</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/qgmo89-0.webp" alt="image-20230106160003391"></p><h2 id="第四步，上传苹果CMS源码"><a href="#第四步，上传苹果CMS源码" class="headerlink" title="第四步，上传苹果CMS源码"></a>第四步，上传苹果CMS源码</h2><p>进入站点根目录</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/qhzg08-0.webp" alt="image-20230106160229695"></p><p>进入之后先把所有东西删除，然后上传maccms_2018.zip的源码，上传好后选中这个包，右键解压即可</p><p>最终效果</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/qmaqf4-0.webp" alt="image-20230106160954280"></p><p>再次访问刚刚创建的站点域名，我的就是tj.yilanbk.com，刷新页面会出现如下</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/qngl49-0.webp" alt="image-20230106161149808"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/qns4q9-0.webp" alt="image-20230106161200964"></p><p>填写刚刚设置的数据库用户名和密码。如果忘记了，可以点击宝塔面板左边菜单Databases查看。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/qnxgwz-0.webp" alt="image-20230106161228748"></p><p>设置管理员用户名和密码，后面访问网站后台时用到。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/qry4c3.webp" alt="简单图床 - EasyImage"></p><p>等待3s左右，会弹出登入后台的面板，输入设置好的网站管理员账号用户名和密码就能正常进入后台</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/qv59zu-0.webp" alt="image-20230106162441641"></p><p>网站后台</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/qw6n29-0.webp" alt="image-20230106162615535"></p><p>此时输入网站域名访问网站前台，出现下图默认的主题模板</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/qxbx5z-0.webp" alt="image-20230106162806250"></p><h2 id="安装海螺模板"><a href="#安装海螺模板" class="headerlink" title="安装海螺模板"></a>安装海螺模板</h2><p>进入网站根目录，点击进入templete文件夹</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/qzz1o3-0.webp" alt="image-20230106163252727"></p><p>上传海螺主题zip文件，然后解压这个目录，解压好后就可以删掉zip文件了。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/r1rt23-0.webp" alt="image-20230106163554975"></p><p>进入网站后台，使用刚刚上传的模板</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/r4oozb-0.webp" alt="image-20230106164043756"></p><p>这个时候进入网站前台，刷新页面就能看到网站变化了</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/r5nrpq-0.webp" alt="image-20230106164206464"></p><h2 id="设置海螺主题模板设置的快捷菜单"><a href="#设置海螺主题模板设置的快捷菜单" class="headerlink" title="设置海螺主题模板设置的快捷菜单"></a>设置海螺主题模板设置的快捷菜单</h2><p>点击快捷菜单配置</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/r6w6iz-0.webp" alt="image-20230106164408083"></p><p>增加一行：海螺主题设置,你的域名/admin.php/admin/conch/theme。</p><p>“海螺主题设置”字样可以自己随便输，我输的是海螺模板</p><p><strong>注意：一定要写上自己的域名，否则会出错</strong></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/r8c82x-0.webp" alt="image-20230106164653817"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/ioiyn0-0.webp" alt="image-20230106112956698"></p><p>成功页面</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/06/ra268x-0.webp" alt="image-20230106164945221"></p><p>此时视频站基本搭建起来了，但是目前网站页面是没有任何视频的，后面需要采集视频资源，安装播放器才能正常使用</p><div class="tip "><p>下期内容</p></div><p>安装播放器</p><p>添加视频采集接口</p><p>配置站点图标，个性成自己的视频网站</p>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宝塔建站 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo博客本地环境搭建</title>
      <link href="/posts/1aa13d495272/"/>
      <url>/posts/1aa13d495272/</url>
      
        <content type="html"><![CDATA[<details class="folding-tag" ><summary> 前言 </summary>              <div class='content'>              <p>一个月前，偶然发现，电脑不能搬动，稍微搬动下电脑，它就会黑屏或者死机，只要不动它，就会给面子让我苟且使用。但是最近，也就是一周前，电脑在使用过程中也会发生死机或者黑屏，严重影响使用体验，前一秒还在那认真的的做word,改ppt，下一秒黑屏了，或者屏幕定格，鼠标键盘都不好使了，这样搞下来，一天四五次整个人都不好了。没办法，本想和它和平相处的，如今只能拆开它。第一次拆机，简单请了灰，换个硅脂，没啥卵用。后面又拆了几次，重新插拔了内存和固态硬盘，还是不好使。还重装了系统，依然没有用。一周时间，疯狂汲取死机黑屏问题的原因和解决方法，最后差点去换主板。好在，最后一次 拆机，处在不报任何希望的时候，把内存条的金手指使用橡皮擦擦了一遍，奇迹出现了，问题得到解决。内存条之前没想到去擦，是因为之前在寻找解决方案的时候，视频博主讲解了台式机一般需要去用橡皮擦擦拭内存条，笔记本一般不需要，因此忽略了。所以，大家的笔记本如果和我一样之前没有任何物理（摔碰）化学（进液体）伤害的情况下突然出现黑屏，可以检查下硬盘和内存条的问题。</p><p>上次重装系统是七月分这样（博客在装系统之后搭建），总结了一波如何快速安装软件的内容。短短五个月，又重装了一次，然而这次不同，有些博客的文件是在C盘的，C盘清空意味着本地博客环境变了，无法再远程部署hexo到github page。只好重新搭建本地环境，恢复环境的过程不是很顺。记录下遇到的问题，方便以后换电脑，又或者电脑又出故障时能顺溜的恢复博客环境。</p>              </div>            </details><div class="note default simple"><p>主要步骤</p></div><ol><li>安装git</li><li>安装nodejs</li><li>安装hexo</li></ol><h1 id="安装git"><a href="#安装git" class="headerlink" title="安装git"></a>安装git</h1><p>git下载地址：<a href="https://git-scm.com/">https://git-scm.com/</a></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/24/sa5q0y-0.webp" alt="image-20221224171002076"></p><p>安装路径推荐安装到C盘以外的盘。</p><p>其它安装步骤基本就是一路默认下一步即可。</p><h1 id="安装nodejs"><a href="#安装nodejs" class="headerlink" title="安装nodejs"></a>安装nodejs</h1><p>nodejs下载地址：<a href="https://nodejs.org/">https://nodejs.org/</a></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/24/sbz54l-0.webp" alt="image-20221224171316362"></p><p>此处不要勾选，否则会安装很多没有用的东西！！！，对于搭建hexo博客这些模块工具基本用不到，后面需要用到啥模块再安装即可。</p><p>同样的，安装路径推荐安装到C盘以外的盘。</p><p>其它安装步骤基本就是一路默认下一步即可。</p><h2 id="检验是否安装成功"><a href="#检验是否安装成功" class="headerlink" title="检验是否安装成功"></a>检验是否安装成功</h2><p>CMD输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/24/seea25-0.webp" alt="image-20221224171722884"></p><h2 id="可能出现的问题和解决方案"><a href="#可能出现的问题和解决方案" class="headerlink" title="可能出现的问题和解决方案"></a>可能出现的问题和解决方案</h2><p>问题一：如果输入npm -v，输出的结果是WARN config global <code>--global</code>, <code>--local</code> are deprecated. Use <code>--location=glo bal</code> instead.</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/24/sf5ka2-0.webp" alt="image-20221224171851015"></p><div class="note info simple"><p>解决方案</p></div><p>打开nodejs的安装路径找到如下两个文件</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/24/sg6zu4-0.webp" alt="image-20221224172024799"></p><p>把prefix -g 换成 prefix —location=global</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/24/sgctif-0.webp" alt="image-20221224172052393"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/24/sgs2uv-0.webp" alt="image-20221224172122344"></p><p>问题二：如果输入np -v 出现Could not determine Node.js install directory：</p><div class="note info simple"><p>解决方案</p></div><p>找到安装nodejs的文件夹，我的是“d:\nodejs”，右键这个文件夹点属性，修改其权限。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/24/sjq7l2-0.webp" alt="image-20221224172617594"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/24/si5eeh-0.webp" alt="image-20221224172352987"></p><h2 id="修改默认文件夹方法"><a href="#修改默认文件夹方法" class="headerlink" title="修改默认文件夹方法"></a>修改默认文件夹方法</h2><p>避免后面安装的npm模块都在c盘，导致C盘空间越来越小，所以可以修改默认的路径</p><ul><li>查看模块安装位置。</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm get prefix</span><br></pre></td></tr></table></figure><ul><li>查看缓存位置</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm get  cache</span><br></pre></td></tr></table></figure><ul><li>修改默认文件夹</li></ul><p>在安装的路径位置新建node_cache和node_global文件夹（我的nodejs的安装位置是“d:/nodejs”）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> prefix <span class="string">&quot;D:\nodejs\node_global&quot;</span></span><br><span class="line">npm config <span class="built_in">set</span> cache <span class="string">&quot;d:\nodejs\node_cache&quot;</span></span><br></pre></td></tr></table></figure><p>之后安装到node_global的全局模块是需要通过命令行访问的，因此需要把node_global的路径”d:/nodejs/node_global”加入到系统变量的Path变量中。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/24/sokvli-0.webp" alt="image-20221224173433075"></p><h1 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h1><p>选择一个盘，新建一个文件夹（作为博客的根目录），我选择”f:/Blog”，把之前备份的blog文件复制到这里</p><p>打开Blog文件夹，右键git bash here，打开git命令框，输入npm install hexo-cli -g</p><p>等待安装完成，hexo这个模块会安装在之前设置好的模块安装位置，我设置在“d:/nodejs/node_global”</p><p>依次打开会看到hexo-cli这个文件夹</p><p>然后执行，npm install,安装所需模块。</p><h1 id="配置SSH，连接电脑和远程仓库"><a href="#配置SSH，连接电脑和远程仓库" class="headerlink" title="配置SSH，连接电脑和远程仓库"></a>配置SSH，连接电脑和远程仓库</h1><p>最终需要生成的文件如下</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/24/sy0dfv-0.webp" alt="image-20221224175014037"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/24/syqj8i-0.webp" alt=""></p><ul><li>配置git，在桌面右键Git Bash Here，依次输入下面两条命令：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email <span class="string">&quot;此处填写注册github账号的邮箱&quot;</span></span><br><span class="line">git config --global user.name <span class="string">&quot;此处填写github账号的用户名&quot;</span></span><br></pre></td></tr></table></figure><p>成功后会在你的”C://user/你的用户名”下有.gitconfig文件。</p><ul><li><p>配置SSH</p><p>在桌面右键Git Bash Here，输入命令：</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;你的github邮箱&quot;</span></span><br></pre></td></tr></table></figure><p> 然后，一路enter，按三次enter。会生成.ssh文件，找到它，这里面的id_rsa.pub就是ssh密钥。</p><p> 进入你的github账户，在屏幕右上角你的头像上点击下拉箭头，找到settings，点击进去。点击SSH and GPG keys。把你的SSH复制进去。</p><p><code>注意：</code></p><ul><li><p>此步如果只是生成了id_rsa和id_rsa.pub这两个文件，后续hexo d会出现提示没有权限的错误</p></li><li><p>生成新的id_rsa和id_rsa.pub后，复制id_rsa.pub到github账号重新更新新的SSH keys。使用githubaction的，复制id_rsa到githubaction的私有仓库更                   新HEXO_DEPLOY_PRI。不到github更新，同样出现权限错误。</p></li><li><p><a href="https://blog.yilan.uk/posts/2e65469ef806/">查看文章</a></p></li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/24/tsdjc5-0.webp" alt="image-20221224180117710"></p><p>必须生成known_host文件，known_host字面意思的识别主机，用来存放电脑主机信息的。每台电脑都会有不同的known_host</p><div class="note info simple"><p>解决方案</p></div><p>输入yes回车即可</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/p7d9w4-0.webp" alt="img"></p><div class="note info simple"><p>参考文章</p></div><div class="tag link"><a class="link-card" title="known_hosts不存在_" href="https://yill.ga/csdn1"><div class="left"><img src="https://g.csdnimg.cn/static/logo/favicon32.ico"/></div><div class="right"><p class="text">known_hosts不存在_</p><p class="url">https://yill.ga/csdn1</p></div></a></div>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>玩客云折腾记</title>
      <link href="/posts/c82868a11672/"/>
      <url>/posts/c82868a11672/</url>
      
        <content type="html"><![CDATA[<h2 id="玩客云简介"><a href="#玩客云简介" class="headerlink" title="玩客云简介"></a>玩客云简介</h2><div class="note default simple"><p>硬件配置</p></div><div class="table-container"><table><thead><tr><th>参数</th><th>配置</th></tr></thead><tbody><tr><td>芯片</td><td>晶晨s805，32位处理器</td></tr><tr><td>cpu</td><td>四核1.5GHz</td></tr><tr><td>内存（RAM)</td><td>1Gb</td></tr><tr><td>存储空间(ROM)</td><td>8Gb</td></tr><tr><td>USB接口</td><td>2.0</td></tr><tr><td>网口</td><td>千兆网口</td></tr></tbody></table></div><p>总体来说配置相当垃圾，不过现在的价格挺便宜。当年的售价是599，现在45左右就可以入手。</p><div class="note default simple"><p>功能介绍</p></div><p>不刷机直接用玩客云自带的固件：</p><ul><li><p>适用人群：经常需要用迅雷下载的</p></li><li><p>优点：使用它，相当于有半个迅雷会员，速度稳定在8兆左右。外接一个移动硬盘，插上网线，在家里运行，无论身在何处都能远程管理自己的下载资源。最重要的是这货不挑链接，迅雷会员屏蔽的资源，它能下，当然迅雷能下的它同样可以下，而且还安全，毕竟是下到自己的硬盘中，还有就是功耗极低，1到2瓦，24小时运行，一个月一度电，妥妥的下载神器。个人云盘。</p></li><li><p>缺点：伤硬盘，硬盘寿命缩减，即使现在网上有绝育的，实际上依然会有影响。usb2.0的接口，读写速度只能在20-30mb/s。</p></li></ul><p>刷机：</p><ul><li><p>刷Android系统，可以当作电视盒子（四大固件可选）</p><p>1.<a href="https://right.com.cn/forum/forum.php?mod=viewthread&amp;tid=338759">webpad固件</a>。</p><p>基于官方固件 v2.32 版修改，是其它所有第三方固件的“爸爸”。</p><p>自带root，不带root管理，内置乱七八糟一堆app，但可以删。</p><p>流畅度一般。</p><p>2.<a href="http://www.yyfrom.com/cms/index.html">YYF固件</a>。</p><p>基于webpad旧版固件（对应官方固件 v2.19 版）的精简修改+扩展版。</p><p>自带root，自带root管理，移除了所有webpad固件内置垃圾app，加了很多实用功能，如语音控制/远程管理/bt下载之类。</p><p>流畅度优于webpad固件。</p><p>3.<a href="https://www.right.com.cn/forum/thread-315889-1-1.html">Rush固件</a>。</p></li></ul><p>​          基于webpad旧版固件（对应官方固件 v2.19 版）的极限精简版。</p><p>​          自带root，自带root管理，体积不大，非常干净。</p><p>​          流畅度极佳。</p><p>​            4.潜龙固件<a href="https://www.znds.com/tv-1028090-1-1.html">https://www.znds.com/tv-1028090-1-1.html</a></p><ul><li><p>刷Openwrt当旁路由，用来科学上网。</p></li><li><p>刷成复古游戏机。（b站搜索人中日月）</p></li><li><p>刷arbian系统，配合docker可以搭建网站，下载程序（qbittorrent、transimission等），同步工具（微力同步）。看up主powersee。</p></li></ul><h2 id="刷机过程"><a href="#刷机过程" class="headerlink" title="刷机过程"></a>刷机过程</h2><div class="note default simple"><p>准备工作</p></div><p>工具准备：吹风机，撬棒，螺丝刀，镊子，双公头usb。撬棒和镊子不必相同，能实现同样功能的都行，镊子用作短接，金属的都行。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/10/xlddba-3.webp" alt="image-20221210203126503"></p><p>软件工具：<a href="https://wwqg.lanzouf.com/iOgNy0icffde">USB_Burning_TOOL</a>(晶晨烧录工具)；<a href="https://wwqg.lanzouf.com/i4LsF0icff1c">s805_flash_snail</a>(底包，刷完可以进入u盘系统，并且之后再刷机无需拆机）</p><p>以上是基础，刷完之后，再就是制作各种U盘镜像。镜像小的可以刷入盒子里面，大的以后就插在u盘运行。</p><p>拆机跳过，建议在整洁的环境下进行，否则一套下来容易手忙脚乱，最后找不到东西。</p><div class="note default simple"><p>安装软件，刷入底包</p></div><p>电脑端操作：</p><ol><li>安装USB_Burning_Tool时，要注意安装驱动（安装步骤会提示安装驱动，如果提示框，关闭杀毒软件再次尝试）。必须有驱动。</li><li>，打开软件，导入底包镜像，点击开始，电脑端操作结束。底包就是s805_flash_snail</li></ol><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/10/x6h1n2-3.webp" alt="image-20221210200624466"></p><p>接线和短接</p><ol><li>双公头usb，一端连接电脑，一端连接玩客云（玩客云这端，<strong>一定要接入靠近Hdmi接口的usb口</strong>）</li><li>玩客云插上电源接口，先插在插座上但是不要通电。</li><li>镊子放在短接位置后再给玩客云通电。通电后，电脑端开始烧录。</li></ol><p>新版短接位置</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/12/gseivz-3.webp" alt="image-20221212101506791"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/10/xby429-3.webp" alt="image-20221210201543257"></p><p>烧录成功</p><p><img src="https://lskpro.yilangj.ga//i/2022/12/10/639436bb03796.png" alt="image-20221210153510596.png"></p><p>不放心是否真的刷好，可以通过hdmi来判断。</p><p>玩客云通电，用hdmi线连接玩客云和显示器。</p><p>显示器会循环以下画面</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/10/xfdemp-3.webp" alt="image-20221210202117184"></p><div class="tip info"><p>到此，底包已经刷完了，后面就可以根据需求通过u盘来刷固件，比如openwrt，arbian系统。</p><p>注意：想刷电视盒子，不用刷上面的底包，直接刷安卓电视盒子固件，电视盒子固件作为底包。底包的作用就是可以进入u盘系统。</p><p>刷完电视盒子可以把游戏固件写入到u盘，这样可以实现，拔下u盘进入电视盒子系统，插上u盘进入游戏系统。</p></div><p>未完待续。。。。。。</p>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 玩客云 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何申请Office365E5开发者账号，开通OneDrive5T空间教程</title>
      <link href="/posts/d2ad6f8c8f0e/"/>
      <url>/posts/d2ad6f8c8f0e/</url>
      
        <content type="html"><![CDATA[<div class="tip info"><p>今天教大家如何免费获得office365账户，支持几乎所有office组件，而且账户可以申请获得onedrive5T空间，默认是1T空间。不保证都能成功。</p></div><div class="tip warning faa-horizontal animated"><p>前提条件：github账号，手机号接收验证码。</p></div><p>大致流程</p><ol><li>申请微软365开发人员账号。（需要一个普通的微软账号，没有可以注册一个）</li><li>在microsoft azure上新建应用程序e5sub</li><li>使用Github自动订阅程序</li></ol><h2 id="2023-04-08更新"><a href="#2023-04-08更新" class="headerlink" title="2023-04-08更新"></a>2023-04-08更新</h2><p>续订项目作者的更新：<a href="https://qyi.io/archives/687.html">E5 自动订阅程序已开源] – 浅忆博客 (qyi.io)</a></p><h3 id="2023-04-07-暂时停止调用"><a href="#2023-04-07-暂时停止调用" class="headerlink" title="2023-04-07 暂时停止调用"></a>2023-04-07 暂时停止调用</h3><p><strong>这两天出现大量E5账户被“强制”过期，到期时间被重置为 0/0，避免影响其他账户的到期时间，所以暂时将调用关闭。</strong></p><p>可能是滥用的太多了，对使用了本程序的E5进行了“强制”过期，还好的是留了1个月时间可以转移OD里的资源，所以大家尽快备份资源吧。</p><p>初步判断是根据以下几个原因锁定的E5。</p><ul><li>根据调用服务器的IP</li><li>根据在AZ面板里应用设置的回调地址，也就是 <a href="https://e5.qyi.io/xxxxxxxxxxxx">https://e5.qyi.io/xxxxxxxxxxxx</a></li></ul><p>所以还没有被 “过期”的童鞋，在 <a href="https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/RegisteredAp">az面板</a> 里将应用删除了吧，或者将回调地址删了也行。</p><h3 id="历史"><a href="#历史" class="headerlink" title="历史"></a>历史</h3><p>2023-01-15 : 官方将回调地址 <a href="https://e5.qyi.io/outlook/auth2/receive">https://e5.qyi.io/outlook/auth2/receive</a> 设置为黑名单，填写了该地址的应用都将判断为“钓鱼”应用。<a href="https://qyi.io/archives/1042.html">关于续订程序出现授权出错问题</a></p><p>2023-02-17 : github将用于登录的github Apps 暂停，导致无法登录。无任何通知，就回调的时候提示被暂停，当时有发过工单询问原因，到目前(04-07)未收到回复。</p><p>2023-04-04 : 对使用了本程序的E5进行了“强制”过期。</p><p>看了下今年官方对用 续订程序 的操作来看，其实在 1-15 就开始“不满”了，进行了限制，我现在才反应过来，当时因该停止服务端的调用，减少损失。</p><h2 id="申请微软365开发人员账号"><a href="#申请微软365开发人员账号" class="headerlink" title="申请微软365开发人员账号"></a>申请微软365开发人员账号</h2><div class="note default simple"><p>打开edge浏览器，新建无痕窗口</p></div><p>地址栏输入365开发人员计划，懒人<a href="https://developer.microsoft.com/zh-cn/microsoft-365/dev-program">链接</a>。点击立即加入(一定要利用好无痕窗口，普通窗口有你的使用缓存)</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/ouzh7p-3.webp" alt="image-20221122150306239"></p><p>然后会弹出登录微软普通账号，假如已经有账号，并且成功登录。</p><div class="note default simple"><p>填写365开发人员账号基本信息</p></div><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/smbvt6-3.webp" alt=""></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/f037cj-3.webp" alt=""></p><p><strong>全部选上保存</strong></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/f0b9p7-3.webp" alt=""></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/f18mpb-3.webp" alt=""></p><p>设置管理员用户名和密码(管理员名字会作为365账号的开头，在@前面的内容)，这一步设置的密码一定要记住。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/f5mrs5-3.webp" alt=""></p><p>验证手机号，不要使用已经注册过的手机号。否则会出现下面的错误。另外虚拟手机号也不行。不要担心大陆手机号收不到验证码，至少目前可以。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/fed2y2-3.webp" alt=""></p><p>输入手机号，收到验证码后，可能会出现以下问题。这说明，365开发人员越来越难注册了，已经被微软发现滥用了。不过特别玄学的是，我刷新了下就能成功。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/fgyyr6-3.webp" alt=""></p><p>顺利的话会出现下面这一步。好了申请步骤已经成功了，后面需要解决到期续订的问题。微软会根据账户在订阅期间是否存在开发行为来判断是否给你续期，现在你已经有了365开发人员的账号了，一定要区别之前的普通微软账号。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/p7g53c-3.webp" alt=""></p><h2 id="在microsoft-azure上新建应用程序e5sub"><a href="#在microsoft-azure上新建应用程序e5sub" class="headerlink" title="在microsoft azure上新建应用程序e5sub"></a>在microsoft azure上新建应用程序e5sub</h2><p>先贴上教程原帖，在github上搜索e5sub，项目作者的教程<a href="https://qyi.io/archives/687.html">链接</a></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/pdimbm-3.webp" alt=""></p><p>登入Azure Active Directory。无痕窗口地址栏输入：Https://portal.azure.com</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/ppwmcq-3.webp" alt=""></p><p>登入后看到的页面，点azure active directory</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/pshc6b-3.webp" alt=""></p><p>注册e5sub程序，按照步骤操作。最后点击注册。重导向url:<a href="https://e5.qyi.io/outlook/auth2/receive">https://e5.qyi.io/outlook/auth2/receive</a></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/qmmikt-3.webp" alt=""></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/qojcvb-3.webp" alt=""></p><p>生成密码</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/qukj9p-3.webp" alt=""></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/qy21od-3.webp" alt=""></p><p>之后点击添加。此步之可能要等待下，或者多刷新下网页。一定要保存好下图的值，否则再无法看到</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/qzrzmu-3.webp" alt="image-20221122163220859"></p><p>回到应用注册，出现证书和密码打钩</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/r13e35-3.webp" alt=""></p><h2 id="使用Github自动订阅程序"><a href="#使用Github自动订阅程序" class="headerlink" title="使用Github自动订阅程序"></a>使用Github自动订阅程序</h2><p>无痕窗口打开<a href="https://e5.qyi.io/。登录你的github账户，点击屏幕中间的猫头会跳出登录界面。">https://e5.qyi.io/。登录你的github账户，点击屏幕中间的猫头会跳出登录界面。</a></p><p>点击新建后会弹出名称和描述，名称就是下图的显示名字，随便起一个。描述可以不写。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/r3xmqm-3.webp" alt=""></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/r5mgxm-3.webp" alt=""></p><p>填入client_id和client_secret</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/r6tvmn-3.webp" alt="image-20221122164404926"></p><p>之后按照流程一路默认点就行。运气好最后会提示授权成功，出问题，多来几次，看前面哪里出问题。</p><p><a href="https://admin.microsoft.com/Adminportal/Home?#/homepage">添加子用户</a></p><h2 id="申请onedrive5T空间"><a href="#申请onedrive5T空间" class="headerlink" title="申请onedrive5T空间"></a>申请onedrive5T空间</h2><div class="note default simple"><p>登录注册好的365开发人员账号</p></div><p>无痕窗口输入www.office.com。登录账号，进入ondrive页面。</p><p>查看onedrive存储空间</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/04/ius549-3.webp" alt="image-20221204114009763"></p><p>依次点击onedrive设置、其他设置、存储标准。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/04/ivyqh9-3.webp" alt="image-20221204114207667"></p><p>修改之前是1T空间。上图是修改之后的</p><div class="note default simple"><p>使用网页升级到5T空间</p></div><p>浏览器输入<a href="https://admin.onedrive.com/#v=StorageSettings">https://admin.onedrive.com/#v=StorageSettings</a></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/04/ixrqhc-3.webp" alt="image-20221204114511615"></p><p>点击存储限制修改成5T。修改之后在去查看下onedrive空间，如果没有生效，需要用SharePoint Online Management Shell工具来设置。</p><div class="note default simple"><p>命令行输入命令升级到5T空间</p></div><p>下载shell工具。下载地址：<a href="https://www.microsoft.com/zh-CN/download/details.aspx?id=35588">https://www.microsoft.com/zh-CN/download/details.aspx?id=35588</a></p><p>安装并打开</p><p>依次输入两条命令</p><ol><li>Connect-SPOService -Url https://<span class='p red'>zuzhi</span>-admin.sharepoint.com</li><li>Set-SPOSite -Identity https://<span class='p red'>zuzhi</span>-my.sharepoint.com/personal/<span class='p blue'>user_zuzhi_</span>onmicrosoft_com -StorageQuota 5242880</li></ol><p>红色部分改成自己的组织名字。(组织名是365开发账号@后面的一串，用户名是@前面的一串）</p><p>蓝色部分改成自己的   用户名_组织_</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/11/22/nnj7w9-3.webp" alt=""></p><p>执行之后，刷新一下OneDrive页面就可以看到5T空间生效了。</p><h2 id="突破微软E5应用密钥限制上限2年的办法"><a href="#突破微软E5应用密钥限制上限2年的办法" class="headerlink" title="突破微软E5应用密钥限制上限2年的办法"></a>突破微软E5应用密钥限制上限2年的办法</h2><p>方法出处：<a href="https://hostloc.com/thread-840678-1-2.html">https://hostloc.com/thread-840678-1-2.html</a></p><p>成功页面</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/11/xyjssg-0.webp" alt="image-20230111205338285"></p><ul><li>以365e5开发者账号登录azuue,<a href="https://portal.azure.com/">https://portal.azure.com/</a></li><li>复制应用的对象ID(Object ID)</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/11/yr1g9q-0.webp" alt="简单图床 - EasyImage"></p><ul><li>打开<a href="https://developer.microsoft.com/zh-cn/graph/graph-explorer">https://developer.microsoft.com/zh-cn/graph/graph-explorer</a></li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2023/01/11/zcymrc-0.webp" alt="2023-01-11_212447"></p><p>代码</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;passwordCredential&quot;: &#123;</span><br><span class="line">        &quot;displayName&quot;: &quot;100年&quot;,</span><br><span class="line">        &quot;endDateTime&quot;: &quot;2121-05-07T00:00:00Z&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>100年，可以自定义</p><p>2121-05-07，可以改动，今天2023-01-11，可以改成2123-01-11</p><p>推荐阅读</p><p><a href="https://ednovas.xyz/2021/06/07/graphexplorer/">https://ednovas.xyz/2021/06/07/graphexplorer/</a></p><p><a href="https://zhujitips.com/3175">https://zhujitips.com/3175</a></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> office </tag>
            
            <tag> office365 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ExcelVBA实用代码</title>
      <link href="/posts/d34f0a47cc4f/"/>
      <url>/posts/d34f0a47cc4f/</url>
      
        <content type="html"><![CDATA[<details class="folding-tag" cyan close><summary> 写在前面 </summary>              <div class='content'>              <p>研一寒假，闲来无事，就想着学点技能。至于为啥选择VBA，记不清了，应该是刷到了相关视频，看到excelvba一键批量处理数据的强悍，由此产生了兴趣。一开始是看的B站王佩丰的VBA视频（现在由于版权问题，没人再敢上传了），第一遍很吃力，看完一遍感觉没学到啥。后面，结合自己的数据去学习，跟着写代码，稍微有点收获。下面分享记录下自己使用过的代码，分为两个部分，一是自定义的函数，二是自定义的功能。由于是新手写的不规范,还有部分不是通用的，我自己本人再调用可能也需要花时间看代码再去使用。</p>              </div>            </details><div class="note success simple"><p>自定义函数</p></div><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&#x27;提取包含分隔符的字符串。（使用数据分裂也能实现）</span></span><br><span class="line"><span class="keyword">Function</span> tqzf(STR <span class="keyword">As</span> <span class="type">String</span>, str1 <span class="keyword">As</span> <span class="type">String</span>, i <span class="keyword">As</span> <span class="type">Integer</span>)</span><br><span class="line">tqzf = Split(STR, str1)(i - <span class="number">1</span>)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"><span class="comment">&#x27;提取身份证里面的生日信息</span></span><br><span class="line"><span class="keyword">Function</span> SFZSR(STR)</span><br><span class="line">SFZSR = Format(DateSerial(<span class="keyword">Mid</span>(STR, <span class="number">7</span>, <span class="number">4</span>), <span class="keyword">Mid</span>(STR, <span class="number">11</span>, <span class="number">2</span>), <span class="keyword">Mid</span>(STR, <span class="number">13</span>, <span class="number">2</span>)), <span class="string">&quot;yyyy/m/d&quot;</span>)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"><span class="comment">&#x27;人民币大写</span></span><br><span class="line"><span class="keyword">Function</span> YuanCapital(Amountin)</span><br><span class="line">    YuanCapital = Replace(Application.<span class="keyword">Text</span>(Round(Amountin + <span class="number">0.00000001</span>, <span class="number">2</span>), <span class="string">&quot;[DBnum2]&quot;</span>), <span class="string">&quot;.&quot;</span>, <span class="string">&quot;元&quot;</span>)</span><br><span class="line">    YuanCapital = IIf(Left(Right(YuanCapital, <span class="number">3</span>), <span class="number">1</span>) = <span class="string">&quot;元&quot;</span>, Left(YuanCapital, Len(YuanCapital) - <span class="number">1</span>) &amp; <span class="string">&quot;角&quot;</span> &amp; Right(YuanCapital, <span class="number">1</span>) &amp; <span class="string">&quot;分&quot;</span>, IIf(Left(Right(YuanCapital, <span class="number">2</span>), <span class="number">1</span>) = <span class="string">&quot;元&quot;</span>, YuanCapital &amp; <span class="string">&quot;角&quot;</span>, IIf(YuanCapital = <span class="string">&quot;零&quot;</span>, <span class="string">&quot;&quot;</span>, YuanCapital &amp; <span class="string">&quot;元整&quot;</span>)))</span><br><span class="line">    YuanCapital = Replace(Replace(Replace(Replace(YuanCapital, <span class="string">&quot;零元零角&quot;</span>, <span class="string">&quot;&quot;</span>), <span class="string">&quot;零元&quot;</span>, <span class="string">&quot;&quot;</span>), <span class="string">&quot;零角&quot;</span>, <span class="string">&quot;零&quot;</span>), <span class="string">&quot;-&quot;</span>, <span class="string">&quot;负&quot;</span>)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"><span class="comment">&#x27;删除空白表，不可直接使用</span></span><br><span class="line"><span class="keyword">Public</span> <span class="keyword">Function</span> IsBlankSht(Sh <span class="keyword">As</span> Variant) <span class="keyword">As</span> <span class="type">Boolean</span></span><br><span class="line">    <span class="keyword">If</span> TypeName(Sh) = <span class="string">&quot;String&quot;</span> <span class="keyword">Then</span> <span class="keyword">Set</span> Sh = Worksheets(Sh)</span><br><span class="line">    <span class="keyword">If</span> Application.CountA(Sh.UsedRange.Cells) = <span class="number">0</span> <span class="keyword">Then</span></span><br><span class="line">        IsBlankSht = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"><span class="comment">&#x27;提取数字</span></span><br><span class="line"><span class="keyword">Function</span> EXTNUM(STR <span class="keyword">As</span> <span class="type">String</span>)</span><br><span class="line"><span class="keyword">Set</span> regx = CreateObject(<span class="string">&quot;vbscript.regexp&quot;</span>)</span><br><span class="line"><span class="keyword">With</span> regx</span><br><span class="line">    .<span class="keyword">Global</span> = <span class="literal">True</span></span><br><span class="line">    .Pattern = <span class="string">&quot;\D&quot;</span></span><br><span class="line">    EXTNUM = .Replace(STR, <span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"><span class="comment">&#x27;提取中文</span></span><br><span class="line"><span class="keyword">Function</span> EXTHZ(STR <span class="keyword">As</span> <span class="type">String</span>)</span><br><span class="line"><span class="keyword">Set</span> regx = CreateObject(<span class="string">&quot;vbscript.regexp&quot;</span>)</span><br><span class="line"><span class="keyword">With</span> regx</span><br><span class="line">    .<span class="keyword">Global</span> = <span class="literal">True</span></span><br><span class="line">    .Pattern = <span class="string">&quot;\w&quot;</span></span><br><span class="line">    EXTHZ = .Replace(STR, <span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"><span class="comment">&#x27;提取英文</span></span><br><span class="line"><span class="keyword">Function</span> EXTEN(STR <span class="keyword">As</span> <span class="type">String</span>)</span><br><span class="line"><span class="keyword">Set</span> regx = CreateObject(<span class="string">&quot;vbscript.regexp&quot;</span>)</span><br><span class="line"><span class="keyword">With</span> regx</span><br><span class="line">    .<span class="keyword">Global</span> = <span class="literal">True</span></span><br><span class="line">    .Pattern = <span class="string">&quot;[^a-zA-Z]&quot;</span></span><br><span class="line">    EXTEN = .Replace(STR, <span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"><span class="comment">&#x27;计算出现在元或者块前面（如4元，100块）数字之和（即计算金钱之和，只能相加）</span></span><br><span class="line"><span class="keyword">Function</span> MONEYSUM(STR <span class="keyword">As</span> <span class="type">String</span>)</span><br><span class="line"><span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Integer</span>, j <span class="keyword">As</span> <span class="type">Double</span>, m <span class="keyword">As</span> Variant</span><br><span class="line"><span class="keyword">Set</span> regx = CreateObject(<span class="string">&quot;vbscript.regexp&quot;</span>)</span><br><span class="line"><span class="keyword">With</span> regx</span><br><span class="line">    .<span class="keyword">Global</span> = <span class="literal">True</span></span><br><span class="line">    .Pattern = <span class="string">&quot;\d+\.?\d?(?=[元块])&quot;</span></span><br><span class="line">    <span class="keyword">Set</span> mat = .Execute(STR)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line"><span class="keyword">For</span> <span class="keyword">Each</span> m <span class="keyword">In</span> mat</span><br><span class="line">    j = j + m * <span class="number">1</span></span><br><span class="line"><span class="keyword">Next</span></span><br><span class="line">MONEYSUM = j</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"><span class="comment">&#x27;根据身份证号前六位确定归属地</span></span><br><span class="line"><span class="keyword">Function</span> SFZDZ(rng <span class="keyword">As</span> Range)</span><br><span class="line"><span class="keyword">Dim</span> dic <span class="keyword">As</span> <span class="type">Object</span></span><br><span class="line"><span class="keyword">Dim</span> conn <span class="keyword">As</span> <span class="type">Object</span>, i <span class="keyword">As</span> <span class="type">Integer</span></span><br><span class="line"><span class="keyword">Dim</span> arr()</span><br><span class="line"><span class="keyword">Set</span> conn = CreateObject(<span class="string">&quot;adodb.connection&quot;</span>)</span><br><span class="line"><span class="keyword">Set</span> dic = CreateObject(<span class="string">&quot;Scripting.Dictionary&quot;</span>)</span><br><span class="line">conn.Open <span class="string">&quot;Provider = Microsoft.ACE.OLEDB.12.0;Data Source=F:\Excel\ADO固定数据库\身份证号前6位对应归属地.xlsx;extended properties=&quot;&quot;excel 12.0;HDR=YES&quot;&quot;&quot;</span></span><br><span class="line">arr = Application.WorksheetFunction.Transpose(conn.Execute(<span class="string">&quot;select * from [Sheet1$]&quot;</span>).GetRows)</span><br><span class="line"><span class="keyword">For</span> i = <span class="number">1</span> <span class="keyword">To</span> UBound(arr)</span><br><span class="line">    dic.Add arr(i, <span class="number">1</span>), arr(i, <span class="number">2</span>)</span><br><span class="line"><span class="keyword">Next</span></span><br><span class="line">K = Left(rng, <span class="number">6</span>)</span><br><span class="line">SFZDZ = dic(K * <span class="number">1</span>)</span><br><span class="line">conn.Close</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"><span class="comment">&#x27;根据身份证号的7到14位确定年龄（周岁）</span></span><br><span class="line"><span class="keyword">Function</span> SFZNN(str2 <span class="keyword">As</span> <span class="type">String</span>)</span><br><span class="line"><span class="keyword">Dim</span> STR <span class="keyword">As</span> <span class="type">String</span>, str1 <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line">    STR = VBA.<span class="keyword">Mid</span>(str2, <span class="number">7</span>, <span class="number">8</span>)</span><br><span class="line">    str1 = VBA.DateSerial(Left(STR, <span class="number">4</span>), <span class="keyword">Mid</span>(STR, <span class="number">5</span>, <span class="number">2</span>), Right(STR, <span class="number">2</span>))</span><br><span class="line">    SFZNN = VBA.Int(DateDiff(<span class="string">&quot;d&quot;</span>, str1, <span class="type">Date</span>) / <span class="number">365</span>)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"><span class="comment">&#x27;根据身份证号倒数第二位确定性别</span></span><br><span class="line"><span class="keyword">Function</span> SFZXB(rng <span class="keyword">As</span> Range)</span><br><span class="line"><span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Integer</span></span><br><span class="line">    i = VBA.<span class="keyword">Mid</span>(rng, <span class="number">17</span>, <span class="number">1</span>) * <span class="number">1</span></span><br><span class="line">    SFZXB = VBA.IIf(i <span class="built_in">Mod</span> <span class="number">2</span>, <span class="string">&quot;男&quot;</span>, <span class="string">&quot;女&quot;</span>)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"><span class="comment">&#x27;根据出身日期确定生肖</span></span><br><span class="line"><span class="keyword">Function</span> SFZSX(rng <span class="keyword">As</span> Range)</span><br><span class="line"><span class="keyword">Dim</span> arr()</span><br><span class="line"><span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Integer</span></span><br><span class="line">i = Year(VBA.Format(rng, <span class="string">&quot;yyyy/m/d&quot;</span>)) <span class="built_in">Mod</span> <span class="number">12</span></span><br><span class="line">arr = Array(<span class="string">&quot;鸡&quot;</span>, <span class="string">&quot;狗&quot;</span>, <span class="string">&quot;猪&quot;</span>, <span class="string">&quot;鼠&quot;</span>, <span class="string">&quot;牛&quot;</span>, <span class="string">&quot;虎&quot;</span>, <span class="string">&quot;兔&quot;</span>, <span class="string">&quot;龙&quot;</span>, <span class="string">&quot;蛇&quot;</span>, <span class="string">&quot;马&quot;</span>, <span class="string">&quot;羊&quot;</span>, <span class="string">&quot;猴&quot;</span>)</span><br><span class="line"><span class="keyword">If</span> i = <span class="number">0</span> <span class="keyword">Then</span></span><br><span class="line">    SFZSX = arr(<span class="number">11</span>)</span><br><span class="line">    <span class="keyword">Else</span>: SFZSX = arr(i - <span class="number">1</span>)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"><span class="comment">&#x27;根据出生日期确定星座</span></span><br><span class="line"><span class="keyword">Function</span> SFZXZ(rng <span class="keyword">As</span> Range)</span><br><span class="line"><span class="keyword">Dim</span> arr(), arr1(), arr2()</span><br><span class="line"><span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Double</span></span><br><span class="line">i = Format(rng, <span class="string">&quot;m.dd&quot;</span>)</span><br><span class="line">arr = [&#123;<span class="number">0</span>,<span class="string">&quot;魔羯座&quot;</span>;<span class="number">1.2</span>,<span class="string">&quot;水瓶座&quot;</span>;<span class="number">2.19</span>,<span class="string">&quot;双鱼座&quot;</span>;<span class="number">3.21</span>,<span class="string">&quot;白羊座&quot;</span>;<span class="number">4.2</span>,<span class="string">&quot;金牛座&quot;</span>;<span class="number">5.21</span>,<span class="string">&quot;双子座&quot;</span>;<span class="number">6.22</span>,<span class="string">&quot;巨蟹座&quot;</span>;<span class="number">7.23</span>,<span class="string">&quot;狮子座&quot;</span>;<span class="number">8.23</span>,<span class="string">&quot;处女座&quot;</span>;<span class="number">9.23</span>,<span class="string">&quot;天秤座&quot;</span>;<span class="number">10.24</span>,<span class="string">&quot;天蝎座&quot;</span>;<span class="number">11.23</span>,<span class="string">&quot;射手座&quot;</span>;<span class="number">12.22</span>,<span class="string">&quot;魔羯座&quot;</span>&#125;]</span><br><span class="line">arr1 = Application.WorksheetFunction.Index(arr, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">arr2 = Application.WorksheetFunction.Index(arr, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">SFZXZ = Application.WorksheetFunction.Lookup(i, arr1, arr2)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br></pre></td></tr></table></figure><div class="note success simple"><p>自定义功能</p></div><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&#x27;根据A列数据命名并新建表</span></span><br><span class="line"><span class="keyword">Sub</span> 建表()</span><br><span class="line"><span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Integer</span>, arr(), j <span class="keyword">As</span> <span class="type">Integer</span></span><br><span class="line">i = Sheets(<span class="number">1</span>).Range(<span class="string">&quot;a200&quot;</span>).<span class="keyword">End</span>(xlUp).Row</span><br><span class="line">    <span class="keyword">If</span> i = <span class="number">1</span> <span class="keyword">Then</span></span><br><span class="line">    Sheets.Add(after:=Sheets(Sheets.Count)).Name = Range(<span class="string">&quot;a1&quot;</span>)</span><br><span class="line">    <span class="keyword">Else</span></span><br><span class="line">arr = Range(<span class="string">&quot;a1:a&quot;</span> &amp; i)</span><br><span class="line"><span class="keyword">For</span> j = <span class="number">1</span> <span class="keyword">To</span> i</span><br><span class="line">   Sheets.Add(after:=Sheets(Sheets.Count)).Name = arr(j, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">Next</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">Sheets(<span class="number">1</span>).<span class="keyword">Select</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br><span class="line"><span class="comment">&#x27;抓取一个工作目录下所有工作簿，把每个工作簿里面的每张表新建成工作簿然后另存在一个文件夹下(此次示例在f盘Excel文件夹下）(此代码需要复制到工作簿的模块下运行，已经解决了，看第二个注释）</span></span><br><span class="line"><span class="keyword">Sub</span> 新建工作簿()</span><br><span class="line"><span class="keyword">Dim</span> str <span class="keyword">As</span> <span class="type">String</span>, i <span class="keyword">As</span> <span class="type">Integer</span>, wb <span class="keyword">As</span> Workbook, sht <span class="keyword">As</span> Worksheet, str1 <span class="keyword">As</span> <span class="type">String</span>, wb1 <span class="keyword">As</span> Workbook, str5 <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line"><span class="keyword">Dim</span> str2 <span class="keyword">As</span> <span class="type">String</span>, str3 <span class="keyword">As</span> <span class="type">String</span>, str4 <span class="keyword">As</span> <span class="type">String</span>, t</span><br><span class="line">Excel.Application.ScreenUpdating = <span class="literal">False</span></span><br><span class="line">t = Timer</span><br><span class="line">str3 = InputBox(<span class="string">&quot;intut目录名&quot;</span>) <span class="comment">&#x27;要打开进行操作的文件夹</span></span><br><span class="line">str4 = InputBox(<span class="string">&quot;output目录名&quot;</span>)</span><br><span class="line">  str = Dir(<span class="string">&quot;f:\Excel\&quot;</span> &amp; str3 &amp; <span class="string">&quot;\*.xlsx&quot;</span>)</span><br><span class="line">  <span class="keyword">For</span> i = <span class="number">1</span> <span class="keyword">To</span> <span class="number">100</span></span><br><span class="line">  str1 = Split(str, <span class="string">&quot;.&quot;</span>)(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">Set</span> wb = Workbooks.Open(<span class="string">&quot;f:\Excel\&quot;</span> &amp; str3 &amp; <span class="string">&quot;\&quot;</span> &amp; str)</span><br><span class="line">     <span class="keyword">For</span> <span class="keyword">Each</span> sht <span class="keyword">In</span> Sheets</span><br><span class="line">     str2 = sht.Name</span><br><span class="line">        sht.Copy</span><br><span class="line">        <span class="keyword">Set</span> wb1 = ActiveWorkbook</span><br><span class="line">        str5 = wb1.Name                <span class="comment">&#x27;最新建的工作簿立即把名字储存下来</span></span><br><span class="line">        Workbooks(str5).SaveAs Filename:=<span class="string">&quot;f:\Excel\&quot;</span> &amp; str4 &amp; <span class="string">&quot;\&quot;</span> &amp; str1 &amp; <span class="string">&quot;_&quot;</span> &amp; str2 &amp; <span class="string">&quot;.xlsx&quot;</span></span><br><span class="line">        Workbooks(str1 &amp; <span class="string">&quot;_&quot;</span> &amp; str2 &amp; <span class="string">&quot;.xlsx&quot;</span>).Close</span><br><span class="line">      <span class="keyword">Next</span></span><br><span class="line">    str = Dir</span><br><span class="line">    wb.Close</span><br><span class="line">    <span class="keyword">If</span> str = <span class="string">&quot;&quot;</span> <span class="keyword">Then</span></span><br><span class="line">    <span class="keyword">Exit</span> <span class="keyword">For</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"> <span class="keyword">Next</span></span><br><span class="line">Excel.Application.ScreenUpdating = <span class="literal">True</span></span><br><span class="line">MsgBox <span class="string">&quot;处理完成！共用时&quot;</span> &amp; Timer - t &amp; <span class="string">&quot;秒&quot;</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br><span class="line"><span class="comment">&#x27;表的左上角区域转置</span></span><br><span class="line"><span class="keyword">Sub</span> 转置()</span><br><span class="line"><span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Integer</span>, j <span class="keyword">As</span> <span class="type">Integer</span>, arr(), rng <span class="keyword">As</span> Range</span><br><span class="line">i = Range(<span class="string">&quot;a1&quot;</span>).<span class="keyword">End</span>(xlDown).Row</span><br><span class="line">j = Range(<span class="string">&quot;a1&quot;</span>).<span class="keyword">End</span>(xlToRight).Column</span><br><span class="line">arr = Range(Cells(<span class="number">1</span>, <span class="number">1</span>), Cells(i, j))</span><br><span class="line">Range(Cells(<span class="number">1</span>, <span class="number">1</span>), Cells(i, j)).ClearContents</span><br><span class="line"><span class="keyword">Set</span> rng = Range(<span class="string">&quot;a1&quot;</span>)</span><br><span class="line"><span class="keyword">Set</span> rng = rng.Resize(UBound(arr, <span class="number">2</span>), UBound(arr, <span class="number">1</span>))</span><br><span class="line">rng.ClearContents</span><br><span class="line">rng.Value = Application.Transpose(arr)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&#x27;删除除了sheets（1）以外的所有表</span></span><br><span class="line"><span class="keyword">Sub</span> 删除表()</span><br><span class="line"><span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Integer</span>, j <span class="keyword">As</span> <span class="type">Integer</span></span><br><span class="line">j = Sheets.Count - <span class="number">1</span></span><br><span class="line">Application.DisplayAlerts = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">For</span> i = <span class="number">1</span> <span class="keyword">To</span> j</span><br><span class="line">    Sheets(<span class="number">2</span>).Delete</span><br><span class="line">    <span class="keyword">Next</span></span><br><span class="line">Application.DisplayAlerts = <span class="literal">True</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br><span class="line"><span class="comment">&#x27;固定目录下的多个excel文件合并到一张表里(结果：一张表）</span></span><br><span class="line"><span class="keyword">Sub</span> 文件合并()</span><br><span class="line"><span class="keyword">Dim</span> str <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line"><span class="keyword">Dim</span> wb <span class="keyword">As</span> Workbook, sht <span class="keyword">As</span> Worksheet</span><br><span class="line"><span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Integer</span>, j <span class="keyword">As</span> <span class="type">Integer</span>, k <span class="keyword">As</span> <span class="type">Integer</span>, l <span class="keyword">As</span> <span class="type">Integer</span></span><br><span class="line">Excel.Application.ScreenUpdating = <span class="literal">False</span></span><br><span class="line">str = Dir(<span class="string">&quot;F:\Excel\import data\*.xls*&quot;</span>)</span><br><span class="line"><span class="keyword">For</span> i = <span class="number">1</span> <span class="keyword">To</span> <span class="number">100</span></span><br><span class="line">    <span class="keyword">Set</span> wb = Workbooks.Open(<span class="string">&quot;F:\Excel\import data\&quot;</span> &amp; str)</span><br><span class="line">    str = Dir</span><br><span class="line">        <span class="keyword">For</span> <span class="keyword">Each</span> sht <span class="keyword">In</span> wb.Worksheets</span><br><span class="line">        <span class="keyword">If</span> sht.Range(<span class="string">&quot;a1&quot;</span>) &lt;&gt; <span class="string">&quot;&quot;</span> <span class="keyword">Then</span></span><br><span class="line">            sht.UsedRange.Copy</span><br><span class="line">            Workbooks(<span class="string">&quot;工作簿1&quot;</span>).Sheets(<span class="number">1</span>).Activate</span><br><span class="line">            Range(<span class="string">&quot;a&quot;</span> &amp; k + <span class="number">1</span>).<span class="keyword">Select</span></span><br><span class="line">            ActiveSheet.Paste</span><br><span class="line">        k = Sheets(<span class="number">1</span>).Range(<span class="string">&quot;a1&quot;</span>).<span class="keyword">End</span>(xlDown).Row</span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        <span class="keyword">Next</span></span><br><span class="line">wb.Close</span><br><span class="line">    <span class="keyword">If</span> str = <span class="string">&quot;&quot;</span> <span class="keyword">Then</span></span><br><span class="line">        <span class="keyword">Exit</span> <span class="keyword">For</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"><span class="keyword">Next</span></span><br><span class="line">Range(<span class="string">&quot;a1&quot;</span>).<span class="keyword">Select</span></span><br><span class="line">Excel.Application.ScreenUpdating = <span class="literal">True</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br><span class="line"><span class="comment">&#x27;自选excel文件，将选定excel文件的每张表放到一个文件（结果：多张表）</span></span><br><span class="line"><span class="keyword">Sub</span> 自选合并文件()</span><br><span class="line"><span class="keyword">Dim</span> arr()</span><br><span class="line"><span class="keyword">Dim</span> wb <span class="keyword">As</span> Workbook, wb1 <span class="keyword">As</span> Workbook</span><br><span class="line"><span class="keyword">Dim</span> sht <span class="keyword">As</span> Worksheet</span><br><span class="line"><span class="keyword">Set</span> wb1 = ActiveWorkbook</span><br><span class="line"><span class="keyword">Set</span> sht = ActiveSheet</span><br><span class="line"><span class="keyword">On</span> <span class="keyword">Error</span> <span class="keyword">Resume</span> <span class="keyword">Next</span></span><br><span class="line">arr = Application.GetOpenFilename(<span class="string">&quot;excel文件,*.xls*&quot;</span>, , , , <span class="literal">True</span>)</span><br><span class="line">Excel.Application.ScreenUpdating = <span class="literal">False</span></span><br><span class="line"><span class="keyword">If</span> arr(<span class="number">1</span>) &lt;&gt; <span class="string">&quot;False&quot;</span> <span class="keyword">Then</span></span><br><span class="line">    <span class="keyword">For</span> i = LBound(arr) <span class="keyword">To</span> UBound(arr)</span><br><span class="line">        <span class="keyword">Set</span> wb = Workbooks.Open(arr(i))</span><br><span class="line">        <span class="keyword">For</span> <span class="keyword">Each</span> sht <span class="keyword">In</span> wb.Worksheets</span><br><span class="line">            <span class="keyword">If</span> sht.Range(<span class="string">&quot;a1&quot;</span>) &lt;&gt; <span class="string">&quot;&quot;</span> <span class="keyword">Then</span></span><br><span class="line">            sht.Copy after:=wb1.Sheets(wb1.Sheets.Count)</span><br><span class="line">            wb1.Sheets(wb1.Sheets.Count).Name = Split(wb.Name, <span class="string">&quot;.&quot;</span>)(<span class="number">0</span>) &amp; sht.Name</span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        <span class="keyword">Next</span></span><br><span class="line">        wb.Close</span><br><span class="line">    <span class="keyword">Next</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">Excel.Application.ScreenUpdating = <span class="literal">True</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br><span class="line"><span class="comment">&#x27;将从其他文档复制的带有固定分隔符的文字分开到一列</span></span><br><span class="line"><span class="keyword">Sub</span> 将字符串按指定字符分开()</span><br><span class="line"><span class="keyword">Dim</span> arr <span class="keyword">As</span> Variant, str <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line">str = InputBox(<span class="string">&quot;按照啥字符分&quot;</span>)</span><br><span class="line">    <span class="keyword">If</span> InStr(ActiveCell, str) &lt; <span class="number">1</span> <span class="keyword">Then</span></span><br><span class="line">        MsgBox <span class="string">&quot;请选中要分裂的数据！&quot;</span> &amp; Chr(<span class="number">13</span>) &amp; <span class="string">&quot;或者检查输入的字符是否正确！&quot;</span></span><br><span class="line">        <span class="keyword">Exit</span> <span class="keyword">Sub</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">arr = Split(Cells(ActiveCell.Row, ActiveCell.Column), str)</span><br><span class="line">Cells(<span class="number">1</span>, <span class="number">1</span>).Resize(UBound(arr) + <span class="number">1</span>, <span class="number">1</span>) = Application.Transpose(arr)</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br><span class="line"><span class="comment">&#x27;查找实例1</span></span><br><span class="line"><span class="keyword">Sub</span> 当前区域查找<span class="number">1</span>返回找到的地址及其行标和列标()</span><br><span class="line"><span class="keyword">Dim</span> r <span class="keyword">As</span> Range, r1 <span class="keyword">As</span> Range, i <span class="keyword">As</span> <span class="type">Integer</span>, j <span class="keyword">As</span> <span class="type">Integer</span>, k <span class="keyword">As</span> <span class="type">Integer</span>, l <span class="keyword">As</span> <span class="type">Integer</span>, m <span class="keyword">As</span> <span class="type">Integer</span></span><br><span class="line"><span class="keyword">Dim</span> str <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line">j = ActiveCell.<span class="keyword">End</span>(xlDown).Row + <span class="number">3</span></span><br><span class="line">m = ActiveCell.<span class="keyword">End</span>(xlUp).Row</span><br><span class="line"><span class="keyword">Set</span> r = ActiveCell.CurrentRegion</span><br><span class="line"><span class="keyword">Set</span> r1 = r.Find(<span class="number">1</span>, searchorder:=xlByRows, lookat:=xlWhole)</span><br><span class="line">str = r1.Address</span><br><span class="line">    <span class="keyword">Do</span></span><br><span class="line">        k = r1.Row</span><br><span class="line">        l = r1.Column</span><br><span class="line">        Range(<span class="string">&quot;b&quot;</span> &amp; j + i) = r1.Address</span><br><span class="line">        Range(<span class="string">&quot;c&quot;</span> &amp; j + i) = Cells(k, <span class="number">1</span>)</span><br><span class="line">        Range(<span class="string">&quot;d&quot;</span> &amp; j + i) = Cells(m, l)</span><br><span class="line">        i = i + <span class="number">1</span></span><br><span class="line">        <span class="keyword">Set</span> r1 = r.Find(<span class="number">1</span>, after:=r1, searchorder:=xlByRows, lookat:=xlWhole)</span><br><span class="line">    <span class="keyword">Loop</span> <span class="keyword">While</span> r1.Address &lt;&gt; str</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br><span class="line"><span class="comment">&#x27;查找实例2</span></span><br><span class="line"><span class="keyword">Sub</span> chazhao()</span><br><span class="line"><span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Integer</span>, js <span class="keyword">As</span> <span class="type">Integer</span>, zh <span class="keyword">As</span> <span class="type">Integer</span>, j <span class="keyword">As</span> <span class="type">Integer</span>, find_row <span class="keyword">As</span> <span class="type">Long</span></span><br><span class="line"><span class="keyword">Dim</span> t</span><br><span class="line"><span class="keyword">Dim</span> back_r <span class="keyword">As</span> Range, select_r <span class="keyword">As</span> Range, find_r <span class="keyword">As</span> Range <span class="comment">&#x27;back_r是返回单元格，selec_r是活动单元格，find_r是查找区域</span></span><br><span class="line"><span class="keyword">Dim</span> str <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line">t = Timer</span><br><span class="line"><span class="keyword">Set</span> select_r = ActiveCell</span><br><span class="line"><span class="keyword">Set</span> find_r = select_r.EntireColumn</span><br><span class="line">    <span class="keyword">For</span> i = <span class="number">1</span> <span class="keyword">To</span> <span class="number">36</span></span><br><span class="line">        js = <span class="number">0</span>    <span class="comment">&#x27;每次查找的次数归零</span></span><br><span class="line">        zh = Range(<span class="string">&quot;y65536&quot;</span>).<span class="keyword">End</span>(xlUp).Row + <span class="number">1</span> <span class="comment">&#x27;每次循环统计写入数据的最后一行行号并且加一作为写入开始行</span></span><br><span class="line">        <span class="keyword">Set</span> back_r = find_r.Find(Range(<span class="string">&quot;w&quot;</span> &amp; i), lookat:=xlWhole, searchorder:=xlRows)</span><br><span class="line">        <span class="keyword">If</span> <span class="built_in">Not</span> back_r <span class="built_in">Is</span> <span class="literal">Nothing</span> <span class="keyword">Then</span></span><br><span class="line">             str = back_r.Address</span><br><span class="line">            <span class="keyword">Do</span> <span class="keyword">While</span> <span class="built_in">Not</span> back_r <span class="built_in">Is</span> <span class="literal">Nothing</span></span><br><span class="line">                find_row = back_r.Row  <span class="comment">&#x27;记录返回单元格的行号</span></span><br><span class="line">                Range(Cells(zh + js, <span class="number">26</span>), Cells(zh + js, <span class="number">43</span>)).Value = Range(Cells(find_row, <span class="number">2</span>), Cells(find_row, <span class="number">19</span>)).Value <span class="comment">&#x27;写入数据</span></span><br><span class="line">                <span class="keyword">Set</span> back_r = find_r.Find(Range(<span class="string">&quot;w&quot;</span> &amp; i), after:=back_r)</span><br><span class="line">                 js = js + <span class="number">1</span> <span class="comment">&#x27;计数</span></span><br><span class="line">                <span class="keyword">If</span> back_r.Address = str <span class="keyword">Then</span> <span class="keyword">Exit</span> <span class="keyword">Do</span></span><br><span class="line">            <span class="keyword">Loop</span></span><br><span class="line">        <span class="keyword">Else</span>: <span class="keyword">GoTo</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">    j = zh + js - <span class="number">1</span></span><br><span class="line">    Range(<span class="string">&quot;y&quot;</span> &amp; zh &amp; <span class="string">&quot;:y&quot;</span> &amp; j) = Range(<span class="string">&quot;w&quot;</span> &amp; i).Value <span class="comment">&#x27;写入KO号列</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">    <span class="keyword">Next</span></span><br><span class="line"><span class="keyword">Set</span> select_r = <span class="literal">Nothing</span></span><br><span class="line"><span class="keyword">Set</span> find_r = <span class="literal">Nothing</span></span><br><span class="line">MsgBox <span class="string">&quot;处理完毕，用时&quot;</span> &amp; Timer - t &amp; <span class="string">&quot;s&quot;</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><div class="note success simple"><p>使用方法</p></div><ol><li>新建一个空白工作簿</li><li>点开发工具，点Visual Basic</li><li>在ThisWorkbook右键插入一个模块</li><li>将自定义函数代码复制进去</li><li>文件另存为.xlam(加载宏)文件，文件名自己随便取一个，比如“张三的函数库”。</li></ol><p>保存路径：C:\Users\你的电脑用户名\AppData\Roaming\Microsoft\AddIns</p><p><strong>自定义功能，同样操作，只不过想要把功能放到菜单栏需要去设置添加下。自定义函数，直接像输入内置函数使用即可，比如在单元格输入=tqzf,就会调用提取字符串函数</strong></p><div class="note success simple"><p>其它脚本</p></div><ul><li>VBA中<code>find</code>函数使用实例</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#示例1</span></span><br><span class="line">Sub 当前区域查找1返回找到单元格的地址及其行标和列标()</span><br><span class="line">Dim r As Range, r1 As Range, i As Integer, j As Integer, k As Integer, l As Integer, m As Integer</span><br><span class="line">Dim str As String</span><br><span class="line">j = ActiveCell.End(xlDown).Row + 3</span><br><span class="line">m = ActiveCell.End(xlUp).Row</span><br><span class="line">Set r = ActiveCell.CurrentRegion</span><br><span class="line">Set r1 = r.Find(1, searchorder:=xlByColumns, lookat:=xlWhole)</span><br><span class="line">str = r1.Address</span><br><span class="line">    Do</span><br><span class="line">        k = r1.Row</span><br><span class="line">        l = r1.Column</span><br><span class="line">        Range(<span class="string">&quot;c&quot;</span> &amp; j + i) = r1.Address</span><br><span class="line">        Range(<span class="string">&quot;d&quot;</span> &amp; j + i) = Cells(k, 1)</span><br><span class="line">        Range(<span class="string">&quot;e&quot;</span> &amp; j + i) = Cells(m, l)</span><br><span class="line">        i = i + 1</span><br><span class="line">        Set r1 = r.Find(1, after:=r1, searchorder:=xlColumns, lookat:=xlWhole)</span><br><span class="line">    Loop While r1.Address &lt;&gt; str</span><br><span class="line">End Sub</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例2</span></span><br><span class="line">Sub chazhao()</span><br><span class="line">Dim i As Integer, js As Integer, zh As Integer, j As Integer, find_row As Long</span><br><span class="line">Dim t</span><br><span class="line">Dim back_r As Range, select_r As Range, find_r As Range <span class="string">&#x27;back_r是返回单元格，selec_r是活动单元格，find_r是查找区域</span></span><br><span class="line"><span class="string">Dim str As String</span></span><br><span class="line"><span class="string">t = Timer</span></span><br><span class="line"><span class="string">Set select_r = ActiveCell</span></span><br><span class="line"><span class="string">Set find_r = select_r.EntireColumn</span></span><br><span class="line"><span class="string">    For i = 1 To 36</span></span><br><span class="line"><span class="string">        js = 0    &#x27;</span>每次查找的次数归零</span><br><span class="line">        zh = Range(<span class="string">&quot;y65536&quot;</span>).End(xlUp).Row + 1 <span class="string">&#x27;每次循环统计写入数据的最后一行行号并且加一作为写入开始行</span></span><br><span class="line"><span class="string">        Set back_r = find_r.Find(Range(&quot;w&quot; &amp; i), lookat:=xlWhole, searchorder:=xlRows)</span></span><br><span class="line"><span class="string">        If Not back_r Is Nothing Then</span></span><br><span class="line"><span class="string">             str = back_r.Address</span></span><br><span class="line"><span class="string">            Do While Not back_r Is Nothing</span></span><br><span class="line"><span class="string">                find_row = back_r.Row  &#x27;</span>记录返回单元格的行号</span><br><span class="line">                Range(Cells(zh + js, 26), Cells(zh + js, 43)).Value = Range(Cells(find_row, 2), Cells(find_row, 19)).Value <span class="string">&#x27;写入数据</span></span><br><span class="line"><span class="string">                Set back_r = find_r.Find(Range(&quot;w&quot; &amp; i), after:=back_r)</span></span><br><span class="line"><span class="string">                 js = js + 1 &#x27;</span>计数</span><br><span class="line">                If back_r.Address = str Then Exit Do</span><br><span class="line">            Loop</span><br><span class="line">        Else: GoTo 1</span><br><span class="line">        End If</span><br><span class="line">    j = zh + js - 1</span><br><span class="line">    Range(<span class="string">&quot;y&quot;</span> &amp; zh &amp; <span class="string">&quot;:y&quot;</span> &amp; j) = Range(<span class="string">&quot;w&quot;</span> &amp; i).Value <span class="string">&#x27;写入KO号列</span></span><br><span class="line"><span class="string">1</span></span><br><span class="line"><span class="string">    Next</span></span><br><span class="line"><span class="string">Set select_r = Nothing</span></span><br><span class="line"><span class="string">Set find_r = Nothing</span></span><br><span class="line"><span class="string">MsgBox &quot;处理完毕，用时&quot; &amp; Timer - t &amp; &quot;s&quot;</span></span><br><span class="line"><span class="string">End Sub</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VBA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>谷歌翻译退出中国，如何恢复chrome翻译功能</title>
      <link href="/posts/c778d9499d5e/"/>
      <url>/posts/c778d9499d5e/</url>
      
        <content type="html"><![CDATA[<div class="tip home"><p>前言：2022年10月1日，谷歌翻译彻底退出中国市场，这意味着谷歌翻译在国内无法使用，下面介绍三种方法解决这个问题。</p></div><div class="note default modern"><p>第一种方法  <strong>修改host文件</strong></p></div><ul><li><p>按win+r输入CMD，调出命令行</p></li><li><p>输入命令</p></li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nslookup google.cn</span><br></pre></td></tr></table></figure><p>会得到以下类似的信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">服务器：dns1.tpgi.com.au</span><br><span class="line">Address:203.12.160.35</span><br><span class="line">非权威应答：</span><br><span class="line">名称：google.cn</span><br><span class="line">Addresses:142.250.70.195 </span><br></pre></td></tr></table></figure><p>复制最后一行的ip地址，后面会用到</p><ul><li>找到host文件</li></ul><p>host文件地址：”C:\Windows\System32\drivers\etc\hosts”</p><ul><li>选中这个文件，右键用记事本打开，文件末尾输入一行代码，保存退出。</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">142.250.70.195 translate.googleapis.com</span><br></pre></td></tr></table></figure><p><strong>IP地址换成上面自己生成的</strong></p><div class="note default modern"><p>第二种方法  <strong>bat代码</strong></p></div><p>第一种方法的ip地址是固定，一旦被GFW墙了就不能用了，需要手动修改。第二种方法可以全自动处理选择可用的IP。</p><p>bat代码：</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">:: Copyright (c)<span class="number">2022</span> https://bookfere.com</span><br><span class="line">:: This is a batch script <span class="keyword">for</span> fixing Google Translate and making it available</span><br><span class="line">:: <span class="keyword">in</span> the Chinese mainland. <span class="keyword">If</span> you experience any problem, visit the page below:</span><br><span class="line">:: https://bookfere.com/post/<span class="number">1020</span>.html</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">setlocal</span> enabledelayedexpansion</span><br><span class="line"><span class="built_in">chcp</span> <span class="number">437</span> &gt;NULL</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> &quot;source_domain=google.cn&quot;</span><br><span class="line"><span class="built_in">set</span> &quot;target_domain=translate.googleapis.com&quot;</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> &quot;hosts_file=C:\Windows\System32\drivers\etc\hosts&quot;</span><br><span class="line"><span class="keyword">for</span> /f &quot;skip=<span class="number">4</span> tokens=<span class="number">2</span>&quot; <span class="variable">%%a</span> <span class="keyword">in</span> (&#x27;&quot;nslookup <span class="variable">%source_domain%</span> <span class="number">2</span>&gt;<span class="built_in">NUL</span>&quot;&#x27;) <span class="keyword">do</span> <span class="built_in">set</span> ip=<span class="variable">%%a</span></span><br><span class="line"><span class="built_in">set</span> &quot;old_rule=null&quot;</span><br><span class="line"><span class="built_in">set</span> &quot;new_rule=<span class="variable">%ip%</span> <span class="variable">%target_domain%</span>&quot;</span><br><span class="line"><span class="built_in">set</span> &quot;comment=# Fix Google Translate CN&quot;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> /f &quot;tokens=*&quot; <span class="variable">%%i</span> <span class="keyword">in</span> (&#x27;<span class="built_in">type</span> <span class="variable">%hosts_file%</span>&#x27;) <span class="keyword">do</span> (</span><br><span class="line">    <span class="built_in">set</span> &quot;line=<span class="variable">%%i</span>&quot;</span><br><span class="line">    :: Retrieve the rule <span class="keyword">If</span> the target domain exists.</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> &quot;<span class="variable">!line:%target_domain%=!</span>&quot;==&quot;<span class="variable">%%i</span>&quot; <span class="built_in">set</span> &quot;old_rule=<span class="variable">%%i</span>&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> &quot;<span class="variable">%old_rule%</span>&quot;==&quot;null&quot; (</span><br><span class="line">    <span class="built_in">echo</span> A rule has been added to the hosts file. </span><br><span class="line">    <span class="built_in">echo</span> [<span class="number">1</span>] Update [<span class="number">2</span>] Delete</span><br><span class="line">    <span class="built_in">set</span> /p action=&quot;Enter a number to choose an action: &quot;</span><br><span class="line">    <span class="keyword">if</span> &quot;<span class="variable">!action!</span>&quot;==&quot;<span class="number">1</span>&quot; (</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> &quot;<span class="variable">%old_rule%</span>&quot;==&quot;<span class="variable">%new_rule%</span>&quot; (</span><br><span class="line">            <span class="built_in">echo</span> Deleting the rule &quot;<span class="variable">%old_rule%</span>&quot;</span><br><span class="line">            <span class="built_in">echo</span> Adding the rule &quot;<span class="variable">%new_rule%</span>&quot;</span><br><span class="line">            <span class="built_in">set</span> &quot;new_line=false&quot;</span><br><span class="line">            <span class="keyword">for</span> /f &quot;tokens=*&quot; <span class="variable">%%i</span> <span class="keyword">in</span> (&#x27;<span class="built_in">type</span> <span class="variable">%hosts_file%</span> ^| <span class="built_in">find</span> /v /n &quot;&quot; ^&amp; <span class="built_in">break</span> ^&gt; <span class="variable">%hosts_file%</span>&#x27;) <span class="keyword">do</span> (</span><br><span class="line">                <span class="built_in">set</span> &quot;rule=<span class="variable">%%i</span>&quot;</span><br><span class="line">                <span class="built_in">set</span> &quot;rule=<span class="variable">!rule:*]=!</span>&quot;</span><br><span class="line">                <span class="keyword">if</span> &quot;<span class="variable">%old_rule%</span>&quot;==&quot;<span class="variable">!rule!</span>&quot; <span class="built_in">set</span> &quot;rule=<span class="variable">%new_rule%</span>&quot;</span><br><span class="line">                <span class="keyword">if</span> &quot;<span class="variable">!new_line!</span>&quot;==&quot;true&quot; &gt;&gt;<span class="variable">%hosts_file%</span> <span class="built_in">echo</span>.</span><br><span class="line">                &gt;&gt;<span class="variable">%hosts_file%</span> &lt;<span class="built_in">NUL</span> <span class="built_in">set</span> /p=&quot;<span class="variable">!rule!</span>&quot;</span><br><span class="line">                <span class="built_in">set</span> &quot;new_line=true&quot;</span><br><span class="line">            )</span><br><span class="line">        ) <span class="keyword">else</span> (</span><br><span class="line">            <span class="built_in">echo</span> The rule already exists, nothing to <span class="keyword">do</span>.</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">if</span> &quot;<span class="variable">!action!</span>&quot;==&quot;<span class="number">2</span>&quot; (</span><br><span class="line">        <span class="built_in">echo</span> Deleting the rule &quot;<span class="variable">%old_rule%</span>&quot;</span><br><span class="line">        <span class="built_in">set</span> &quot;new_line=false&quot;</span><br><span class="line">        <span class="keyword">for</span> /f &quot;tokens=*&quot; <span class="variable">%%i</span> <span class="keyword">in</span> (&#x27;</span><br><span class="line">            <span class="built_in">type</span> &quot;<span class="variable">%hosts_file%</span>&quot; ^| <span class="built_in">findstr</span> /v /c:&quot;<span class="variable">%comment%</span>&quot; ^| <span class="built_in">findstr</span> /v &quot;<span class="variable">%target_domain%</span>&quot; ^| <span class="built_in">find</span> /v /n &quot;&quot; ^&amp; <span class="built_in">break</span> ^&gt; &quot;<span class="variable">%hosts_file%</span>&quot;</span><br><span class="line">        &#x27;) <span class="keyword">do</span> (</span><br><span class="line">            <span class="built_in">set</span> &quot;line=<span class="variable">%%i</span>&quot;</span><br><span class="line">            <span class="built_in">set</span> &quot;line=<span class="variable">!line:*]=!</span>&quot;</span><br><span class="line">            <span class="keyword">if</span> &quot;<span class="variable">!new_line!</span>&quot;==&quot;true&quot; &gt;&gt;<span class="variable">%hosts_file%</span> <span class="built_in">echo</span>.</span><br><span class="line">            &gt;&gt;<span class="variable">%hosts_file%</span> &lt;<span class="built_in">NUL</span> <span class="built_in">set</span> /p=&quot;<span class="variable">!line!</span>&quot;</span><br><span class="line">            <span class="built_in">set</span> &quot;new_line=true&quot;</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">) <span class="keyword">else</span> (</span><br><span class="line">    <span class="built_in">echo</span> Adding the rule &quot;<span class="variable">%new_rule%</span>&quot;</span><br><span class="line">    <span class="built_in">echo</span>.&gt;&gt;<span class="variable">%hosts_file%</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">%comment%</span>&gt;&gt;<span class="variable">%hosts_file%</span></span><br><span class="line">    &lt;<span class="built_in">NUL</span> <span class="built_in">set</span> /p=&quot;<span class="variable">%new_rule%</span>&quot;&gt;&gt;<span class="variable">%hosts_file%</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> Done.</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure><p>代码源地址： <a href="https://www.freedidi.com/go.php?url=aHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vYm9va2ZlcmUvYzliYWYxZDAzZDZmNDg4YzcwMzNlZmZiZDU0MWU2Mjg=">GitHub Gist</a>,把代码保存为bat文件，最后用管理员身份运行即可。</p><div class="note default modern"><p>第三种方法  <strong>科学上网或者第三方插件</strong></p></div><p>第三方翻译插件：deepl翻译，有道词典划词翻译插件</p><p><a href="https://www.freedidi.com/6523.html">原创地址</a></p>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> google </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python-idle如何设置清屏功能</title>
      <link href="/posts/70ef13fd1f07/"/>
      <url>/posts/70ef13fd1f07/</url>
      
        <content type="html"><![CDATA[<div class="tip info"><p><strong>前言</strong><br>  在使用 Python IDLE 时，我时常想有没有像命令提示符环境中的 cls 那样的清屏命令，一下子删除交互模式中所有已执行的命令，毕竟每次都关掉再重新打开 IDLE 有点麻烦，于是在网上搜了一下教程，学会了自定义 IDLE 清屏快捷键，觉得很不错，就来分享一下。</p></div><p><a href="https://blog.csdn.net/piupiu78/article/details/119271295">点击查看原创</a></p><div class="tip success"><p>步骤</p></div><ol><li>新建 ClearWindow.py 文件，粘贴代码到文件</li><li>将该文件内容保存后放入如下文件夹：Python 安装路径中的 D:\Python\Python310\Lib\idlelib 里面(这是我的安装路径）。</li><li>在该路径中找到 config-extensions.def 文件（idle扩展的配置文件）；以记事本的方式打开它，在末尾增加代码</li></ol><div class="tip cogs"><p>ClearWindow.py中的代码</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Clear Window Extension</span></span><br><span class="line"><span class="string">Version: 0.2</span></span><br><span class="line"><span class="string">provides &quot;Clear Shell Window&quot; under &quot;Options&quot;</span></span><br><span class="line"><span class="string">with ability to undo.</span></span><br><span class="line"><span class="string">Add these lines to config-extensions.def</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[ClearWindow]</span></span><br><span class="line"><span class="string">enable=1</span></span><br><span class="line"><span class="string">enable_editor=0</span></span><br><span class="line"><span class="string">enable_shell=1</span></span><br><span class="line"><span class="string">[ClearWindow_cfgBindings]</span></span><br><span class="line"><span class="string">clear-window=&lt;Control-Key-l&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClearWindow</span>:</span><br><span class="line"></span><br><span class="line">    menudefs = [</span><br><span class="line">        (<span class="string">&#x27;options&#x27;</span>, [<span class="literal">None</span>,</span><br><span class="line">               (<span class="string">&#x27;Clear Shell Window&#x27;</span>, <span class="string">&#x27;&lt;&lt;clear-window&gt;&gt;&#x27;</span>),</span><br><span class="line">       ]),]</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, editwin</span>):</span><br><span class="line">        self.editwin = editwin</span><br><span class="line">        self.text = self.editwin.text</span><br><span class="line">        self.text.bind(<span class="string">&quot;&lt;&lt;clear-window&gt;&gt;&quot;</span>, self.clear_window2)</span><br><span class="line"></span><br><span class="line">        self.text.bind(<span class="string">&quot;&lt;&lt;undo&gt;&gt;&quot;</span>, self.undo_event)  <span class="comment"># add=&quot;+&quot; doesn&#x27;t work</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">undo_event</span>(<span class="params">self, event</span>):</span><br><span class="line">        text = self.text</span><br><span class="line">        </span><br><span class="line">        text.mark_set(<span class="string">&quot;iomark2&quot;</span>, <span class="string">&quot;iomark&quot;</span>)</span><br><span class="line">        text.mark_set(<span class="string">&quot;insert2&quot;</span>, <span class="string">&quot;insert&quot;</span>)</span><br><span class="line">        self.editwin.undo.undo_event(event)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># fix iomark and insert</span></span><br><span class="line">        text.mark_set(<span class="string">&quot;iomark&quot;</span>, <span class="string">&quot;iomark2&quot;</span>)</span><br><span class="line">        text.mark_set(<span class="string">&quot;insert&quot;</span>, <span class="string">&quot;insert2&quot;</span>)</span><br><span class="line">        text.mark_unset(<span class="string">&quot;iomark2&quot;</span>)</span><br><span class="line">        text.mark_unset(<span class="string">&quot;insert2&quot;</span>)</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clear_window2</span>(<span class="params">self, event</span>): <span class="comment"># Alternative method</span></span><br><span class="line">        <span class="comment"># work around the ModifiedUndoDelegator</span></span><br><span class="line">        text = self.text</span><br><span class="line">        text.undo_block_start()</span><br><span class="line">        text.mark_set(<span class="string">&quot;iomark2&quot;</span>, <span class="string">&quot;iomark&quot;</span>)</span><br><span class="line">        text.mark_set(<span class="string">&quot;iomark&quot;</span>, <span class="number">1.0</span>)</span><br><span class="line">        text.delete(<span class="number">1.0</span>, <span class="string">&quot;iomark2 linestart&quot;</span>)</span><br><span class="line">        text.mark_set(<span class="string">&quot;iomark&quot;</span>, <span class="string">&quot;iomark2&quot;</span>)</span><br><span class="line">        text.mark_unset(<span class="string">&quot;iomark2&quot;</span>)</span><br><span class="line">        text.undo_block_stop()</span><br><span class="line">        <span class="keyword">if</span> self.text.compare(<span class="string">&#x27;insert&#x27;</span>, <span class="string">&#x27;&lt;&#x27;</span>, <span class="string">&#x27;iomark&#x27;</span>):</span><br><span class="line">            self.text.mark_set(<span class="string">&#x27;insert&#x27;</span>, <span class="string">&#x27;end-1c&#x27;</span>)</span><br><span class="line">        self.editwin.set_line_and_column()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clear_window</span>(<span class="params">self, event</span>):</span><br><span class="line">        <span class="comment"># remove undo delegator</span></span><br><span class="line">        undo = self.editwin.undo</span><br><span class="line">        self.editwin.per.removefilter(undo)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># clear the window, but preserve current command</span></span><br><span class="line">        self.text.delete(<span class="number">1.0</span>, <span class="string">&quot;iomark linestart&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> self.text.compare(<span class="string">&#x27;insert&#x27;</span>, <span class="string">&#x27;&lt;&#x27;</span>, <span class="string">&#x27;iomark&#x27;</span>):</span><br><span class="line">            self.text.mark_set(<span class="string">&#x27;insert&#x27;</span>, <span class="string">&#x27;end-1c&#x27;</span>)</span><br><span class="line">        self.editwin.set_line_and_column()</span><br><span class="line"> </span><br><span class="line">        <span class="comment"># restore undo delegator</span></span><br><span class="line">        self.editwin.per.insertfilter(undo)</span><br><span class="line">        </span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="tip cogs"><p>config-extensions.def文件末尾新增的代码</p></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ClearWindow]</span><br><span class="line">enable=1</span><br><span class="line">enable_editor=0</span><br><span class="line">enable_shell=1</span><br><span class="line">[ClearWindow_cfgBindings]</span><br><span class="line">clear-window=&lt;Control-Key-w&gt;</span><br></pre></td></tr></table></figure><p>到这里就可以保存关闭了，再重新打来 IDLE 窗口就可以发现Options下多了个选项即为清屏快捷键。</p><p>【注】我这里设置的快捷键是Ctrl+W，这个快捷键是可以任意修改的，修改的方法就是在上面配置代码的最后一行“ clear-window=”，将其中的 “w” 改为其他字符就行，但必须是小写字母。<strong>使用快捷键的时候，注意键盘要在英文小写的状态下</strong></p>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VPS常用脚本</title>
      <link href="/posts/48f8079185ff/"/>
      <url>/posts/48f8079185ff/</url>
      
        <content type="html"><![CDATA[<div class="note success simple"><p>玩vps的过程中，为了省事，经常会用到一些脚本，这边整理的就是常用的一些脚本。持续更新！</p></div><h1 id="流媒体测试脚本"><a href="#流媒体测试脚本" class="headerlink" title="流媒体测试脚本"></a>流媒体测试脚本</h1><p><code>流媒体1</code></p><p>github项目地址 <a href="https://github.com/lmc999/RegionRestrictionCheck">https://github.com/lmc999/RegionRestrictionCheck </a></p><p>脚本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://git.io/JRw8R)</span><br></pre></td></tr></table></figure><p>或者这个：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s check.unlock.media)</span><br></pre></td></tr></table></figure><p>运行的时候会让你选择需要测流媒体的地区，其实选哪里都能测奈飞和迪士尼等等，选不同的地区会测一些该地区独有的流媒体。支持ipv4+ipv6测试。</p><p><code>tiktok解锁测试脚本：</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsL -o ./t.sh.x https://github.com/lmc999/TikTokCheck/raw/main/t.sh.x &amp;&amp; <span class="built_in">chmod</span> +x ./t.sh.x &amp;&amp; ./t.sh.x &amp;&amp; <span class="built_in">rm</span> ./t.sh.x</span><br></pre></td></tr></table></figure><p><code>另一个流媒体测试脚本</code></p><p>这个脚本作者不经常更新，不如上一个脚本更新比较快，这个脚本不会让你选择地区，它会把所有地区流媒体都测一遍，有的时候上面那个脚本显示奈飞解锁，这个脚本会显示奈飞只有自制剧，这个需要自己测试了。也是支持ipv4+ipv6测试。</p><p>github项目地址：<a href="https://github.com/LovelyHaochi/StreamUnlockTest">https://github.com/LovelyHaochi/StreamUnlockTest</a></p><h1 id="解锁奈飞"><a href="#解锁奈飞" class="headerlink" title="解锁奈飞"></a>解锁奈飞</h1><ul><li>判断vps是否解锁奈飞，<a href="https://github.com/sjlleo/netflix-verify">项目地址</a></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O nf https://github.com/sjlleo/netflix-verify/releases/download/v3.1.0/nf_linux_amd64 &amp;&amp; <span class="built_in">chmod</span> +x nf &amp;&amp; ./nf</span><br></pre></td></tr></table></figure><ul><li>Warp解锁奈飞，<a href="https://github.com/fscarmen/warp">项目地址</a></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N https://raw.githubusercontent.com/fscarmen/warp/main/menu.sh &amp;&amp; bash menu.sh [option] [lisence]</span><br></pre></td></tr></table></figure><ul><li>奈飞解锁方式大全（源自不良林）</li></ul><p>博客地址：<a href="https://bulianglin.com/archives/netflix-unlock.html">链接</a></p><h1 id="启用BBR"><a href="#启用BBR" class="headerlink" title="启用BBR"></a>启用BBR</h1><p>linux内核&gt;4.9可以一键启用，小于4.9可以选则升级内核，或者不升级内核使用bbr脚本来启用</p><h2 id="linux版本-gt-4-9"><a href="#linux版本-gt-4-9" class="headerlink" title="linux版本&gt;4.9"></a>linux版本&gt;4.9</h2><ul><li>查询当前使用的TCP拥塞控制算法</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.ipv4.tcp_congestion_control</span><br></pre></td></tr></table></figure><ul><li>查询当前Liux版本</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uname</span> -r</span><br></pre></td></tr></table></figure><ul><li>一键启用BBR TCP拥塞控制算法（linux版本&gt;4.9)，逐条复制，最后一条命令用来检测当前的tcp拥塞算法</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.core.default_qdisc=fq&quot;</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;net.ipv4.tcp_congestion_control=bbr&quot;</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure><p><img src="https://eeimg.yilan.uk/i/2023/05/19/x2xnpw.webp" alt="启用成功"></p><h2 id="更新-debian-系统内核版本"><a href="#更新-debian-系统内核版本" class="headerlink" title="更新 debian 系统内核版本"></a>更新 debian 系统内核版本</h2><p><a href="https://xujinzh.github.io/2022/02/14/update-debian-kernel/">https://xujinzh.github.io/2022/02/14/update-debian-kernel/</a></p><h3 id="添加源"><a href="#添加源" class="headerlink" title="添加源"></a>添加源</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;deb http://deb.debian.org/debian buster-backports main&quot;</span> &gt; /etc/apt/sources.list.d/backports.list</span><br></pre></td></tr></table></figure><h3 id="安装最新内核和头文件"><a href="#安装最新内核和头文件" class="headerlink" title="安装最新内核和头文件"></a>安装最新内核和头文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt -t buster-backports install linux-image-amd64</span><br><span class="line">apt -t buster-backports install linux-headers-amd64</span><br><span class="line">update-grub</span><br></pre></td></tr></table></figure><p>重新启动服务器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutdown -r now</span><br></pre></td></tr></table></figure><h3 id="卸载旧内核"><a href="#卸载旧内核" class="headerlink" title="卸载旧内核"></a>卸载旧内核</h3><p>请确保使用中的内核不要卸载</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dpkg --list | grep linux-image</span><br><span class="line"><span class="comment"># 卸载指定的旧内核</span></span><br><span class="line">apt purge linux-image-*.**.*-**-cloud-amd64</span><br></pre></td></tr></table></figure><p>命令 <code>dpkg --list | grep linux-image</code>用于列出基于Debian的系统上已安装的Linux内核镜像。下面是对该命令各部分的解释：</p><p><code>dpkg</code>： 它是一个命令行软件包管理工具，在基于Debian的系统中使用，包括Ubuntu。<br><code>--list</code>： 这个选项用来列出已安装的软件包。<br><code>|</code>: 它是一个管道符号，将前一个命令的输出重定向到下一个命令。<br><code>grep</code>： 这是一个用于模式匹配和搜索文本的命令。<br><code>linux-image</code>： 这是我们在已安装软件包的列表中寻找的搜索模式或关键词。<br>当你运行 <code>dpkg --list | grep linux-image</code>命令时，它将显示一个包含<code>linux-image</code>短语的已安装软件包的过滤列表。在这种情况下，它可能会显示你系统上已安装的Linux内核镜像包。这些软件包负责提供操作系统的核心功能。</p><h3 id="删除旧头文件"><a href="#删除旧头文件" class="headerlink" title="删除旧头文件"></a>删除旧头文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dpkg --list | grep linux-headers</span><br><span class="line">apt purge linux-headers-*.**.*-**-cloud-amd64</span><br></pre></td></tr></table></figure><p>命令 <code>dpkg --list | grep linux-headers</code>用于列出基于Debian的系统上已安装的Linux头文件包。下面是对该命令各部分的解释：</p><p><code>dpkg</code>： 它是一个命令行软件包管理工具，在基于Debian的系统中使用，包括Ubuntu。<br><code>--list</code>： 这个选项用来列出已安装的软件包。<br><code>|</code>: 它是一个管道符号，将前一个命令的输出重定向到下一个命令。<br><code>grep</code>： 这是一个用于模式匹配和搜索文本的命令。<br><code>linux-headers</code>： 这是我们在已安装软件包的列表中寻找的搜索模式或关键词。<br>当你运行<code>dpkg --list | grep linux-headers</code>命令时，它将显示一个包含<code>inux-headers</code>短语的已安装软件包的过滤列表。Linux头文件包包括构建外部内核模块或编译与内核交互的软件所需的必要头文件和元数据。这些头文件包通常与你系统上安装的Linux内核版本相匹配。</p><p><strong>如果使用中的内核缺失头文件，可以使用如下命令安装</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install linux-headers-$(<span class="built_in">uname</span> -r)</span><br></pre></td></tr></table></figure><p>命令 <code>apt install linux-headers-$(uname -r)</code>是用来安装Linux内核头文件的，它与基于Debian的系统上当前运行的内核版本相对应。下面是对该命令各部分的解释：</p><p><code>apt</code>： 它是一个命令行软件包管理工具，在基于Debian的系统中使用，包括Ubuntu。<br><code>install</code>： 这是用来安装软件包的命令。<br><code>linux-headers-$（uname -r</code>： 这是一个由 <code>linux-headers</code>组成的软件包名称，后面是<code>uname -r</code>命令的输出。<br><code>uname -r</code>命令返回当前运行的内核版本。通过在软件包名称中使用<code>$(uname -r)</code>，该命令动态地将当前的内核版本插入软件包名称中。</p><p>当你运行 <code>apt install linux-headers-$(uname -r)</code>命令时，它将安装符合你系统上当前运行的内核版本的Linux内核头文件。这些头文件对于构建和编译外部内核模块或与内核交互的软件是必要的。安装匹配的内核头文件可以确保与你系统上的内核版本兼容。</p><h3 id="保持内核最新"><a href="#保持内核最新" class="headerlink" title="保持内核最新"></a>保持内核最新</h3><p>把下面命令添加到 <code>/etc/apt/preferences.d/pinning.pref</code> 文件中（如果没有，可创建）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Package: linux-image-amd64 linux-headers-amd64</span><br><span class="line">Pin: release n=buster-backports</span><br><span class="line">Pin-Priority: 900</span><br></pre></td></tr></table></figure><h2 id="使用BBR脚本"><a href="#使用BBR脚本" class="headerlink" title="使用BBR脚本"></a>使用BBR脚本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate <span class="string">&quot;https://github.000060000.xyz/tcpx.sh&quot;</span> &amp;&amp; <span class="built_in">chmod</span> +x tcpx.sh &amp;&amp; ./tcpx.sh</span><br></pre></td></tr></table></figure><p>这里再放一个bbr优化脚本，聊胜于无，对于中转机或者是配置比较差的机器可能会有点用</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -Ls https://github.com/lanziii/bbr-/releases/download/123/tools.sh)</span><br></pre></td></tr></table></figure><p>查看BBR开启状态</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sysctl -p</span><br></pre></td></tr></table></figure><h1 id="VPS基础性能测试脚本"><a href="#VPS基础性能测试脚本" class="headerlink" title="VPS基础性能测试脚本"></a>VPS基础性能测试脚本</h1><h2 id="检测vps硬件信息，如cpu，硬盘等"><a href="#检测vps硬件信息，如cpu，硬盘等" class="headerlink" title="检测vps硬件信息，如cpu，硬盘等"></a>检测vps硬件信息，如cpu，硬盘等</h2><ul><li><code>superbench</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- --no-check-certificate https://raw.githubusercontent.com/oooldking/script/master/superbench.sh | bash</span><br></pre></td></tr></table></figure><p>这个脚本还会输入结果页面，可以直接分享网址别人，不过最近这个页面托管商需要登陆才能查看，不如直接复制了。以及speed测速也有分享网页的链接。具体看下面的结果。</p><p><img src="https://eeimg.yilan.uk/i/2023/05/19/w048bf.webp" alt="测试结果"></p><ul><li><code>yabs</code></li></ul><p>这个脚本和上面那个superbench比，IO测试比较完全，还能测试cpu分数。但是没有网速测试，所以我通常这两个脚本都使用。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL yabs.sh | bash -s -- -i</span><br></pre></td></tr></table></figure><p><img src="https://eeimg.yilan.uk/i/2023/05/19/w77n7a.webp" alt="测试结果"></p><p><img src="https://eeimg.yilan.uk/i/2023/05/19/wd6r6r.webp" alt="geekbench6测试结果"></p><h2 id="回程路由测试脚本"><a href="#回程路由测试脚本" class="headerlink" title="回程路由测试脚本"></a>回程路由测试脚本</h2><p>这里放的都是回程路由测试脚本，去程的自己ping或者去ipip.net自己测，工具很多，回程的脚本测试我找到两个比较好用的脚本。</p><ul><li><code>回程路由测试脚本简洁版</code></li></ul><p>说个好玩的，有人做了个这个脚本的魔改版本，1秒钟输出结果，全部显示是gia回程，有点意思。下面这个脚本是原版，测试结果不如详细回程路由里面自己判断准确，有些gia回程这个脚本会判断成cn2 gt。这是因为有些地区的gia回程难免出现202.97，这个脚本就会把gia线路判断成cn2 gt，不过总体来将这个脚本还是比较准确的。提示一下，电信回程没有优化的普通线路是163，联通普通回程时4837，移动普通回程是cmi。</p><p>脚本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://raw.githubusercontent.com/zhucaidan/mtr_trace/main/mtr_trace.sh|bash</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -q route.f2k.pub -O route &amp;&amp; bash route</span><br></pre></td></tr></table></figure><p><img src="https://eeimg.yilan.uk/i/2023/05/19/x9hdio.webp" alt="测试结果"></p><ul><li><code>回程测试脚本详细版</code></li></ul><p>脚本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- git.io/besttrace | bash</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/nanqinlang-script/testrace/master/testrace.sh</span><br><span class="line">bash testrace.sh</span><br></pre></td></tr></table></figure><h2 id="三网测速脚本"><a href="#三网测速脚本" class="headerlink" title="三网测速脚本"></a>三网测速脚本</h2><p>其实最上面的那个superbenth脚本也能测速度，但是这个脚本是superbenth脚本的修复版，能测的节点比较多，但是只有国内节点测速。</p><p>脚本：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -Lso- https://git.io/superspeed_uxh)</span><br></pre></td></tr></table></figure><p>其实测速最好的还是在vps上面自建一个speedtest测速，这个脚本比较复杂，有docker版本和普通脚本，普通的脚本容易报错，还是建议用docker自建一个测速</p><p>这里可以看这两篇文章：<a href="https://www.duangvps.com/archives/777">https://www.duangvps.com/archives/777</a></p><p>以及：<a href="https://www.duangvps.com/archives/491">https://www.duangvps.com/archives/491</a></p><p><code>常用测试配置和到国内三网速度：</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- git.io/superbench.sh | bash</span><br></pre></td></tr></table></figure><p><code>国内外各区域速度测速：</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench.sh &amp;&amp; bash ZBench.sh</span><br></pre></td></tr></table></figure><h2 id="融合怪脚本"><a href="#融合怪脚本" class="headerlink" title="融合怪脚本"></a>融合怪脚本</h2><p>这个脚本非常不错，虽然是个融合脚本但是有很多别的脚本测不了的东西，有网络信息，IP信息，解锁信息，常用端口开放信息，硬件信息等。关于IP质量问题除了这个以外，IP信息还可以去这里查询，结果非常详细：<a href="https://ipinfo.io/">https://ipinfo.io/</a></p><p>github项目地址：<a href="https://github.com/spiritLHLS/ecs">https://github.com/spiritLHLS/ecs</a></p><p>脚本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget -qO- --no-check-certificate https://gitlab.com/spiritysdx/za/-/raw/main/ecs.sh)</span><br></pre></td></tr></table></figure><p>或者是这个：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget -qO- --no-check-certificate https://github.com/spiritLHLS/ecs/raw/main/ecs.sh)</span><br></pre></td></tr></table></figure><p><img src="https://eeimg.yilan.uk/i/2023/05/19/x5saqe.webp" alt="结果"></p><h2 id="unixbench性能测试"><a href="#unixbench性能测试" class="headerlink" title="unixbench性能测试"></a>unixbench性能测试</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https://github.com/teddysun/across/raw/master/unixbench.sh &amp;&amp; <span class="built_in">chmod</span> +x unixbench.sh &amp;&amp; ./unixbench.sh</span><br></pre></td></tr></table></figure><p>然后等待程序进行测试即可,这个过程可能比较漫长,请耐心等待，最后跑完将会有一个分数在底部出现，通常情况下1000分以上的VPS是性能较好的。</p><p><a href="https://blog.51cto.com/u_15060467/3822694">https://blog.51cto.com/u_15060467/3822694</a></p><h1 id="节点搭建"><a href="#节点搭建" class="headerlink" title="节点搭建"></a>节点搭建</h1><ul><li>X-UI面板搭建（教学源自<a href="https://v2rayssr.com/teach-vless.html">波仔分享</a>）</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt update -y          <span class="comment"># Debian/Ubuntu 命令</span></span><br><span class="line">apt install -y curl socat    <span class="comment">#Debian/Ubuntu 命令</span></span><br><span class="line">bash &lt;(curl -Ls https://raw.githubusercontent.com/vaxilu/x-ui/master/install.sh) <span class="comment">#X-ui面板安装</span></span><br></pre></td></tr></table></figure><p>X-ui面板项目源地址：<a href="https://github.com/vaxilu/x-ui">链接</a></p><ul><li>节点搭建系列教程（源自不良林）</li></ul><p>博客地址：<a href="https://bulianglin.com/archives/guide.html">链接</a></p><h1 id="宝塔面板"><a href="#宝塔面板" class="headerlink" title="宝塔面板"></a>宝塔面板</h1><ul><li>Centos</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSO https://raw.githubusercontent.com/zhucaidan/btpanel-v7.7.0/main/install/install_panel.sh &amp;&amp; bash install_panel.sh</span><br></pre></td></tr></table></figure><ul><li>屏蔽宝塔面板强制绑定手机号</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&quot;s|bind_user == &#x27;True&#x27;|bind_user == &#x27;XXXX&#x27;|&quot;</span> /www/server/panel/BTPanel/static/js/index.js</span><br></pre></td></tr></table></figure><ul><li>直接删除宝塔强制绑定手机JS文件</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -f /www/server/panel/data/bind.pl</span><br></pre></td></tr></table></figure><ul><li>宝塔面板登录地址及账号查看命令</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bt default</span><br></pre></td></tr></table></figure><div class="note primary modern"><p>参考文章：</p><p><a href="https://iii80.com/?action=show&amp;id=1056">水月日记：测VPS的常用脚本</a></p><p><a href="https://www.aloneray.com/782.html">VPS服务器的常用测试方法</a></p><p><a href="https://www.aloneray.com/1181.html">各种一键bench的测试命令整合</a></p></div>]]></content>
      
      
      <categories>
          
          <category> VPS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> 脚本 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>科学上网不完全指南</title>
      <link href="/posts/d2a34f779085/"/>
      <url>/posts/d2a34f779085/</url>
      
        <content type="html"><![CDATA[<details class="folding-tag" cyan close><summary> 写在前面，可以不看 </summary>              <div class='content'>              <p>第一次接触外网大概是在2021年的四月份这样，当时学习一款文献计量学工具——Citespace，使用这款软件的过程中又接触了Google Earth(用它结合citesapce可做地理可视化分析；版权原因，现在的citespace取消了这个功能)。Google Earth下载后一直无法使用，于是求助了某鱼，使用了他们提供的软件后，软件基本能正常使用。没错，只是提供了国内的免费的一个VPN工具，速度很慢，不过也算是打开大门了·······后面见识了很多，学到了很多东西，一定程度上提升了自己的认知水平。比如简单使用github，搭建了自己的博客，了解到各种好用软件和网站等等。</p>              </div>            </details><h2 id="什么是GFW"><a href="#什么是GFW" class="headerlink" title="什么是GFW"></a>什么是GFW</h2><ol><li><span class='p red'>墙是什么</span>；墙是长城防火墙，英文是GFW，全称：Great Wall Fire。</li><li><span class='p red'>为什么有墙这个东西</span>；2008年之前，我国的网络审查制度还不是很健全，现在无法访问的一些网站和服务，在当时都是可以正常使用的。后来因为一些政治原因，我国建立起审查制度，部署了GFW，来阻挡大陆互联网用户访问某些境外网站和服务。建立防火墙的导火索：2008年奥运会前夕，恐怖组织在Facebook上策划协调并且实施了对我国西部地区的一个恐怖袭击。中国政府当时就要求Facebook配合审查，以防再次出现此类事件。但是Facebook以尊重和保护用户隐私为由来拒绝了，与此同时Google也以同样的理由拒绝了中国政府的要求。所以，中国政府就不让这些不愿意配合的外国公司在中国开展业务。于是Facebook,google的一系列业务，包括搜索引擎、you to be、Gmail等等这些服务都被封了。</li></ol><div class="tip bell"><p>审查制度的利弊。总体而言，GFW的存在是利大于弊，对与错要相对的来看。毕竟中国大陆的高速发展带来的巨大福利，使得大陆人民切切实实的得到了更好的生活。这是离不开国家的和谐和稳定的基础。如果没有审查制度，很多人可能真的会被洗脑。在中国十几年前，我国国民素质还没达到今天这个高度的时候，建立审查制度，从大局观上考虑是合理的，因为很多人是没有独立判断事物的能力。人云亦云，如果天天接触到反动的信息，会给国家的治理带来很多不必要的麻烦。其实，早期翻墙出去的那批人都是在骂中国政府，还有宣传邪教的。最后，相信随着中国在国际社会的上的影响力越来越大，同时国民素质也越来越高，墙的拆除是迟早的事。</p></div><h2 id="翻墙违法吗"><a href="#翻墙违法吗" class="headerlink" title="翻墙违法吗"></a>翻墙违法吗</h2><div class="tip warning"><p>从严格的法律角度上来说，翻墙访问被禁止的网页或者服务是涉嫌违法的。违法行为如何处罚，要根据具体的情节和危害程度来定。一般而言，对于绝大多数翻墙用户来说，如果只是浏览信息，并没有散布行为，一般不予处罚。如果对于被禁止的网页和服务进行散布和传播，理论上构成犯罪。然而，如果是提供翻墙服务，那么一定是违法并且犯罪，一定要承担法律后果。简单说，翻墙查看国外信息，低调点，问题不大，但是请不要触碰危害国家利益的底线，拒绝讨论和散布有关邪教和敏感的政治话题。教授他人翻墙的行为涉嫌犯罪。GFW的目的是过滤国外反动信息，维护国家统一稳定。翻墙虽然违法，但是多数情况下不予处罚，可是如果散布有损国家利益的言论或者信息，教授或者以提供翻墙服务作为目的来销售翻墙的工具和服务，那么是违法行为，要负法律责任。</p></div><p>中国政府对于翻墙的的态度相比多年以前已经有了很大的好转，这种微妙变化的原因主要有以下几个方面：</p><ul><li>国民对国家的认可和拥护程度越来越高。</li><li>中国在国际上的地位从几十年前的追赶，到现在逐渐变成了主导和引领，所以对待互联网的态度逐渐放宽松了些。</li><li>逐渐掌握翻墙技能的人口数量已经达到了执法成本远远高于现实能承受的范围。而且，这当中普遍都是有着正当需求，尽管走在法律的灰色地带，但是严格的法律理论总是要结合实际情况去分析。</li></ul><div class="tip success"><p>综合以上三个因素，作为不会造成实际危害的普通需求的翻墙用户，不用太过于纠结从法律上来讲翻墙违法的事实是否导致受到处罚。</p></div><p>更多的需要考虑从技术角度上如何安全的突破GFW的封锁就行了，尽管政府对翻墙有了暧昧的转变，但是还是在不断加高和优化GFW的探测和封锁机制。    这传递出，虽然无害的翻墙不会管，但是还是要求你想办法去突破我给你设置的坎。其实从某种角度上讲，这样做的意义在于筛选掉了很多受教育程度和综合素质比较底层的民众。这部分人，往往也没什么判断能力，容易被反动势力带节奏和忽悠。能翻墙出去的人往往相对素质较高，受教育程度也普遍高于平均水平。</p><h2 id="GFW的工作原理"><a href="#GFW的工作原理" class="headerlink" title="GFW的工作原理"></a>GFW的工作原理</h2> <div class="note default modern"><p>没有GFW</p></div><p>首先从本地计算机发出一个数据包请求，经过本地网络，接入骨干网，经由<span class="bubble-content">DNS </span><span class="bubble-notation"><span class="bubble-item" style="background-color:#71a4e3;"> Domain Name Service即域名解析 </span></span>，就是把你输入的这一串英文字符到底连接到什么服务器，把这个服务器的真实ip地址解析出来。比如输入google.com，DNS就会把这个地址解析成真实的服务器地址，经过解析之后到达国际出口，最后接入到对应的服务器，服务器对你的数据进行处理，然后返回一个数据包，再发送一个数据包到你的电脑。</p> <div class="note default modern"><p>有GFW</p></div><p>同样的，本地计算机发出一个数据包给google，经过本地网络，接入骨干网，经由DNS解析，这时候问题来了。GFW封锁互联网的其中一个手段就是污染DNS。因为你的数据包发送的方式是http，它是一种明文流量，GFW可以探测到流量的部分内容，看到你访问的是google，于是给你解析一个错误的服务器地址。除此之外，GFW还会在某些特定的IP服务器主机的特定端口进行端口阻断VPN或者是SSL连接；经过一一段时间的运作，GFW还会把记录到的大量 ip地址进行屏蔽，导致很多国外网站被封锁。以上就是大概的GFW的工作方式。</p>]]></content>
      
      
      <categories>
          
          <category> 转载 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 科学上网 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何正确注册Google邮箱</title>
      <link href="/posts/b73aaf514755/"/>
      <url>/posts/b73aaf514755/</url>
      
        <content type="html"><![CDATA[<div class="tip info"><p>前言：</p><p>注册谷歌账号时，有的人会遇到验证手机号这一步，然而输入了正确真实的手机号后又会提示“此手机号无法用于验证”。对于这个问题网络上的主要解决方法有：</p><ol><li>浏览器切换语言为英语（美国）</li><li>使用虚拟手机号，在线接收验证码（付费，免费都有）</li></ol><p>然而这些解决方法并不完全适用，部分人操作了之后依然提示无法验证手机号。</p><p>实际上这一步是可以跳过的（左下角有跳过按钮），或者直接不出现验证手机号的页面</p></div><h2 id="无法跳过手机验证的原因有："><a href="#无法跳过手机验证的原因有：" class="headerlink" title="无法跳过手机验证的原因有："></a>无法跳过手机验证的原因有：</h2><ol><li><span class='p red h2'>网络IP不行</span></li><li>近期频繁注册，被谷歌捕捉到异常行为。这里所说的频繁注册，不一定是你在操作，而是和你共同使用同一个机场节点ip的人频繁访问，甚至节点ip被谷歌拉黑。</li></ol><span class='p red h2'>总结：问题的关键就是网络ip不好！！！</span><h2 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h2><ol><li>节点选择上：可以使用香港，台湾或者美国的节点（不要使用免费的节点，最好是机场或者自己搭建的vps)，多尝试。</li><li>PC端操作不行，试试手机端</li></ol><h2 id="结论："><a href="#结论：" class="headerlink" title="结论："></a>结论：</h2><div class="tip bolt"><p>一切问题的关键就是网络ip</p><p>实在不行某宝可以购买代注册服务，不过感觉很快这些服务都会消失。毕竟前段时间都还能搜到AppleID和GoogleVoice，而现在没了，如果还想用只能自己学着注册。</p></div>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> google </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>给Hexo博客添加一个切换壁纸功能</title>
      <link href="/posts/edcad61667e4/"/>
      <url>/posts/edcad61667e4/</url>
      
        <content type="html"><![CDATA[<div class="tip home"><p>此篇为转载，下方给出原创地址。</p><p>原创还给出了把相片里面的图片引入作为壁纸，这里只选取原作的前半部分。</p></div><div class="tag link"><a class="link-card" title="原创直达" href="https://sourl.cn/ukMvie"><div class="left"><img src="https://blog.leonus.cn/favicon.ico"/></div><div class="right"><p class="text">原创直达</p><p class="url">https://sourl.cn/ukMvie</p></div></a></div><h2 id="新建页面"><a href="#新建页面" class="headerlink" title="新建页面"></a>新建页面</h2><ol><li>在本地博客根目录下使用hexo n page “xxx”，新建壁纸页面</li><li>在页面里面添加如下代码，每一类都有一个示例写法，需要添加自己的壁纸，直接往下复制粘贴即可（注意改壁纸url)</li><li>粘贴时注意粘贴为纯文本。</li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 恢复默认背景 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;localStorage.removeItem(&#x27;blogbg&#x27;);location.reload();&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background:#5fcdff;display:block;width:100%;padding: 15px 0;border-radius:6px;color:white;&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa-solid fa-arrows-rotate&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> 点我恢复默认背景<span class="language-xml"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="section">## 图片（手机）</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bgbox&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-image:url(https://img.vm.laomishuo.com/image/2021/12/2021122715170589.jpeg)&quot;</span> <span class="attr">class</span>=<span class="string">&quot;pimgbox&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;changeBg(&#x27;url(https\://img.vm.laomishuo.com/image/2021/12/2021122715170589.jpeg)&#x27;)&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="section">## 图片（电脑）</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bgbox&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-image:url(https://cn.bing.com/th?id=OHR.GBRTurtle_ZH-CN6069093254_1920x1080.jpg)&quot;</span> <span class="attr">class</span>=<span class="string">&quot;imgbox&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;changeBg(&#x27;url(https\://cn.bing.com/th?id=OHR.GBRTurtle_ZH-CN6069093254_1920x1080.jpg)&#x27;)&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">## 渐变色</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bgbox&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background: linear-gradient(to right, #eecda3, #ef629f)&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;changeBg(&#x27;linear-gradient(to right, #eecda3, #ef629f)&#x27;)&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="section">## 纯色</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bgbox&quot;</span>&gt;</span></span></span><br><span class="line">&lt;!-- 拾色器，可自定义颜色 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;color&quot;</span> <span class="attr">id</span>=<span class="string">&quot;color&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background: #7D9D9C&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;changeBg(&#x27;#7D9D9C&#x27;)&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 监听拾色器 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span>document.getElementById(&#x27;color&#x27;).addEventListener(&#x27;change&#x27;, (e) =&gt; &#123; changeBg(e.path[0].value); &#125;)<span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="添加css"><a href="#添加css" class="headerlink" title="添加css"></a>添加css</h2><ol><li>在BlogRoot\themes\butterfly\source\css\_custom路径下新建css文件，名字自定义</li><li>注意：我在使用完整的css代码后，我站点主页的每篇文章卡片高度变了，这导致图片填充不完整影响美观，还有就是菜单栏间距变大。当我把所有的@media都删了之后不会改变样式了。（仅仅个人情况）</li><li>删了之后，电脑端使用正常；手机端能切换，但是不顺畅。</li></ol><p><strong>原代码:</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.bgbox</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pimgbox</span>,</span><br><span class="line"><span class="selector-class">.imgbox</span>,</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">166px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-size</span>: cover</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pimgbox</span>,</span><br><span class="line"><span class="selector-class">.imgbox</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pimgbox</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">240px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.imgbox</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">95px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#color</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">background</span>: transparent;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">166px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">110px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#color</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">44px</span>;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;自定义颜色&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="comment">/* 页面宽度 */</span></span><br><span class="line">    <span class="selector-class">.page</span> <span class="selector-id">#content-inner</span> &#123;</span><br><span class="line">        <span class="attribute">max-width</span>: <span class="number">1200px</span> <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">40px</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* 顶部导航 */</span></span><br><span class="line">    <span class="selector-class">.menus_item</span>&gt;<span class="selector-tag">a</span>&gt;<span class="selector-tag">span</span> &#123;</span><br><span class="line">        <span class="attribute">padding-left</span>: <span class="number">8px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.menus_item</span>&gt;<span class="selector-tag">a</span> &#123;</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">12px</span> <span class="number">20px</span> <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">letter-spacing</span>: <span class="number">8px</span>;</span><br><span class="line">        <span class="attribute">font-weight</span>: bold</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.menus_item</span>&gt;<span class="selector-tag">a</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-id">#site-name</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">25px</span> <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">8.5px</span> <span class="number">12px</span> <span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* 文章卡片 */</span></span><br><span class="line">    <span class="selector-id">#recent-posts</span>&gt;<span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">14rem</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="comment">/* 背景 */</span></span><br><span class="line">    <span class="selector-class">.pimgbox</span>,</span><br><span class="line">    <span class="selector-class">.imgbox</span>,</span><br><span class="line">    <span class="selector-class">.box</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">73px</span>;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">135px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.pimgbox</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">205px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#color</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">141px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">83px</span>;</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">7px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#color</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">        <span class="attribute">left</span>: <span class="number">33px</span>;</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">33px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>个人保留代码：</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.bgbox</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pimgbox</span>,</span><br><span class="line"><span class="selector-class">.imgbox</span>,</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">166px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-size</span>: cover</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pimgbox</span>,</span><br><span class="line"><span class="selector-class">.imgbox</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pimgbox</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.imgbox</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">95px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#color</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">background</span>: transparent;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">166px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">110px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#color</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">44px</span>;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;自定义颜色&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="引入js"><a href="#引入js" class="headerlink" title="引入js"></a>引入js</h2><ol><li>在BlogRoot\themes\butterfly\source\js路径下新建js文件，名字自定义，后面引入js时注意路径中使用这个名字。</li><li>复制js代码到文件中。</li><li>到主题配文件的bottom处引入js（搜inject:)，示例写法在下方。</li></ol><p>JS代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 存数据</span></span><br><span class="line"><span class="comment">// name：命名 data：数据</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">saveData</span>(<span class="params">name, data</span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(name, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; <span class="string">&#x27;time&#x27;</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(), <span class="string">&#x27;data&#x27;</span>: data &#125;))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取数据</span></span><br><span class="line"><span class="comment">// name：命名 time：过期时长,单位分钟,如传入30,即加载数据时如果超出30分钟返回0,否则返回数据</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loadData</span>(<span class="params">name, time</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> data = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(name));</span><br><span class="line">    <span class="comment">// 过期或有错误返回 0</span></span><br><span class="line">    <span class="keyword">if</span> (data != <span class="literal">null</span> &amp;&amp; <span class="number">0</span> &lt; <span class="title class_">Date</span>.<span class="title function_">now</span>() - data.<span class="property">time</span> &lt; time * <span class="number">60</span> * <span class="number">1000</span>) <span class="keyword">return</span> data.<span class="property">data</span>;</span><br><span class="line">    <span class="comment">// 没过期返回数据</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上面两个函数如果你有其他需要存取数据的功能，也可以直接使用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取背景</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> data = <span class="title function_">loadData</span>(<span class="string">&#x27;blogbg&#x27;</span>, <span class="number">1440</span>)</span><br><span class="line">    <span class="keyword">if</span> (data) <span class="title function_">changeBg</span>(data, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">else</span> <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;blogbg&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (error) &#123; <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;blogbg&#x27;</span>); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 切换背景函数</span></span><br><span class="line"><span class="comment">// 此处的flag是为了每次读取时都重新存储一次,导致过期时间不稳定</span></span><br><span class="line"><span class="comment">// 如果flag为0则存储,即设置背景. 为1则不存储,即每次加载自动读取背景.</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">changeBg</span>(<span class="params">s, flag</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> bg = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;web_bg&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (s.<span class="title function_">charAt</span>(<span class="number">0</span>) == <span class="string">&#x27;#&#x27;</span>) &#123;</span><br><span class="line">        bg.<span class="property">style</span>.<span class="property">backgroundColor</span> = s</span><br><span class="line">        bg.<span class="property">style</span>.<span class="property">backgroundImage</span> = <span class="string">&#x27;none&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> bg.<span class="property">style</span>.<span class="property">backgroundImage</span> = s</span><br><span class="line">    <span class="keyword">if</span> (!flag) &#123; <span class="title function_">saveData</span>(<span class="string">&#x27;blogbg&#x27;</span>, s) &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>引入js示例</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">&quot;/js/wp.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span> #壁纸切换</span><br></pre></td></tr></table></figure><p>之后hexo三连就完成了</p>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo顶端菜单栏修改</title>
      <link href="/posts/45a9f9898c39/"/>
      <url>/posts/45a9f9898c39/</url>
      
        <content type="html"><![CDATA[<details class="folding-tag" cyan close><summary> 参考教程和步骤 </summary>              <div class='content'>              <div class="tabs" id="u1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#u1-1">参考教程</button></li><li class="tab"><button type="button" data-href="#u1-2">步骤</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="u1-1"><div class="table-container"><table><thead><tr><th style="text-align:left">参考方向</th><th style="text-align:left">教程原帖</th></tr></thead><tbody><tr><td style="text-align:left">顶栏菜单居中</td><td style="text-align:left"><a href="https://blog.leonus.cn/2022/hexoCenter.html">Lenous</a></td></tr><tr><td style="text-align:left">子菜单横向排布</td><td style="text-align:left"><a href="https://akilar.top/posts/ecff41cf/#:~:text=-,%20%E7%82%B9%E5%87%BB%E6%9F%A5%E7%9C%8B,-%E6%96%B0%E8%AE%B0%E5%BD%95">糖果屋</a></td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="u1-2"><ol><li>准备css文件</li><li>引入css</li><li>修改menu_item.pug</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><h2 id="新建和引入CSS"><a href="#新建和引入CSS" class="headerlink" title="新建和引入CSS"></a>新建和引入CSS</h2><div class="tip success"><p>新建css</p></div><ol><li>在BlogRoot\themes\butterfly\source\css下新建_custom文件夹（BlogRoot是我的博客根目录）</li><li>在_custom文件夹下新建文本文档命名为custom后缀改为css</li><li>把下面代码复制进custom.css（名字可自己命名）</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#nav .menus_items &#123;</span></span><br><span class="line">    <span class="string">/*</span> <span class="attr">display:</span> <span class="string">inline;</span> <span class="string">这个带不带都可以，本来就是inline</span> <span class="string">*/</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">absolute;</span></span><br><span class="line">    <span class="attr">width:</span> <span class="string">fit-content;</span></span><br><span class="line">    <span class="attr">left:</span> <span class="number">50</span><span class="string">%;</span></span><br><span class="line">    <span class="attr">transform:</span> <span class="string">translateX(-50%);</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">/*</span> <span class="string">横向排布子菜单</span> <span class="string">*/</span></span><br><span class="line"><span class="comment">#nav .menus_items .menus_item .menus_item_child li &#123;</span></span><br><span class="line">  <span class="attr">display:</span> <span class="string">inline-block;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">/*</span> <span class="string">圆角隐藏</span> <span class="string">*/</span></span><br><span class="line"><span class="string">ul.menus_item_child</span> &#123;</span><br><span class="line">  <span class="attr">overflow:</span> <span class="string">hidden;</span></span><br><span class="line">  <span class="attr">border-radius:</span> <span class="string">5px;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="string">/*</span> <span class="string">调整空隙，确保不会天下武功唯快不破</span> <span class="string">*/</span></span><br><span class="line"><span class="comment">#nav .menus_items .menus_item .menus_item_child &#123;</span></span><br><span class="line">  <span class="attr">margin-top:</span> <span class="string">0px</span> <span class="type">!important;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><div class="tip success"><p>引入CSS</p></div><p>博客根目录下找到_config.butterfly.yml，head处添加如下代码</p><p><strong>Bloogroot是我的根目录名，注意替换</strong></p><p><strong>custom.css替换成上面自定义的名字</strong>。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;BlogRoot/css/_custom/custom.css&quot;&gt;</span> </span><br></pre></td></tr></table></figure><p>最终结果示例()</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">     - &lt;link rel=&quot;stylesheet&quot; href=&quot;BlogRoot/css/_custom/custom.css&quot;&gt; #sx字体</span><br><span class="line">     - &lt;link rel=&quot;stylesheet&quot; href=&quot;BlogRoot/css/_custom/custom5.css&quot;&gt; #顶栏菜单居中，子菜单</span><br></pre></td></tr></table></figure><h2 id="调整子菜单位置"><a href="#调整子菜单位置" class="headerlink" title="调整子菜单位置"></a>调整子菜单位置</h2><p>修改Blogroot\themes\butterfly\layout\includes\header\menu_item.pug,找到ul.menus_item_child这行，添加一个内联样式。把</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ul.menus_item_child</span><br></pre></td></tr></table></figure><p>替换成下面的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ul.menus_item_child(style=`right:`+ (-60 * Object.keys(value).length + 65) + `px;`)</span><br></pre></td></tr></table></figure><div class="tip cogs"><p><strong>结论：</strong></p><p>糖果屋只是子菜单居中，并没有先将顶栏居中，所以我在直接复制店长的代码出错。我把left改成right没有报错，后面的“-60”自己看着调整试试。Lenous大佬给出了在浏览器调试的方法，这种调试方法能让每个子菜单都能到达合适位置。这里给出的方法是所有子菜单都偏移相同大小的距离。两种方法自行选择。</p></div>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>给hexo添加和风天气插件</title>
      <link href="/posts/72c933b57125/"/>
      <url>/posts/72c933b57125/</url>
      
        <content type="html"><![CDATA[<details class="folding-tag" cyan close><summary> 查看参考教程和步骤 </summary>              <div class='content'>              <div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">参考教程</button></li><li class="tab"><button type="button" data-href="#test4-2">详细步骤</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><div class="table-container"><table><thead><tr><th>参考方向</th><th>教程原贴</th></tr></thead><tbody><tr><td>inject引入</td><td><a href="https://sourl.cn/9akMtk">为网站添加天气小部件（基于Hexo框架+Butterfly主题）</a></td></tr><tr><td>调整天气组件位置</td><td><a href="https://sourl.cn/tvLn5M">Hexo在顶部增加天气小部件</a></td></tr><tr><td>适配pjax</td><td><a href="https://akilar.top/posts/eac2c3d0/">博客顶栏菜单重写</a></td></tr></tbody></table></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><ul><li>注册登录和风天气官网</li><li>选择想要的天气样式</li><li>生成代码</li><li>把代码复制到自建的js文件里</li><li>引入js</li><li>修改天气位置到博客标题旁边</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><h3 id="和风天气官网"><a href="#和风天气官网" class="headerlink" title="和风天气官网"></a>和风天气官网</h3><ol><li><a href="https://widget.qweather.com/create-simple">进入和风天气官网</a>，注册登录</li><li><strong>插件名称</strong>随便写</li><li><strong>内容</strong>建议选温度，城市名称，天气实况</li><li><strong>样式</strong>建议修改温度文字颜色，城市名文字颜色（颜色和你博客的背景色要有区别度，否则看不清），<strong>背景颜色</strong>选择透明；其它默认，也可自行尝试。</li><li>点击生成代码</li></ol><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/w35rhl.webp" alt="简单图床 - EasyImage"></p><h3 id="站点根目录"><a href="#站点根目录" class="headerlink" title="站点根目录"></a>站点根目录</h3><div class="note default flat"><p>新建js和引入js</p></div><ol><li>博客根目录新建weather.js，比如我的是：BlogRoot\themes\butterfly\source\js\weather.js</li><li>把上面生成的代码复制进weanther.js</li><li>到主题配置文件引入js</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">&quot;/js/weather.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span> </span><br><span class="line">- <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">data-pjax</span> <span class="attr">src</span>=<span class="string">&quot;https://widget.heweather.net/simple/static/js/he-simple.js?v=1.4.0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>注意：pjax打开的情况下，必须适配pjiax，否则会出现只在刷新网页和首次进入网站显示天气，进入文章天气插件会消失。上述代码已经适配pjax，直接复制即可。</p><div class="note default flat"><p>显示和修改天气插件位置</p></div><ul><li>找到\BlogRoot\themes\butterfly\layout\includes\header\nav.pug，修改nav.pug，添加下面代码</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#he-plugin-simple</span><br><span class="line">#none_space</span><br></pre></td></tr></table></figure><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/w51zwc.webp" alt="简单图床 - EasyImage"></p><ul><li>找到\themes\butterfly\source\css_layout\head.styl，修改head.styl，将#blog_name替换为#none_space：</li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/w5hlp7.webp" alt="简单图床 - EasyImage"></p><p><strong>保存，hexo三连</strong></p>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用GitHub-Action自动化部署hexo博客</title>
      <link href="/posts/2f502428fecc/"/>
      <url>/posts/2f502428fecc/</url>
      
        <content type="html"><![CDATA[<div class="tip home"><p>记录下自己使用Github Action自动化部署hexo博客。主要是把它搞成功废了太多的时间，因此必须记录下用来以后回顾。</p><p>做这个的目的是：第一，解放双手。在这之前，hexo部署到github都是要hexo三连，完成这个后，<del>一条命令</del>git三连（下方git命令的后三个）就可以把博客部署上线。第二，也是最重要的，随着文章的增加，使用hexo三连耗费的时间会越来越多，在这期间不能退出git，需要一直等待上传部署完毕，而自动化后，基本就是秒传，后面的部署交给github action就好，相当的快。</p></div><span class='p red h2'>这里仅仅展示github平台</span><div class="note default simple"><p><strong>功能原理</strong></p></div><p><strong>我对它的个人理解是</strong>：github的<span class="bubble-content">page repository</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#71a4e3;">即公共的，你上线网站的仓库。或者简单讲就是以github用户名+github.io作为仓库名的仓库</span></span>，<span class="bubble-content">github的普通私有仓库</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#71a4e3;">只是存储代码，并不能用来线上访问</span></span>和<span class='p red'>本地hexo站点</span>之间的关系是这样的：<span class='p red'>page repository</span>和<span class='p red'>普通私有仓库</span>在建立好关系后会一直”对话“，<span class='p red'>page repository</span>问私有仓库你变了没，如果<span class='p red'>普通私有仓库</span>发生变化，<span class='p red'>page repository</span>就会立即也同步发生变化，变化与否是同步的；而<span class='p red'>hexo本地</span>是hexo博客作者直接接触的，<span class='p red'>hexo本地</span>发生变化，作者只需要把变化发给私有仓库即可。为啥不直接发给<span class='p red'>page repository</span>，因为hexo是静态页面，每次直接部署都要全部清除缓存，再生成，再部署（即hexo三连），每次都全部清零重新部署，耗费大量时间。自动部署快的原因是私有仓库已有的就无需耗费时间生成了。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/vvdbud-0.webp" alt=""></p><h2 id="账号与私有仓库"><a href="#账号与私有仓库" class="headerlink" title="账号与私有仓库"></a>账号与私有仓库</h2><div class="tip cogs"><p>准备账号token,私钥和公钥；创建github私有仓库；给仓库添加环境变量。储存源码选择私有仓库会很安全！！</p></div><div class="note default simple"><p>获取账号token，私钥和共钥，已经有的可以跳过此步</p></div><div class="tag link"><a class="link-card" title="本站教程" href="https://yilanbk.com/posts/cae10e8f99ba/"><div class="left"><img src="https://sourl.cn/m92MmB"/></div><div class="right"><p class="text">本站教程</p><p class="url">https://yilanbk.com/posts/cae10e8f99ba/</p></div></a></div><p>私钥是：id_rsa，将私钥配到仓库变量，下面会讲到</p><p>公钥是：id_rsa.pub，将公钥配置到github账号，上述链接有说</p><div class="note default simple"><p>创建私有仓库</p></div><ol><li>登录github账号，新建仓库</li><li>仓库名，自己随便写，我输的zdbs</li><li>描述可选，我输zdbs</li><li>选择私有</li><li>点击创建</li></ol><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/vwhhcy-0.webp" alt="Snipaste_2022-08-14_22-27-44"></p><div class="note default simple"><p>配置私有仓库的环境变量</p></div><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/vy9iha-0.webp" alt="Snipaste_2022-08-14_22-48-36"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/vyef85-0.webp" alt="Snipaste_2022-08-14_22-53-07"></p><div class="table-container"><table><thead><tr><th style="text-align:left">name</th><th style="text-align:left">value</th></tr></thead><tbody><tr><td style="text-align:left">GITHUBUSERNAME</td><td style="text-align:left">你的github账号用户名</td></tr><tr><td style="text-align:left">GITHUBEMAIL</td><td style="text-align:left">注册github账号的邮箱</td></tr><tr><td style="text-align:left">GITHUBTOKEN</td><td style="text-align:left">之前获取的token令牌</td></tr><tr><td style="text-align:left">HEXO_DEPLOY_PRI</td><td style="text-align:left">之前获取的私钥</td></tr></tbody></table></div><h2 id="本地站点根目录"><a href="#本地站点根目录" class="headerlink" title="本地站点根目录"></a>本地站点根目录</h2><ol><li>在\BlogRoot\.github  文件夹下新建workflows文件夹</li><li>在workflows文件夹下新建autodeploy.yml文件</li><li>将以下代码复制到autodeploy.yml</li></ol><div class="tip info"><p>注意，下方代码和原创相比修改了四处，其中三处将master改为main，再有就是将最后几行的其他平台删除，仅保留了github。github平台的，这三处master分支一定改为main分支。</p></div><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">自动部署</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span> <span class="comment">#2020年10月后github新建仓库默认分支改为main，注意更改</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">release:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">published</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">检查分支</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">ref:</span> <span class="string">main</span> <span class="comment">#2020年10月后github新建仓库默认分支改为main，注意更改</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装</span> <span class="string">Node</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">node-version:</span> <span class="string">&quot;12.x&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装</span> <span class="string">Hexo</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        export TZ=&#x27;Asia/Shanghai&#x27;</span></span><br><span class="line"><span class="string">        npm install hexo-cli -g</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">缓存</span> <span class="string">Hexo</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/cache@v1</span></span><br><span class="line">      <span class="attr">id:</span> <span class="string">cache</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">node_modules</span></span><br><span class="line">        <span class="attr">key:</span> <span class="string">$&#123;&#123;runner.OS&#125;&#125;-$&#123;&#123;hashFiles(&#x27;**/package-lock.json&#x27;)&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装依赖</span></span><br><span class="line">      <span class="attr">if:</span> <span class="string">steps.cache.outputs.cache-hit</span> <span class="type">!=</span> <span class="string">&#x27;true&#x27;</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        npm install --save</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">生成静态文件</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        hexo clean</span></span><br><span class="line"><span class="string">        hexo generate</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">部署</span> <span class="comment">#此处master:master 指从本地的master分支提交到远程仓库的master分支，若远程仓库没有对应分支则新建一个。如有其他需要，可以根据自己的需求更改。</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        cd ./public</span></span><br><span class="line"><span class="string">        git init</span></span><br><span class="line"><span class="string">        git config --global user.name &#x27;$&#123;&#123; secrets.GITHUBUSERNAME &#125;&#125;&#x27;</span></span><br><span class="line"><span class="string">        git config --global user.email &#x27;$&#123;&#123; secrets.GITHUBEMAIL &#125;&#125;&#x27;</span></span><br><span class="line"><span class="string">        git add .</span></span><br><span class="line"><span class="string">        git commit -m &quot;$&#123;&#123; github.event.head_commit.message &#125;&#125; $(date +&quot;%Z %Y-%m-%d %A %H:%M:%S&quot;) Updated By Github Actions&quot;</span></span><br><span class="line"><span class="string">        git push --force --quiet &quot;https://$&#123;&#123; secrets.GITHUBUSERNAME &#125;&#125;:$&#123;&#123; secrets.GITHUBTOKEN &#125;&#125;@github.com/$&#123;&#123; secrets.GITHUBUSERNAME &#125;&#125;/$&#123;&#123; secrets.GITHUBUSERNAME &#125;&#125;.github.io.git&quot; master:main</span></span><br></pre></td></tr></table></figure><h2 id="git命令行"><a href="#git命令行" class="headerlink" title="git命令行"></a>git命令行</h2><div class="tip cogs"><p>进入你的博客根目录，右键gitbash here，把下面代码复制粘贴进去</p></div><p><strong>第二条命令的origin后面输入私有仓库的SSh链接；格式为git@github.com:账号用户名/私有仓库名.git</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git init </span><br><span class="line">git remote add origin </span><br><span class="line">git checkout -b main </span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;github action update&quot;</span></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure><h2 id="成功标志"><a href="#成功标志" class="headerlink" title="成功标志"></a>成功标志</h2><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/vyi1cq-0.webp" alt="Snipaste_2022-08-14_23-26-27"></p><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><div class="tag link"><a class="link-card" title="akilar屋" href="https://akilar.top/posts/f752c86d/"><div class="left"><img src="https://sourl.cn/m92MmB"/></div><div class="right"><p class="text">akilar屋</p><p class="url">https://akilar.top/posts/f752c86d/</p></div></a></div>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>升级windows10企业评估版</title>
      <link href="/posts/e5be7a23198e/"/>
      <url>/posts/e5be7a23198e/</url>
      
        <content type="html"><![CDATA[<div class="tip home"><p>如果您下载 Windows 10 Enterprise LTSC 2021 评估版，则没有密钥可以激活它。</p></div><h2 id="找到C盘skus文件夹"><a href="#找到C盘skus文件夹" class="headerlink" title="找到C盘skus文件夹"></a>找到C盘skus文件夹</h2><p>按win+r输入：C:\Windows\System32\spp\tokens\skus</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/vqpeiw-0.webp" alt="Snipaste_2022-08-14_13-21-04"></p><h2 id="激活文件"><a href="#激活文件" class="headerlink" title="激活文件"></a>激活文件</h2><ol><li>下载 Windows 10 Enterprise LTSC 2021 的 SKU：<a href="https://wwu.lanzouv.com/iyurx09irt1a">点击下载</a></li><li>解压复制到skus文件夹下</li></ol><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/vr78o1-0.webp" alt="Snipaste_2022-08-14_13-25-48"></p><h2 id="CMD运行代码"><a href="#CMD运行代码" class="headerlink" title="CMD运行代码"></a>CMD运行代码</h2><ol><li>管理员身份运行CMD</li><li>复制粘贴代码到cmd，回车</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cscript.exe %windir%\system32\slmgr.vbs /rilc</span><br><span class="line">cscript.exe %windir%\system32\slmgr.vbs /upk &gt;nul 2&gt;&amp;1</span><br><span class="line">cscript.exe %windir%\system32\slmgr.vbs /ckms &gt;nul 2&gt;&amp;1</span><br><span class="line">cscript.exe %windir%\system32\slmgr.vbs /cpky &gt;nul 2&gt;&amp;1</span><br><span class="line">cscript.exe %windir%\system32\slmgr.vbs /ipk M7XTQ-FN8P6-TTKYV-9D4CC-J462D</span><br><span class="line">sc config LicenseManager start= auto &amp; net start LicenseManager</span><br><span class="line">sc config wuauserv start= auto &amp; net start wuauserv</span><br><span class="line">clipup -v -o -altto c:\</span><br><span class="line">echo</span><br></pre></td></tr></table></figure><p>原文链接</p><div class="tag link"><a class="link-card" title="原创直达" href="https://sourl.cn/Qc3TcY"><div class="left"><img src="https://sourl.cn/m92MmB"/></div><div class="right"><p class="text">原创直达</p><p class="url">https://sourl.cn/Qc3TcY</p></div></a></div>]]></content>
      
      
      <categories>
          
          <category> 技术教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Win10 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>追番页面插件</title>
      <link href="/posts/7c07704de373/"/>
      <url>/posts/7c07704de373/</url>
      
        <content type="html"><![CDATA[<div class="tip home"><p>此篇为转载，下方给出原创地址。</p></div><div class="tag link"><a class="link-card" title="原创直达" href="https://sourl.cn/Khu7dT"><div class="left"><img src="https://sourl.cn/m92MmB"/></div><div class="right"><p class="text">原创直达</p><p class="url">https://sourl.cn/Khu7dT</p></div></a></div><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>为 Hexo 添加追番/追剧页面，参考了<a href="https://github.com/mythsman/hexo-douban">hexo-douban</a>的部分代码</p><h2 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-bilibili-bangumi --save</span><br></pre></td></tr></table></figure><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><div class="note blue no-icon flat"><p>将下面的配置写入站点的配置文件<code>_config.yml</code>里(不是主题的配置文件)</p></div><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">bangumi:</span> <span class="comment"># 追番设置</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">source:</span> <span class="string">bili</span></span><br><span class="line">  <span class="attr">path:</span></span><br><span class="line">  <span class="attr">vmid:</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">&#x27;追番列表&#x27;</span></span><br><span class="line">  <span class="attr">quote:</span> <span class="string">&#x27;生命不息，追番不止！&#x27;</span></span><br><span class="line">  <span class="attr">show:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">loading:</span></span><br><span class="line">  <span class="attr">metaColor:</span></span><br><span class="line">  <span class="attr">color:</span></span><br><span class="line">  <span class="attr">webp:</span></span><br><span class="line">  <span class="attr">progress:</span></span><br></pre></td></tr></table></figure><div class="note blue icon-padding disabled"><i class="note-icon fas fa-bullhorn"></i><p><strong>参数释义</strong></p></div><ul><li>enable: 是否启用</li><li>source: 数据源，仅支持番剧，bili：哔哩哔哩源；bgm：Bangumi源</li><li>path: 页面路径，默认bangumis/index.html,cinemas/index.html</li><li>vmid: 哔哩哔哩的vmid(uid)</li><li>title: 该页面的标题</li><li>quote: 写在页面开头的一段话，支持 html 语法，可留空。</li><li>show: 初始显示页面：0: 想看,1: 在看,2: 看过，默认为1</li><li>loading: 图片加载完成前的 loading 图片</li><li>metaColor: meta 部分(简介上方)字体颜色</li><li>color: 简介字体颜色</li><li>webp: 番剧封面使用webp格式(此格式在safari浏览器下不显示，但是图片大小可以缩小 100 倍左右), 默认true</li><li>progress: 获取番剧数据时是否显示进度条，默认true</li></ul><div class="note blue icon-padding disabled"><i class="note-icon fas fa-bullhorn"></i><p><strong>主题配置文件添加追番菜单,“+”号仅提示作用，不要保留</strong></p></div><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">   <span class="string">主页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">   <span class="string">文章||fas</span> <span class="attr">fa-list:</span></span><br><span class="line">     <span class="string">归档:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">     <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">     <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line"><span class="string">+</span>   <span class="string">追番:</span> <span class="string">/bangumis/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">   <span class="string">列表||fas</span> <span class="attr">fa-list:</span></span><br><span class="line">     <span class="string">音乐:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">     <span class="string">电影:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">     <span class="string">友链:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">     <span class="string">关于:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br><span class="line">   <span class="string">导航:</span> <span class="string">https://www.yilandh.tk</span> <span class="string">||</span> <span class="string">fa-solid</span> <span class="string">fa-diamond-turn-right</span></span><br></pre></td></tr></table></figure><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><ol><li>首先登录b站</li><li>将追番列表设置为公开</li><li>登录后前往：<a href="https://space.bilibili.com/，网址最后一串数字就是vmid">https://space.bilibili.com/，网址最后一串数字就是vmid</a></li><li>在hexo generate或hexo deploy之前使用hexo bangumi -u命令更新追番数据，使用hexo cinema -u命令更新追剧数据！</li><li>删除数据命令:hexo bangumi -d/hexo cinema -d</li></ol><h2 id="手动添加番剧"><a href="#手动添加番剧" class="headerlink" title="手动添加番剧"></a>手动添加番剧</h2><div class="tip cogs"><p>因为某些番剧在哔哩哔哩上没有，但是又想在hexo中展示，怎么办呢？现在支持手动添加番剧数据了！</p><p>在sources/_data/目录下新建文件，命名为extra_bangumis.json(追番数据)或extra_cinemas.json(追剧数据) ，并添加以如下内容:</p></div><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;watchedExtra&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;缘之空&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;番剧&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;area&quot;</span><span class="punctuation">:</span> <span class="string">&quot;日本&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;cover&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://cdn.jsdelivr.net/gh/mmdjiji/bangumis@main/Yosuga-no-Sora/cover.jpg&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;totalCount&quot;</span><span class="punctuation">:</span> <span class="string">&quot;全12话&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;follow&quot;</span><span class="punctuation">:</span> <span class="string">&quot;不可用&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;view&quot;</span><span class="punctuation">:</span> <span class="string">&quot;不可用&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;danmaku&quot;</span><span class="punctuation">:</span> <span class="string">&quot;不可用&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;coin&quot;</span><span class="punctuation">:</span> <span class="string">&quot;不可用&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;score&quot;</span><span class="punctuation">:</span> <span class="string">&quot;不可用&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;des&quot;</span><span class="punctuation">:</span> <span class="string">&quot;远离都市的田园小镇，奥木染。春日野悠带着妹妹穹，来到了这座城镇。坐落在这里的是，儿时暑假经常造访的充满回忆的已故祖父的家。双亲因意外事故而丧生，变得无依无靠...&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>title是番剧的标题，cover是封面图链接，des是简介，上述字段均根据需要修改。</p><p>另外除了<code>watchedExtra</code>数组，还可以在后面添加新的数组，可用数组名如下:</p><div class="table-container"><table><thead><tr><th style="text-align:left">可用数组名</th><th style="text-align:left"><strong>含义</strong></th></tr></thead><tbody><tr><td style="text-align:left">wantWatchExtra</td><td style="text-align:left">想看</td></tr><tr><td style="text-align:left">watchingExtra</td><td style="text-align:left">在看</td></tr><tr><td style="text-align:left">watchedExtra</td><td style="text-align:left">看过</td></tr></tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows10专业版官网下载方法</title>
      <link href="/posts/5871d8ea1e2e/"/>
      <url>/posts/5871d8ea1e2e/</url>
      
        <content type="html"><![CDATA[<details class="folding-tag" cyan close><summary> 写在前面，可以不看 </summary>              <div class='content'>              <p>通常新电脑都自带了一个免费永久激活的系统（实际上这部分的费用已经包含在机器价格里面了），大多数应该是给装的最基本的家庭版。一般系统只要不出错，不想折腾的同学都是这么一直用着，然而可能会出现意外情况需要重装系统，这时候要么花钱重装（最方便，但是也错过了学习体验的机会），要么自己装。选择自己装的话，首先就得有一个好用的纯净系统，网上一搜会有一大堆提供系统的网站。这些网站基本都是基于纯净系统魔改的，但是它既然能改动，就无法保证它会植入什么其他的东西在系统里。所以，下载系统最好直接到官方网站。当然还可以到msdn下载，然而没有迅雷会员去下载电驴是真的慢。</p>              </div>            </details><h2 id="进入Windows10官网"><a href="#进入Windows10官网" class="headerlink" title="进入Windows10官网"></a>进入Windows10官网</h2><p><a href="https://www.microsoft.com/en-au/software-download/windows10">点此进入官网</a></p><p><em>进入后，你会发现官网没有下图的界面</em></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/wc45ss.webp" alt="简单图床 - EasyImage"></p><h2 id="教程开始"><a href="#教程开始" class="headerlink" title="教程开始"></a>教程开始</h2><span class='p blue h3'>1.右键点击检查</span><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/wcn2fd.webp" alt="简单图床 - EasyImage"></p><span class='p blue h3'>2.找到网络并点击</span><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/wcu7cv.webp" alt="简单图床 - EasyImage"></p><span class='p blue h3'>3.点击网络条件，用户代理处取消用户浏览器默认</span><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/wddsnw.webp" alt="简单图床 - EasyImage"></p><span class='p blue h3'>4.自定义为Chrome-Chrome OS</span><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/wdu0on.webp" alt="简单图床 - EasyImage"></p><span class='p blue h3'>5.CTRL+F5强制刷新页面</span><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/wc45ss.webp" alt="简单图床 - EasyImage"></p><span class='p blue h3'>6.选择ISO，确认</span><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/x2r3kw.webp" alt="简单图床 - EasyImage"></p><span class='p blue h3'>7.选择系统语音，确认</span><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/x2x9qs.webp" alt="简单图床 - EasyImage"></p><span class='p blue h3'>8.选择系统的位数</span><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/x3dhu7.webp" alt="简单图床 - EasyImage"></p><span class='p blue h3'>9.点击下载</span><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/x3miac.webp" alt="简单图床 - EasyImage"></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Win10 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>“软件盒子”</title>
      <link href="/posts/0a1f973905b1/"/>
      <url>/posts/0a1f973905b1/</url>
      
        <content type="html"><![CDATA[<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><details class="folding-tag" red close><summary> 点击打开写在前面 </summary>              <div class='content'>              <p>前段时间尝鲜号称“联想工程师工具箱”的软件盒，试用里面的程序时系统崩溃，疯狂弹窗，而且电脑安装的大部分软件开始无法打开使用，无奈重装了系统。装完系统后，想要重新一个不落安装好之前的软件，发现是真的累。既要去回忆之前的软件有哪些，还要去网上一个个找。折腾了一周算是还原了。</p><p>因此想到建立一个自己的软件仓库，方便以后换机器或者重装电脑后可以快速装上需要的软件。软件分为以下几大类。<span class='p red h3'>装机必备、Office 、截图工具、下载工具、图片工具、PDF工具、录频、科研、编程、ios、翻译、视频相关、Windows系统激活、录制动态图、代理工具、磁力搜索、Adobe</span></p><p>软件源自网络，部分软件包中要求添加公众号获取教学和本站没有任何关系，还有部分软件官网链接是被墙起来的，需要魔法上网，fq才能进入，也可以直接下载我收藏的版本（不保证最新版）</p>              </div>            </details><h2 id="装机必备"><a href="#装机必备" class="headerlink" title="装机必备"></a>装机必备</h2><details class="folding-tag" blue close><summary> 装机必备 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">软件名</th><th style="text-align:center">简介</th><th style="text-align:center">下载</th><th style="text-align:center">官网链接</th></tr></thead><tbody><tr><td style="text-align:center">geeekuninstall</td><td style="text-align:center">最强卸载工具</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iaN76091i3he">下载</a></td><td style="text-align:center"><a href="https://geekuninstaller.com/">链接</a></td></tr><tr><td style="text-align:center">Dism++</td><td style="text-align:center">Windows10系统优化</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iGV44091hzqj">下载</a></td><td style="text-align:center"><a href="https://github.com/Chuyu-Team/Dism-Multi-language">链接</a></td></tr><tr><td style="text-align:center">Runany</td><td style="text-align:center">快速启动工具</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/i1t1B091i3qd">下载</a></td><td style="text-align:center"><a href="https://github.com/hui-Zz/RunAny">链接</a></td></tr><tr><td style="text-align:center">WGesture</td><td style="text-align:center">全局鼠标手势工具</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/i3cEi091i3kh">下载</a></td><td style="text-align:center"><a href="https://www.yingdev.com/projects/wgestures">链接</a></td></tr><tr><td style="text-align:center">Powertoys</td><td style="text-align:center">调整和简化Windows 体验以提高工作效率</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/i0jOA0dtblaf">ducp</a></td><td style="text-align:center"><a href="https://learn.microsoft.com/en-us/windows/powertoys/">链接</a></td></tr><tr><td style="text-align:center">Typora</td><td style="text-align:center">支持markdown语法的笔记软件</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iegP6091i5ed">下载</a></td><td style="text-align:center"><a href="https://typora.io/">链接</a></td></tr><tr><td style="text-align:center">onemark</td><td style="text-align:center">让onenote支持markdown语法</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iRDRk09kpjgf">下载</a></td><td style="text-align:center"><a href="https://onemark.neuxlab.cn/">链接</a></td></tr><tr><td style="text-align:center">Drawio</td><td style="text-align:center">流程图、网页模版构架图、框架图等，取代Viso</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iDFfJ09kn0ng">下载</a></td><td style="text-align:center"><a href="https://www.diagrams.net/">链接</a></td></tr><tr><td style="text-align:center">Foxmail</td><td style="text-align:center">邮箱</td><td style="text-align:center"><a href="https://www.aliyundrive.com/s/izNbbLLtJhB">61ru</a></td><td style="text-align:center"><a href="https://www.foxmail.com/">链接</a></td></tr><tr><td style="text-align:center">7-ZIP</td><td style="text-align:center">免费干净的解压缩软件</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/i8IDQ091hzha">下载</a></td><td style="text-align:center"><a href="https://sparanoid.com/lab/7z/">链接</a></td></tr><tr><td style="text-align:center">Wiztree</td><td style="text-align:center">磁盘空间分析器</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iVJaa0akz6jg">下载</a></td><td style="text-align:center"><a href="https://diskanalyzer.com/">链接</a></td></tr><tr><td style="text-align:center">Spacesniffer</td><td style="text-align:center">可视化展示磁盘空间占用情况</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iMzse091i3uh">下载</a></td><td style="text-align:center"><a href="http://www.uderzo.it/main_products/space_sniffer/">链接</a></td></tr><tr><td style="text-align:center">SuperF4</td><td style="text-align:center">终止一直卡顿转圈的程序</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/i2pKf091i3vi">下载</a></td><td style="text-align:center"><a href="https://stefansundin.github.io/superf4/">链接</a></td></tr><tr><td style="text-align:center">格式工厂</td><td style="text-align:center">图片视频音频格式转换</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iXfKx091i3da">下载</a></td><td style="text-align:center"><a href="http://www.pcgeshi.com/">链接</a></td></tr></tbody></table></div>              </div>            </details><h2 id="Office"><a href="#Office" class="headerlink" title="Office"></a>Office</h2><details class="folding-tag" red close><summary> office办公软件 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">软件名</th><th style="text-align:center">简介</th><th style="text-align:center">下载</th><th style="text-align:center">官网链接</th></tr></thead><tbody><tr><td style="text-align:center">Office ToolPlus</td><td style="text-align:center">offece下载安装激活一键部署工具</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/is7J9091k2jc">下载</a></td><td style="text-align:center"><a href="https://otp.landian.vip/zh-cn/">链接</a></td></tr><tr><td style="text-align:center">MS365 E5 Renew Plus</td><td style="text-align:center">365续订</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/izQ7J095flcd">下载</a></td><td style="text-align:center"><a href="https://e5renew.com/">链接</a></td></tr></tbody></table></div><p>说明：部署前需要彻底删除之前版本的密钥，kms服务器或者数字证书，避免激活不成功；部署时选择批量版。之前这款工具可以下载mondo 2016批量版（365的一个版本，它具有365的全部功能），现在已经找不到此项了。</p><div class="tip info"><p>如果还想要免费使用365，目前已知的方法是申请Microsoft365开发人员计划，这个开发者账号可以免费使用Office365两年，申请有难度，可以观看以下教学视频</p></div><p><span class='p red h2'>成功申请教学视频</span>:<a href="https://www.youtube.com/watch?v=pvhHfXq5zvI&amp;t=6s">点我看视频</a></p><p>点此查看<span class='p red h2'>微软官方</span><a href="https://www.freedidi.com/6619.html">部署工具</a></p><p><a href="https://www.youtube.com/watch?v=VSjRx7Hoa60">微软官方安装教程</a></p>              </div>            </details><h2 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h2><details class="folding-tag" blue close><summary> 截图工具 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">软件名</th><th style="text-align:center">简介</th><th style="text-align:center">下载</th><th style="text-align:center">官网链接</th></tr></thead><tbody><tr><td style="text-align:center">Snipaste</td><td style="text-align:center">独特的贴图功能</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/ixaPW091kych">下载</a></td><td style="text-align:center"><a href="https://zh.snipaste.com/">链接</a></td></tr><tr><td style="text-align:center">Fscapture</td><td style="text-align:center">截长图可录屏</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/ic1J0091ky9e">下载</a></td><td style="text-align:center"><a href="https://www.faststonecapture.cn/">链接</a></td></tr><tr><td style="text-align:center">ShareX</td><td style="text-align:center">截图OCR，吸管等小工具多</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iDTFl091ky5a">下载</a></td><td style="text-align:center"><a href="https://getsharex.com/">链接</a></td></tr><tr><td style="text-align:center">天若OCR开源本地版v1.2.5</td><td style="text-align:center">截图OCR</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/i9ICh0bso6bg">下载</a></td><td style="text-align:center"><a href="https://www.52pojie.cn/forum.php?mod=viewthread&amp;tid=1525719&amp;highlight=%CC%EC%C8%F4ocr">链接</a></td></tr></tbody></table></div>              </div>            </details><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><details class="folding-tag" blue close><summary> 下载工具 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">软件名</th><th style="text-align:center">简介</th><th style="text-align:center">下载</th><th style="text-align:center">官网链接</th></tr></thead><tbody><tr><td style="text-align:center">IDM</td><td style="text-align:center">强大但不支持磁链</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iKZWv091lz4b">下载</a></td><td style="text-align:center"><a href="https://www.internetdownloadmanager.com/">链接</a></td></tr><tr><td style="text-align:center">BitComet</td><td style="text-align:center">支持磁链，国内好用</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iEvio091lyub">下载</a></td><td style="text-align:center"><a href="https://www.bitcomet.com/cn">链接</a></td></tr><tr><td style="text-align:center">Xdown</td><td style="text-align:center">BitTorrent/HTTP/FTP</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iJ7of091lz2j">下载</a></td><td style="text-align:center"><a href="https://xdown.org/">链接</a></td></tr></tbody></table></div><p><strong><div class="note info disabled"><p>Bicomet如果报毒，关闭防病毒再下载安装，否则直接被删。一般21h2版Windows10可能会报毒，不过属于误报放心使用。</p></div></strong></p>              </div>            </details><h2 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h2><details class="folding-tag" red close><summary> 图片工具 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">软件名</th><th style="text-align:center">简介</th><th style="text-align:center">下载</th><th style="text-align:center">官网链接</th></tr></thead><tbody><tr><td style="text-align:center">PhotoZoom</td><td style="text-align:center">图片无损放大，收费</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/ia5Hv091mf6j">密码2t7t</a></td><td style="text-align:center"><a href="https://www.photozoomchina.com/">链接</a></td></tr><tr><td style="text-align:center">inpaint</td><td style="text-align:center">去水印</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/i56eE091mfeh">下载</a></td><td style="text-align:center"><a href="https://theinpaint.com/">链接</a></td></tr><tr><td style="text-align:center">billfish</td><td style="text-align:center">图片视频素材管理</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/i0dPN091mesf">下载</a></td><td style="text-align:center"><a href="https://www.billfish.cn/">链接</a></td></tr><tr><td style="text-align:center">Imgclass</td><td style="text-align:center">免费开源图片查看器</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/ic8HY0akyu2h">下载</a></td><td style="text-align:center"><a href="https://imageglass.org/">链接</a></td></tr><tr><td style="text-align:center">Honeyview</td><td style="text-align:center">轻量快速的图片查看器</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iffxL091mepc">下载</a></td><td style="text-align:center"><a href="https://cn.bandisoft.com/honeyview/">链接</a></td></tr><tr><td style="text-align:center">Imagine</td><td style="text-align:center">图片压缩</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iZMRJ095e8cj">a7pb</a></td><td style="text-align:center"><a href="https://github.com/meowtec/Imagine">链接</a></td></tr><tr><td style="text-align:center">waifu2x</td><td style="text-align:center">模糊图片AI修复，图片无损放大</td><td style="text-align:center"><a href="https://pan.baidu.com/s/1rY-Wz0sXnkA85DynvAkKiw">phek</a></td><td style="text-align:center"><a href="http://waifu2x.udp.jp/">链接</a></td></tr><tr><td style="text-align:center">webpconverter</td><td style="text-align:center">图片转webp</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iMkjz0bydyoh">aoi6</a></td><td style="text-align:center"><a href="https://anywebp.com/">链接</a></td></tr></tbody></table></div>              </div>            </details><h2 id="PDF"><a href="#PDF" class="headerlink" title="PDF"></a>PDF</h2><details class="folding-tag" blue close><summary> PDF工具 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">软件名</th><th style="text-align:center">简介</th><th style="text-align:center">下载</th><th style="text-align:center">官网链接</th></tr></thead><tbody><tr><td style="text-align:center">Sumatra PDF</td><td style="text-align:center">轻量pdf阅读器</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iVl7o091ni6d">下载</a></td><td style="text-align:center"><a href="https://www.sumatrapdfreader.org/free-pdf-reader">链接</a></td></tr><tr><td style="text-align:center">PDF24</td><td style="text-align:center">24种pdf转换工具</td><td style="text-align:center"><a href="https://www.aliyundrive.com/s/HNGv4i5KuWQ">lzh1</a></td><td style="text-align:center"><a href="https://www.pdf24.org/zh/">链接</a></td></tr><tr><td style="text-align:center">稻壳阅读器</td><td style="text-align:center">可以下载部分百度文库文档</td><td style="text-align:center"><a href="https://www.aliyundrive.com/s/aw15z218BnD">c0sd</a></td><td style="text-align:center"><a href="https://www.daokeyuedu.com/">链接</a></td></tr><tr><td style="text-align:center">PDFPatcher</td><td style="text-align:center">PDF工具箱</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iO1lD091niah">6kmb</a></td><td style="text-align:center"><a href="https://github.com/wmjordan/PDFPatcher">链接</a></td></tr></tbody></table></div>              </div>            </details><h2 id="视频音频"><a href="#视频音频" class="headerlink" title="视频音频"></a>视频音频</h2><details class="folding-tag" blue close><summary> 视频工具 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">软件名</th><th style="text-align:center">简介</th><th style="text-align:center">下载</th><th style="text-align:center">官网链接</th></tr></thead><tbody><tr><td style="text-align:center">小丸工具箱</td><td style="text-align:center">音视频压缩</td><td style="text-align:center"><a href="https://pan.baidu.com/s/1sjRjS62I6UhsE5u_C-OAXA">sr2k </a></td><td style="text-align:center"><a href="https://maruko.appinn.me/">链接</a></td></tr><tr><td style="text-align:center">potplayer</td><td style="text-align:center">多功能播放器,不支持swf</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/izgQZ096q0fc">下载</a></td><td style="text-align:center"><a href="https://potplayer.daum.net/">链接</a></td></tr><tr><td style="text-align:center">恒星播放器</td><td style="text-align:center">支持swf</td><td style="text-align:center"><a href="https://pan.baidu.com/s/1MjD9zVQ_3RUT0daFIA4xiw">de25 </a></td><td style="text-align:center"><a href="https://www.stellarplayer.com/">链接</a></td></tr><tr><td style="text-align:center">黑鸟播放器</td><td style="text-align:center">可以看直播，电视频道</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/imsOp096q0vi">下载</a></td><td style="text-align:center"><a href="https://guihet.com/blackbird-player.html">链接</a></td></tr><tr><td style="text-align:center">Shortcut</td><td style="text-align:center">视频剪辑</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/ixXFa0aky8ud">下载</a></td><td style="text-align:center"><a href="https://www.shotcut.org/download/">链接</a></td></tr><tr><td style="text-align:center">aimp</td><td style="text-align:center">音频播放器</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iUrAO0akzofa">下载</a></td><td style="text-align:center"><a href="https://www.aimp.ru/">链接</a></td></tr><tr><td style="text-align:center">VLC</td><td style="text-align:center">比肩potplayer</td><td style="text-align:center"><a href="https://wwqg.lanzouf.com/iopTk0jddd9i">81of</a></td><td style="text-align:center"><a href="https://www.videolan.org/">链接</a></td></tr></tbody></table></div><p><strong>说明：</strong>potplayer看IPTV<a href="https://github.com/iptv-org/iptv">直播源</a>。无法fq上网的，<a href="https://wwu.lanzouv.com/iCgba096pooj">下载这个</a>。iptv源使用方法：复制链接到浏览器地址栏，会下载.m3u文件，使用potplayer打开。</p>              </div>            </details><h2 id="Windows及PE工具"><a href="#Windows及PE工具" class="headerlink" title="Windows及PE工具"></a>Windows及PE工具</h2><details class="folding-tag" blue close><summary> windows10激活工具和PE </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">软件名</th><th style="text-align:center">简介</th><th style="text-align:center">下载</th><th style="text-align:center">官网链接</th></tr></thead><tbody><tr><td style="text-align:center">Windows10_21h2正式版</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://pan.baidu.com/s/1QUARGLXi_IZqePefoyRHlw">q7pz</a></td><td style="text-align:center"><a href="https://www.microsoft.com/en-au/software-download/windows10">链接</a></td></tr><tr><td style="text-align:center">Windows10专业工作站版</td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"><a href="https://www.microsoft.com/en-au/software-download/windows10">链接</a></td></tr><tr><td style="text-align:center">Wingdows10企业评估版</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://software-download.microsoft.com/download/db/444969d5-f34g-4e03-ac9d-1f9786c69161/19044.1288.211006-0501.21h2_release_svc_refresh_CLIENT_LTSC_EVAL_x64FRE_zh-cn.iso">64位官网</a></td><td style="text-align:center"><a href="https://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise">链接</a></td></tr><tr><td style="text-align:center">云萌windows10激活</td><td style="text-align:center">数字激活</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iHgv4091s15a">下载</a></td><td style="text-align:center"><a href="https://cmwtat.cloudmoe.com/cn.html">链接</a></td></tr><tr><td style="text-align:center">HEU KMS Activator</td><td style="text-align:center">功能多</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/ix7Dw091rybi">下载</a></td><td style="text-align:center"><a href="https://github.com/zbezj/HEU_KMS_Activator">链接</a></td></tr><tr><td style="text-align:center">CMD命令行激活</td><td style="text-align:center">三行代码</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iJRHh091sref">下载</a></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">Windows Update Blocker v1.7</td><td style="text-align:center">禁止windows10更新</td><td style="text-align:center"><a href="https://wwqg.lanzouf.com/iEevO0jd66fa">下载</a></td><td style="text-align:center"><a href="https://www.sordum.org/downloads/?st-windows-update-blocker">链接</a></td></tr><tr><td style="text-align:center"><strong>微PE工具箱V2.2</strong></td><td style="text-align:center">简单维护</td><td style="text-align:center"><a href="https://www.123pan.com/s/t9brVv-0G4ph">TJYL</a></td><td style="text-align:center"><a href="https://www.wepe.com.cn/">链接</a></td></tr><tr><td style="text-align:center">Edgeless</td><td style="text-align:center">更强的PE</td><td style="text-align:center"><a href="https://www.123pan.com/s/t9brVv-KG4ph">TJYL</a></td><td style="text-align:center"><a href="https://home.edgeless.top/#download">链接</a></td></tr><tr><td style="text-align:center">firpe</td><td style="text-align:center">简洁、支持ventoy</td><td style="text-align:center"><a href="https://www.123pan.com/s/t9brVv-uG4ph">TJYL</a></td><td style="text-align:center"><a href="https://firpe.cn/page-247">链接</a></td></tr><tr><td style="text-align:center">hotpe</td><td style="text-align:center">b站大神个人开发</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://www.hotpe.top/">链接</a></td></tr><tr><td style="text-align:center">杏雨梨云</td><td style="text-align:center">更智能，更高效，更强大之全新第十代 IQI X Windows</td><td style="text-align:center"><a href="https://www.123pan.com/s/QJh9-aYmtH">po2a</a></td><td style="text-align:center"><a href="https://www.xyboot.com/">链接</a></td></tr><tr><td style="text-align:center">优启通</td><td style="text-align:center">UEFI和bios两种方式</td><td style="text-align:center"><a href="https://pan.baidu.com/share/init?surl=IySdA3an3wzQ6A7erJInKA">ahsr</a></td><td style="text-align:center"><a href="https://www.upe.net/">链接</a></td></tr><tr><td style="text-align:center">U盘魔术师</td><td style="text-align:center">兼容新老硬件，体积最大</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://www.sysceo.com/Software-softwarei-id-129.html">链接</a></td></tr><tr><td style="text-align:center">USBOS</td><td style="text-align:center">终极版维护型PE</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://www.puresys.net/701.html">链接</a></td></tr><tr><td style="text-align:center">Ventoy</td><td style="text-align:center">实现多个系统放到一个U盘，成为多系统启动盘</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://ventoy.net/cn/index.html">链接</a></td></tr></tbody></table></div><p><strong>说明：</strong></p><ul><li>此处系统都是windows10官方的纯净系统，都是最新的21h2版本（2021更新）。建议大家下载系统时最好到官方下载。不建议使用比如ghost魔改的系统，以免出问题。</li><li>Windows10_21h2正式版在官网默认是不显示下载按钮的，需要调整浏览器才会出现。<a href="https://yilanbk.com/posts/9f382a3bcf7c/">点此</a>查看教程。不愿意学的可以直接下载我收藏的。</li><li>Windows10专业工作站版不是ISO文件，下载下来的是windows10安装程序，按照提示安装即可。</li><li>Wingdows10企业评估版只能使用90天并且无法激活，可以先升级成企业正式版再激活即可。<a href="https://yilanbk.com/posts/7f3965fb50b1/">点此</a>查看如何将 Windows 10 Enterprise LTSC 2021 评估版升级到完整版。</li></ul><p><span class='p red h3'>注意：下载HEU KMS前关闭实时病毒防护 ，以免误删。命令行激活，自备密钥</span></p><p><a href="https://learn.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/jj612867v=ws.11#windows-10">微软官方批量激活密钥获取</a>,直接点击会出现404页面找不到。访问方法：在浏览器的地址栏里面，把v=ws.11用英文括号括起来就能访问页面。</p><p><a href="https://www.freedidi.com/6624.html">参考文章</a></p><p><a href="https://www.youtube.com/watch?v=L1YNqxhZBp0">参考视频</a></p>              </div>            </details><h2 id="电脑性能测试工具"><a href="#电脑性能测试工具" class="headerlink" title="电脑性能测试工具"></a>电脑性能测试工具</h2><details class="folding-tag" blue close><summary> 电脑性能测试工具 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th>软件名字</th><th>简介</th><th>下载</th><th>官网链接</th></tr></thead><tbody><tr><td>crystaldiskinfo</td><td>硬盘跑分</td><td><a href="https://wwqg.lanzouf.com/i6Tnk0jd9chg">下载</a></td><td><a href="https://crystalmark.info/en/download/#CrystalDiskMark">链接</a></td></tr><tr><td>国际象棋大师</td><td>CPU测试</td><td><a href="https://wwqg.lanzouf.com/ijnl70jda4xa">下载</a></td><td><a href="http://www.jens-hartmann.at/Fritzmarks/">链接</a></td></tr><tr><td>CPU-Z</td><td>CPU真伪识别</td><td><a href="https://wwqg.lanzouf.com/iujnW0jdaf3g">下载</a></td><td><a href="https://www.cpuid.com/softwares/cpu-z.html">链接</a></td></tr><tr><td>QuickMemoryTestOK</td><td>内存测试</td><td><a href="https://wwqg.lanzouf.com/iYQ8u0jdadef">下载</a></td><td><a href="http://www.softwareok.com/?seite=Microsoft/QuickMemoryTestOK">链接</a></td></tr><tr><td>Furmark</td><td>显卡测试（甜甜圈烤机）</td><td><a href="https://wwqg.lanzouf.com/iHOah0jdarwh">b2y2</a></td><td><a href="https://geeks3d.com/furmark/">链接</a></td></tr><tr><td>Defpix</td><td>显示器测试</td><td><a href="https://wwqg.lanzouf.com/ivnYf0jdarmh">i2vo</a></td><td><a href="https://revocue.cz/en/defective-pixels/">链接</a></td></tr></tbody></table></div>              </div>            </details><h2 id="科研"><a href="#科研" class="headerlink" title="科研"></a>科研</h2><details class="folding-tag" blue close><summary> 科研工具 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">软件名</th><th style="text-align:center">简介</th><th style="text-align:center">下载</th><th style="text-align:center">官网链接</th></tr></thead><tbody><tr><td style="text-align:center">EndnoteX9</td><td style="text-align:center">文献管理，收费</td><td style="text-align:center"><a href="https://pan.baidu.com/s/18ZBQBcxN6Xkg_KjEZTgiHQ">msxk</a></td><td style="text-align:center"><a href="https://endnote.com/">链接</a></td></tr><tr><td style="text-align:center">Readapaper</td><td style="text-align:center">文献阅读</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://readpaper.com/">链接</a></td></tr><tr><td style="text-align:center">ivysci</td><td style="text-align:center">文献阅读</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://www.ivysci.com/">链接</a></td></tr><tr><td style="text-align:center">Origin2022</td><td style="text-align:center">数据可视化</td><td style="text-align:center"><a href="https://www.aliyundrive.com/s/dbujoM1mNdr">4la3</a></td><td style="text-align:center"><a href="https://www.originlab.com/">链接</a></td></tr><tr><td style="text-align:center">SPSS v26.0</td><td style="text-align:center">数据分析</td><td style="text-align:center"><a href="https://pan.baidu.com/s/1eMjA5fqcXBPPQ4gb3UgisQ">z71e</a></td><td style="text-align:center"><a href="https://www.ibm.com/cn-zh/analytics/spss-statistics-software">链接</a></td></tr><tr><td style="text-align:center">Past4.0.3</td><td style="text-align:center">古生物学数据分析</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/ie8n90922vrc">下载</a></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">graphpad prism</td><td style="text-align:center">数据分析</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iVFl60921zxg">下载</a></td><td style="text-align:center"><a href="https://www.graphpad.com/scientific-software/prism/">链接</a></td></tr><tr><td style="text-align:center">SigmaPlot14</td><td style="text-align:center">数据分析</td><td style="text-align:center"><a href="https://www.aliyundrive.com/s/iuT8tMiEU4c">s02w</a></td><td style="text-align:center"><a href="https://systatsoftware.com/sigmaplot/">链接</a></td></tr><tr><td style="text-align:center">Canoco5</td><td style="text-align:center">RDA分析</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iqbpT0921zle">下载</a></td><td style="text-align:center"><a href="http://www.canoco5.com/">链接</a></td></tr><tr><td style="text-align:center">STAMP</td><td style="text-align:center">PCA</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iFTMG0921ysf">下载</a></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">Cytoscape_3_9_1</td><td style="text-align:center">网络分析</td><td style="text-align:center"><a href="https://www.aliyundrive.com/s/2Pz1wLqNfzj">qku4</a></td><td style="text-align:center"><a href="https://cytoscape.org/">链接</a></td></tr><tr><td style="text-align:center">gephi-0.9.3</td><td style="text-align:center">网络分析</td><td style="text-align:center"><a href="https://www.aliyundrive.com/s/crFeScsxNme">9b8z</a></td><td style="text-align:center"><a href="https://gephi.org/">链接</a></td></tr><tr><td style="text-align:center">TBtools</td><td style="text-align:center">生信下游分析</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iHPzx0921zdg">下载</a></td><td style="text-align:center"><a href="https://github.com/CJ-Chen/TBtools/releases">链接</a></td></tr><tr><td style="text-align:center">CiteSpace各版本及java</td><td style="text-align:center">文献计量学</td><td style="text-align:center"><a href="https://pan.baidu.com/s/1I8W68ekmnQu4o_jIXE-EMw">fry0</a></td><td style="text-align:center"><a href="https://citespace.podia.com/">链接</a></td></tr></tbody></table></div>              </div>            </details><h2 id="IOS"><a href="#IOS" class="headerlink" title="IOS"></a>IOS</h2><details class="folding-tag" yellow close><summary> 科研工具 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">软件名</th><th style="text-align:center">简介</th><th style="text-align:center">下载</th><th style="text-align:center">官网链接</th></tr></thead><tbody><tr><td style="text-align:center">iTunes</td><td style="text-align:center">苹果工具</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://support.apple.com/zh-cn/HT210384">链接</a></td></tr><tr><td style="text-align:center">爱思助手</td><td style="text-align:center">苹果工具</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://www.i4.cn/">链接</a></td></tr><tr><td style="text-align:center">iCloud</td><td style="text-align:center">苹果工具</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://support.apple.com/en-us/HT204283">链接</a></td></tr><tr><td style="text-align:center">Sideloadly</td><td style="text-align:center">pc端签名安装ipa</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://sideloadly.io/">链接</a></td></tr><tr><td style="text-align:center">altstore</td><td style="text-align:center">ipa签名+在手机端续签</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://altstore.io/">链接</a></td></tr><tr><td style="text-align:center">Tiktok</td><td style="text-align:center">国际版抖音ipa</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://www.mediafire.com/file/7rtq772su5wsa57/tiktok.ipa/file">链接</a></td></tr><tr><td style="text-align:center">wechat</td><td style="text-align:center">手机端微信双开ipa</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://www.mediafire.com/file/9b14iph2la7q9ma/wechat.ipa/file">链接</a></td></tr></tbody></table></div><p><strong>说明：</strong>不越狱的情况下，想在ios上安装app sore以外的软件，必须签名，而且通常必须要美区appleid。sideloadly可以自动签名安装IPA文件，前提是要安装iTunes并且登录appleid账号，且只能免费签三个ipa，使用期限七天，到期后到电脑再次续签，可重复续签。</p><p><strong>注意：</strong>iTunes和iCloud，必须是apple提供的安装包，<span class='p red h2'>不要下载微软商店提供的</span>。altsore需要两个都安装，它只能提供三个程序签名，使用期限同样是七天，可以在手机上续签（需要电脑打开后后台运行altserver，且电脑和手机使用同一个WiFi）</p>              </div>            </details><h2 id="编程"><a href="#编程" class="headerlink" title="编程"></a>编程</h2><details class="folding-tag" red close><summary> 编程 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">软件名</th><th style="text-align:center">简介</th><th style="text-align:center">下载</th><th style="text-align:center">官网链接</th></tr></thead><tbody><tr><td style="text-align:center">notepad++</td><td style="text-align:center">轻量免费的代码编辑器</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://notepad-plus-plus.org/">链接</a></td></tr><tr><td style="text-align:center">sublimetext</td><td style="text-align:center">强大好用代码编辑器</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://www.sublimetext.com/3">链接</a></td></tr><tr><td style="text-align:center">regester</td><td style="text-align:center">正则表达式测试工具</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iTcYi0924ade">e0bv</a></td></tr></tbody></table></div>              </div>            </details><h2 id="录制"><a href="#录制" class="headerlink" title="录制"></a>录制</h2><details class="folding-tag" red close><summary> 录制 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">软件名</th><th style="text-align:center">简介</th><th style="text-align:center">下载</th><th style="text-align:center">官网链接</th></tr></thead><tbody><tr><td style="text-align:center">capture</td><td style="text-align:center">录屏</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iTvkJ091vimh">下载</a></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">screen to gif</td><td style="text-align:center">录制动态图</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/isHN6091vj8j">下载</a></td></tr></tbody></table></div>              </div>            </details><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><details class="folding-tag" red close><summary> 其他 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:center">软件名</th><th style="text-align:center">简介</th><th style="text-align:center">下载</th><th style="text-align:center">官网链接</th></tr></thead><tbody><tr><td style="text-align:center">ZoomIT</td><td style="text-align:center">注释和缩放</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/icT280alwy7a">下载</a></td><td style="text-align:center"><a href="https://zoomit.en.softonic.com/">链接</a></td></tr><tr><td style="text-align:center">HWiNFO</td><td style="text-align:center">电脑硬件检测</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iUnlp0akxngd">下载</a></td><td style="text-align:center"><a href="https://www.hwinfo.com/download/">链接</a></td></tr><tr><td style="text-align:center">SwordSoft Mousetrack</td><td style="text-align:center">鼠标追踪</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iSzJU0akijeh">下载</a></td><td style="text-align:center"><a href="http://www.swordsoft.idv.tw/mousetrack/">链接</a></td></tr><tr><td style="text-align:center">custom-cursor</td><td style="text-align:center">全局鼠标样式美化</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/i5zPE0akgm8h">下载</a></td><td style="text-align:center"><a href="https://custom-cursor.com/products/custom-cursor-for-windows">链接</a></td></tr><tr><td style="text-align:center">OpenHardWareMonitor</td><td style="text-align:center">windows任务栏显示CPU、GPU温度</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/ijIbv0ak6ufc">下载</a></td><td style="text-align:center"><a href="https://openhardwaremonitor.org/downloads/">链接</a></td></tr><tr><td style="text-align:center">TrafficMonitor</td><td style="text-align:center">windows平台任务栏显示上传和下载速度</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iEkuL091y6ij">下载</a></td><td style="text-align:center"><a href="https://github.com/zhongyang219/TrafficMonitor">链接</a></td></tr><tr><td style="text-align:center">微软文字转语音</td><td style="text-align:center">模仿真人语调</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iHLSV091y7wj">下载</a></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">讯飞语音转文字</td><td style="text-align:center">pc端语音转文字</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iYtCw091y7mj">下载</a></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">手写模拟</td><td style="text-align:center">模拟手写</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/isLE7091y9aj">下载</a></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">谷歌地球</td><td style="text-align:center">足不出户看世界</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/i6UmZ091ya8d">下载</a></td><td style="text-align:center"><a href="https://support.google.com/earth/answer/21955?hl=zh-Hans#zippy=%2C%E5%9C%A8-windows-%E4%B8%8A%E5%AE%89%E8%A3%85-google-%E5%9C%B0%E7%90%83%E4%B8%93%E4%B8%9A%E7%89%88">链接</a></td></tr><tr><td style="text-align:center">maxto</td><td style="text-align:center">分屏</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://maxto.net/zh-hans">链接</a></td></tr><tr><td style="text-align:center">TicKeys</td><td style="text-align:center">打字音效</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iaki2091y82f">下载</a></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">微信多开</td><td style="text-align:center">pc端微信多开</td><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">genpro</td><td style="text-align:center">制作家谱</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iUEtr091yaaf">下载</a></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">周易起名大师</td><td style="text-align:center">给娃起名</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iaQdA09209ub">下载</a></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">磁力搜索助手</td><td style="text-align:center">磁力搜索</td><td style="text-align:center"><a href="https://wwu.lanzouv.com/iOeed091y7yb">下载</a></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">RustDesk</td><td style="text-align:center">桌面远程连接</td><td style="text-align:center"><a href="https://wwqg.lanzouf.com/irw9q0ge6eij">cp1u</a></td><td style="text-align:center"><a href="https://rustdesk.com">连接</a></td></tr><tr><td style="text-align:center">fastcopy</td><td style="text-align:center">大文件拷贝、备份必备</td><td style="text-align:center"></td><td style="text-align:center"><a href="https://fastcopy.jp/">链接</a></td></tr><tr><td style="text-align:center"><strong>Anvi Folder Locker</strong></td><td style="text-align:center">文件夹加密</td><td style="text-align:center"><a href="https://wwqg.lanzouf.com/i6pX20jdcp0f">下载</a></td></tr></tbody></table></div><p><strong>说明：起名大师获取自<a href="https://www.52pojie.cn/forum.php?mod=viewthread&amp;tid=1390359&amp;highlight=%D6%DC%D2%D7%C6%F0%C3%FB%B4%F3%CA%A6">吾爱破解论坛</a>，根据论坛破解教程，程序已经使用od破解。打开程序后显示体验版，点击注册软件，什么都不填直接注册就能成功，显示注册版。</strong></p>              </div>            </details>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>“网盘挂载到本地，免费获得2.5T空间“</title>
      <link href="/posts/f0e3d1b3dba1/"/>
      <url>/posts/f0e3d1b3dba1/</url>
      
        <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><details class="folding-tag" yellow><summary> 网盘账号和软件 </summary>              <div class='content'>              <ul><li><p>适合Windows系统</p></li><li><p>注册115盘和阿里云盘。阿里云盘正常到<a href="https://www.aliyundrive.com/">阿里官网</a>注册即可；115网盘新用户不能注册，不过可以在某宝1.5米买一个账号。阿里云盘免费用户600G 空间，115盘2T空间。天翼云盘只有30G个人空间。</p></li><li>在手机上登录网盘账号，方便后面扫码。</li><li>Cloudrive<a href="https://www.aliyundrive.com/s/6XNBoC1GiFT">软件</a>；提取码 8wei</li><li>根据自己的系统选择对应的安装程序，64位系统选择X64，32位操作系统选X86。国人开发的软件，安装十分简单，不再演示。</li></ul>              </div>            </details><h2 id="软件使用教程"><a href="#软件使用教程" class="headerlink" title="软件使用教程"></a>软件使用教程</h2><details class="folding-tag" ><summary> 点击查看软件使用教程 </summary>              <div class='content'>              <p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/xd3xf9-0.webp" alt="w1"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/xd7uil-0.webp" alt="w2"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/xdjgxt-0.webp" alt="w3"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/xdlx6i-0.webp" alt="w4"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/xdppzh-0.webp" alt="w5"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/xdscqs-0.webp" alt="w6"></p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/xe47y4-0.webp" alt="cover"></p>              </div>            </details><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><details class="folding-tag" yellow><summary> 点击查看注意事项 </summary>              <div class='content'>              <ul><li><p>安装好后或者每次开机，磁盘空间数据显示会有延迟，正常使用，过一会就能显示。</p></li><li><p>上传和下载的速度取决于网速。</p></li><li>它本质还是网盘，只是用起来会更方便，并不能在这里安装软件运行程序；适合存储素材等文件。</li><li>重要的私密文件还是储存到硬盘中。</li></ul>              </div>            </details>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 网盘挂载 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2022最新将hexo部署到GitHub方法</title>
      <link href="/posts/454c4eb4b9eb/"/>
      <url>/posts/454c4eb4b9eb/</url>
      
        <content type="html"><![CDATA[<h3 id="软件和账号"><a href="#软件和账号" class="headerlink" title="软件和账号"></a>软件和账号</h3><details class="folding-tag" cyan close><summary> 点击查看软件和账号 </summary>              <div class='content'>              <ul><li><p>安装以下软件：git，nodejs，hexo</p></li><li><p>一个github账号</p></li></ul><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/x850d1-0.webp" alt="1_1"></p>              </div>            </details><h3 id="github操作"><a href="#github操作" class="headerlink" title="github操作"></a>github操作</h3><details class="folding-tag" cyan close><summary> 点击查看GitHub操作教程 </summary>              <div class='content'>              <div class="note primary no-icon flat"><p><strong>创建gihub仓库</strong></p></div><ol><li>登入到github账号，点击new  (首次创建点create repository)</li><li>在Repository name处照抄左边owner名字+.github.io；必须是”.github.io”结尾</li><li>勾选ADD a README file</li><li>点击下面的Create repository</li></ol><p>有了仓库后，进入你的仓库，点code的下拉按钮，选择ssh，这里的ssh链接后面会用到。</p><div class="note primary no-icon flat"><p><strong>获取github的token</strong></p></div><p><a href="https://blog.csdn.net/chengwenyang/article/details/120060010">参考这篇博客</a></p><div class="note warning disabled"><p><strong>注意：保存好token，退出生成的token页面后就再看不到了！！</strong></p></div>              </div>            </details><h3 id="git命令行操作"><a href="#git命令行操作" class="headerlink" title="git命令行操作"></a>git命令行操作</h3><details class="folding-tag" cyan close><summary> 点击查看git命令行操作 </summary>              <div class='content'>              <div class="note primary no-icon flat"><p><strong>建立博客根目录</strong></p></div><ol><li>选择一个盘符新建Blog文件夹作为Hexo的根目录。例如我选择在“f:/Blog”</li><li>进入”f:/Blog”，右键Git Bash Here</li><li>输入hexo init（初始化博客，这时会在Blog文件夹下生成文件）</li><li>输入npm install（安装相关依赖）</li><li>输入hexo clean （清除缓存）</li><li>输入hexo g（生成静态网页）</li><li>输入 hexo s (预览网站)</li></ol><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/x8bpgp-0.webp" alt="1_22"></p><p>以上没有问题，会给出本地地址，用它可以访问本地网页。</p><div class="note primary no-icon flat"><p><strong>获取访问github权限</strong></p></div><div class="note primary disabled"><p><strong>配置git，在桌面右键Git Bash Here，依次输入下面两条命令：</strong></p></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email <span class="string">&quot;此处填写注册github账号的邮箱&quot;</span></span><br><span class="line">git config --global user.name <span class="string">&quot;此处填写github账号的用户名&quot;</span></span><br></pre></td></tr></table></figure><p>成功后会在你的”C://user/你的用户名”下有.gitconfig文件。强烈建议找文件使用<a href="https://www.voidtools.com/zh-cn/">everything</a></p><div class="note primary disabled"><p><strong>配置SSH</strong>：</p></div><p>​        在桌面右键Git Bash Here，输入命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;你的github邮箱&quot;</span></span><br></pre></td></tr></table></figure><p>​        然后，一路enter，按三次enter。会生成.ssh文件，找到它，这里面的id_rsa.pub就是ssh密钥。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/x8tx6h-0.webp" alt="简单图床 - EasyImage"></p><p>​            进入你的github账户，在屏幕右上角你的头像上点击下拉箭头，找到settings，点击进去。点击SSH and             GPG keys。把你的SSH复制进去。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/xa6u96-0.webp" alt="简单图床 - EasyImage"></p><div class="note primary no-icon flat"><p><strong>修改站点配置文件_config.yml</strong></p></div><p>首先找到Blog文件夹下的_config.yml，用notepad++或者其他编辑器打开，都没有用记事本打开。</p><div class="note primary disabled"><p><strong>修改默认url</strong></p></div><p>之前创建的github仓库，点setting，点pages，就能看到链接。把它复制到这里。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/xbdcau-0.webp" alt="1_3"></p><div class="note primary disabled"><p><strong>修改deploy</strong></p></div><p>首先进入网站根目录Blog右键Git Bash Here。输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save  </span><br></pre></td></tr></table></figure><p>修改站点配置文件_config.yml的deploy，如果找不到deploy，可以自己写</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/xbufct-0.webp" alt="1_2"></p><p>repo处输入之前创建好的仓库SSH链接</p><p>branch处的输入有争议，我看到的教学有输入master的，也有说master不再适用，需要输入main。</p><p><strong>个人情况说明：我在branch处输入main后，确实部署成功，但是有问题，部署到github的网页显示与本地不一样。我发现github仓库的默认branch是gh-pages，所以尝试了下改成上图的gh-pages重新部署一遍，问题解决。所以在创建完仓库后，一定要看看你自己仓库默认的branch是啥，上图的branch要与github默认的一致！！！每个人可能不一样。现在大多数都是main</strong></p><div class="note primary no-icon flat"><p><strong>开始部署</strong></p></div><p>​        依次输入下面命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>​        然后，会弹出要你登录github的对话框，弹窗有两个登录选择，一个是账号登录，一个是token登录。一        定选择token，选择账号无法登录，还得重新来一遍。</p><p>​        如果此步之后没有弹出登录对话框，说明有错误。    </p>              </div>            </details><h3 id="部署时可能遇到的问题和解决方法"><a href="#部署时可能遇到的问题和解决方法" class="headerlink" title="部署时可能遇到的问题和解决方法"></a>部署时可能遇到的问题和解决方法</h3><details class="folding-tag" cyan close><summary> 点击查看个人部署时遇到的问题和解决方法 </summary>              <div class='content'>              <ul><li>SpawnFailed错误</li></ul><p><a href="https://douzaixue.github.io/2021/05/27/SpawnFailed%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/#more">参考了小豆同学</a>的解决方法一，再次配置了一遍git。解决了。</p><ul><li>通过github访站点发现没有样式，与本地访问不一样。</li></ul><p><a href="https://blog.csdn.net/GAI159/article/details/105128186">参考博文</a>，这篇博文提醒了修改branch。问题解决的关键就是github仓库默认的branch是啥，站点配置文件_config的deploy处就输入啥，只要输入的和github默认的保持一致即可。下图点进去就能看到默认的branch。我的这里面有一个是之前在配置文件里面添加的main，另一个是默认额gh-pages。</p><p><img src="https://yilan-picbed.oss-cn-hangzhou.aliyuncs.com/tjyl-img/2022/12/25/xcbr6h-0.webp" alt="1_5"></p>              </div>            </details>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
